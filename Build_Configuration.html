<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Build Configuration - Whonix
 url: ./Build_Configuration
-->
<head>
<meta charset="utf-8"/>
<title>Build Configuration - Whonix</title>
<link rel=stylesheet type=text/css href=style.css>




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.35.2" name="generator"/>
<meta content="Non-Qubes-Whonix ™ Build Configuration. APT Repository, Onion Sources, APT Cache, VM Settings, Skip Steps, Source Code Changes" name="description"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Build_Configuration&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Build_Configuration&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/w/images/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="//www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="Build Configuration" property="og:title"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="./Build_Configuration" property="og:url"/>
<meta content="Non-Qubes-Whonix ™ Build Configuration. APT Repository, Onion Sources, APT Cache, VM Settings, Skip Steps, Source Code Changes" property="og:description"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" property="og:image"/>
<meta content="2021-05-02T13:09:35Z" property="article:modified_time"/>
<meta content="2021-05-02T13:09:35Z" property="article:published_time"/>

<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Build_Configuration rootpage-Build_Configuration skin-foreground action-view"><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><p><!-- Widget:Sitenotice start -->
<style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}

#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;

 background-image:url(data:image/png;base64,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);

 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="./Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
<span><b>Please Donate!</b></span>
</div>
</a>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:Sitenotice end -->
</p></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Build_Configuration" href="./Build_Configuration.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Build_Configuration&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Build_Configuration&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Build_Configuration&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Build_Configuration&amp;action=history" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Build Configuration</h1>
<h3 id="tagline">From Whonix</h3> <h5 class="subtitle" id="siteSub"></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p class="mw-empty-elt">
</p><p>Note: All of the following build configuration steps are optional.
</p><p><button onclick="expand()">Expand all</button>
<button onclick="collapse()">Collapse all</button>

</p><p><b>Introduction</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p>Usually the build configuration does not need to be changed. Whonix ™ built from source code comes with safe defaults. Whonix's APT Repository will <b>not</b> be used.
</p><p>The most interesting build configurations (Terminal-Only, NoDefaultApps etc.) are documented in the following chapters.
</p><p>If you are interested, click on Expand on the right.
</p>
<div class="mw-collapsible-content">
<p>If build configurations were used earlier, it might be better to delete the build configuration folder. A few example filenames may have changed since the last build.
</p>
<pre>sudo rm -r /etc/whonix_buildconfig.d
</pre>
<p>Alternatively, experts can manually examine the <i><span style="background-color:#FBFBFB">/etc/whonix_buildconfig.d</span></i> folder and change its contents to suit their preferences.
</p><p><i><span style="background-color:#FBFBFB">/etc/whonix_buildconfig.d</span></i> is a <a class="mw-redirect" data-href="/wiki/Whonix_Configuration_Files" href="./Whonix_Configuration_Files.html" title="Whonix Configuration Files">modular flexible .d style configuration folder</a>.
</p><p>Less popular build configurations are documented in the <i><span style="background-color:#FBFBFB">buildconfig.d</span></i> folder and on the <a data-href="/wiki/Dev/Source_Code_Intro#Build_Configuration" href="./Dev/Source_Code_Intro.html" title="Dev/Source Code Intro">Dev/Source_Code_Intro#Build_Configuration</a> page, but it is less user-friendly.
</p><p>To avoid typos, it is best to copy and paste text when creating build configuration files. Take care that editors do not capitalize variable names which are supposed to be lower case during copy and paste procedures.
</p>
</div>
</div>
<hr/>
<p><b>Platforms Choice</b>
</p><p>Advanced users can create 32-bit instead of 64-bit builds.
</p><p>If you are interested, click on Expand on the right.
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<ul><li>Whonix ™ is 64-bit by default. <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup></li></ul>
<p>To build Whonix ™ 32-bit, add the following build parameter.
</p>
<pre>--arch i386
</pre>
<ul><li>kFreeBSD is entirely untested and most likely needs additional work (see footnotes). <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup></li></ul>
<ul><li>Whonix ™ for arm64 development discussion (working and tested with QEMU on Mac M1):</li></ul>
<pre>--arch arm64
</pre>
<ul><li><ul><li><a class="external free" data-href="https://forums.whonix.org/t/whonix-for-arm64" href="https://forums.whonix.org/t/whonix-for-arm64" rel="noreferrer noopener" target="_blank">https://forums.whonix.org/t/whonix-for-arm64</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-for-arm64" href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-for-arm64" rel="noreferrer noopener" target="_blank">[archive]</a></sup></li>
<li><a class="external free" data-href="https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310" href="https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310" rel="noreferrer noopener" target="_blank">https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310" href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-on-mac-with-arm-m1/11310" rel="noreferrer noopener" target="_blank">[archive]</a></sup></li></ul></li></ul>
<ul><li>Generally speaking, 64-bit builds cannot be created if running a 32-bit host kernel. See footnotes. <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup> <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup></li></ul>
</div>
</div>
<hr/>
<p><span id="repository"></span>
<b>Whonix ™ APT Repository</b>
</p><p><a data-href="/wiki/Non-Qubes-Whonix" href="./Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix ™</a>:<br/>
<u>Whonix ™ APT Repository</u> is <u>disabled by default</u> <sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup> for <u>builds from source code</u> for reasons of <a data-href="/wiki/Trust" href="./Trust.html" title="Trust">Trust</a>. Users can decide to update Whonix ™ Debian packages by building them from source code (greater security). Alternatively, Whonix ™ APT repository can be enabled right after building or after booting the build for the first time (greater convenience) using <a data-href="/wiki/Project-APT-Repository" href="./Project-APT-Repository.html" title="Project-APT-Repository">Whonix ™ repository tool</a>. To use the latter method which sacrifices security for convenience, click on Expand on the right side.
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<p>Do you want to <u>opt-in</u> <u>Whonix ™ APT Repository</u>?
</p><p>The easy way to add Whonix ™ <code>stable</code> repository the following command line option can be used.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>--repo true</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">--repo true</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p><p>Other settings can be set using an environment variable or <a data-href="/wiki/Dev/Source_Code_Intro#Build_Configuration" href="./Dev/Source_Code_Intro.html" title="Dev/Source Code Intro">build configuration</a>. Below are examples using an environment variable.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable'</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable'</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
<!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository testers'</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository testers'</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
<!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository developers'</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository developers'</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
<!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>DERIVATIVE_APT_REPOSITORY_OPTS='--enable --codename buster'</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">DERIVATIVE_APT_REPOSITORY_OPTS='--enable --codename buster'</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p><p>Add an environment variable as one normally does on that specific Linux platform. For example, to enable the Whonix ™ stable repository during build, you could set <code>DERIVATIVE_APT_REPOSITORY_OPTS</code> by interjecting it between <code>sudo</code> and the <code>./whonix_build</code> command. Below is an example. Do not use <code>[...]</code>. Replace it with other chosen build parameters (such as <code>--build</code>, <code>--target</code> etc.) after <code>./whonix_build</code>.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable' ./whonix_build [...]</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable' ./whonix_build [...]</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p>
</div>
</div>
<hr/>
<p><b>APT Onion Build Sources</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p>For better build security, you can also use onions apt sources for building Whonix ™.
</p><p>If you are interested, click on Expand on the right. 
</p>
<div class="mw-collapsible-content">
<p><b>This does not ensure all of Whonix's build process will be torified!</b> See <a data-href="/wiki/Dev/Build_Anonymity" href="./Dev/Build_Anonymity.html" title="Dev/Build Anonymity">Build Anonymity</a>.
</p>
<pre>--connection onion
</pre>
</div>
</div>
<hr/>
<p><b>Torified or Host APT Cache</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p>Using an apt cache will greatly improve build speed when building several times in a row (e.g. when debugging, during development). Whonix ™ build script sets up an apt cache by default.
</p><p>If you are interested in a torified apt-cacher-ng or host apt-cacher-ng, click on Expand on the right.
</p>
<div class="mw-collapsible-content">
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>torified apt-cacher-ng</b>
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>The following torified apt-cacher-ng setup only has to be applied, if you are building using onion apt sources using <code>--connection onion</code>. When building inside Whonix-Workstation ™, this is not required.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><a class="image" data-href="/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;"><img alt="Ambox warning pn.svg.png" data-src="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/40px-Ambox_warning_pn.svg.png" data-srcset="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/60px-Ambox_warning_pn.svg.png 1.5x, /w/images/thumb/f/f7/Ambox_warning_pn.svg.png/80px-Ambox_warning_pn.svg.png 2x" decoding="async" height="35" src="data:image/png;base64,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" width="40"/></a> Note, this neither torifies all of the build script's connections nor hides Tor from your ISP! See <a data-href="/wiki/Dev/Build_Anonymity" href="./Dev/Build_Anonymity.html" title="Dev/Build Anonymity">Build Anonymity</a>.
</p>
</div>
<p>Install <code>apt-cacher-ng</code>, <code>torsocks</code> and <code>tor</code>.
</p>
<pre>sudo apt-get install apt-cacher-ng torsocks tor
</pre>
<p>Create folder apt-cacher-ng systemd drop-in folder <code>/lib/systemd/system/apt-cacher-ng.service.d</code>.
</p>
<pre>sudo mkdir -p /lib/systemd/system/apt-cacher-ng.service.d
</pre>
<p>Open file <code>/lib/systemd/system/apt-cacher-ng.service.d/50_user.conf</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="./Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="./Software.html" title="Software">this link</a>.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /lib/systemd/system/apt-cacher-ng.service.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudoedit /lib/systemd/system/apt-cacher-ng.service.d/50_user.conf</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p>
</div>
<p>Add.
</p>
<pre>[Service]
ExecStart=
ExecStart=torsocks /usr/sbin/apt-cacher-ng SocketPath=/run/apt-cacher-ng/socket -c /etc/apt-cacher-ng ForeGround=1
</pre>
<p>Save.
</p><p>Reload systemd.
</p>
<pre>sudo systemctl daemon-reload
</pre>
<p>Restart apt-cacher-ng.
</p>
<pre>sudo systemctl restart apt-cacher-ng
</pre>
</div>
</div>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>host apt-cacher-ng</b>
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>Be sure to have a firewall, so the whole internet cannot use the apt-cacher-ng service.
</p><p>When building inside a non-Whonix VM, an apt cache can be used on the host. In that case, adjust the IP accordingly and manually test that it is reachable. When building inside a (Whonix ™) VM, just install the apt cache inside the VM and point to a localhost apt cache.
</p><p>Prepend <code>REPO_PROXY=<a class="external free" data-href="http://127.0.0.1:3142" href="http://127.0.0.1:3142" rel="noreferrer noopener" target="_blank">http://127.0.0.1:3142</a> <sup><a data-href="https://web.archive.org/web/http://127.0.0.1:3142" href="https://web.archive.org/web/http://127.0.0.1:3142" rel="noreferrer noopener" target="_blank">[archive]</a></sup></code> before the build command.
</p><p>Replace the IP <code>127.0.0.1</code> with the IP address of your host. For security reasons, this should only be done over LAN and not over the internet.
</p>
<pre>sudo REPO_PROXY=http://127.0.0.1:3142 ./whonix_build ...
</pre>
</div>
</div>
</div>
</div>
<p><br/>
</p>
<hr/>
<p><b>VM Settings</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<p>This is only relevant for VM builds.
</p><p>Several examples are below. Values can be changed to suit user preferences.
</p><p>VirtualBox's <code>--vmsize</code> option (virtual RAM).
</p>
<pre>--vmram 128
</pre>
<p>VirtualBox's <code>--vram</code> option (virtual video RAM).
</p>
<pre>--vram 128
</pre>
<p>grml-debootstrap's <code>--vmsize</code> option.
</p>
<pre>--vmsize 200G
</pre>
<p><a class="external text" data-href="http://manpages.debian.org/grml-debootstrap" href="http://manpages.debian.org/grml-debootstrap" rel="noreferrer noopener" target="_blank"><code>grml-debootstrap</code>'s</a> <sup><a data-href="https://web.archive.org/web/http://manpages.debian.org/grml-debootstrap" href="https://web.archive.org/web/http://manpages.debian.org/grml-debootstrap" rel="noreferrer noopener" target="_blank">[archive]</a></sup> <code>--filesystem</code> option.
</p>
<pre>--filesystem ext4
</pre>
<p>grml-debootstrap's <code>--hostname</code> option. <sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup>
</p>
<pre>--hostname host
</pre>
<p>grml-debootstrap's <code>--password</code> option.
</p>
<pre>--os-password changeme
</pre>
<p>grml-debootstrap's <code>--debopt</code> option.
</p>
<pre>--debopt "--verbose"
</pre>
<p><br/>
</p>
</div>
</div>
<hr/>
<p><b>Build Variables Changes</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<p><u>Build Configuration Folders</u>:
</p><p>You can drop configuration file either in:
</p>
<ol><li><code>buildconfig.d</code> or in</li>
<li><code>/etc/whonix_buildconfig.d</code></li>
<li><code>../buildconfig.d</code> folder.</li></ol>
<p>Files should have the file extension <code>.conf</code>.
</p><p>Method 2. is recommended for users.
</p>
<ol><li>Contains examples. It is more difficult to use. <sup class="reference" id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup> Rather use the following.</li>
<li><code>sudo mkdir --parents /etc/whonix_buildconfig.d</code></li>
<li>When <code>/home/user/Whonix</code> is your Whonix ™ source folder, you could use <code>/home/user/buildconfig.d</code> as your Whonix ™ build configuration folder. It is easier to use, since you don't have to git commit your build config files.</li></ol>
<p><sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup>
</p><p>Below is an example how to use method 2.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo mkdir /etc/whonix_buildconfig.d</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo mkdir /etc/whonix_buildconfig.d</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p><p>Open file <code>/etc/whonix_buildconfig.d/50_user.conf</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="./Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="./Software.html" title="Software">this link</a>.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /etc/whonix_buildconfig.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudoedit /etc/whonix_buildconfig.d/50_user.conf</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p>
</div>
<p>Add. (Replace it with whatever build configuration variable you wish to set.)
</p><p>Example 1.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>export DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable'</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">export DERIVATIVE_APT_REPOSITORY_OPTS='--enable --repository stable'</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p><p>Example 2.
</p><p><!-- Widget:CodeSelect start -->
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>export tbb_version=9.5</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">export tbb_version=9.5</textarea>
</div>
</div>
<!-- open p tag -->
<p>
<!-- but do not close p tag since something unidentified (widgets extension maybe) adds an extraneous closing p tag -->
<!-- Widget:CodeSelect end -->
</p><p>Save.
</p><p>Done.
</p>
</div>
</div>
<hr/>
<p><b>Skip Steps</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<p><u>Skip Sanity Tests</u>
</p><p>Useful to speed up the build.
</p>
<pre>--sanity-tests false
</pre>
<p><u>Skipping Build Steps</u>
</p>
<pre>export SKIP_SCRIPTS+=" 1300_create-raw-image "
</pre>
<p><u>Skipping Chroot and/or Postinst Scripts</u>
</p>
<pre>export SKIP_SCRIPTS+=" dist-base-files.postinst "
</pre>
<p>Look at the file names and add them. <code>export SKIP_SCRIPTS+=" another_file_name "</code>. Do not forget empty spaces before and after <code>"</code>. <sup class="reference" id="cite_ref-bash-array_10-0"><a href="#cite_note-bash-array-10">[10]</a></sup>
</p>
</div>
</div>
<hr/>
<p><b>Source Code Changes</b>
</p><p><b>This is only required if changes were made to the <code>Whonix</code> source folder! In that case click on Expand on the right.</b> <br/>
<b>This is not required if only a customized build configuration was added to the <code>/etc/whonix_buildconfig.d</code> folder.</b>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<div class="mw-collapsible-content">
<p>If changes were made to the Whonix ™ source code, it is the easiest to use the following build parameter.
</p>
<pre>--allow-uncommitted true
</pre>
<p>Or if not building from a git tag, it is the easiest to use the following build parameter.
</p>
<pre>--allow-untagged true
</pre>
<p>Otherwise, changes must be committed to git first, before creating a git tag.
</p>
</div>
</div>
<p><br/>
</p>
<hr/>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Build_Configuration&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;action=edit&amp;section=1.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text">
<a class="external text" data-href="https://forums.whonix.org/t/state-of-offical-64-bit-builds" href="https://forums.whonix.org/t/state-of-offical-64-bit-builds" rel="noreferrer noopener" target="_blank">State of official 64-bit builds</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/state-of-offical-64-bit-builds" href="https://web.archive.org/web/https://forums.whonix.org/t/state-of-offical-64-bit-builds" rel="noreferrer noopener" target="_blank">[archive]</a></sup>.</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text">
Don't get confused by the term <code>amd64</code>. It runs on both, Intel and AMD. <code>amd64</code> is only how Debian names the kernel. It works equally well on Intel and AMD.</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">↑</a></span> <span class="reference-text">

kFreeBSD (32-bit). 

<pre>--arch kfreebsd-i386 --kernel kfreebsd-image --headers kfreebsd-headers
</pre>
<p>kFreeBSD (64-bit).
</p>
<pre>--arch kfreebsd-amd64 --kernel kfreebsd-image --headers kfreebsd-headers
</pre></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/grml/grml-debootstrap/pull/13" href="https://github.com/grml/grml-debootstrap/pull/13" rel="noreferrer noopener" target="_blank">https://github.com/grml/grml-debootstrap/pull/13</a> <sup><a data-href="https://web.archive.org/web/https://github.com/grml/grml-debootstrap/pull/13" href="https://web.archive.org/web/https://github.com/grml/grml-debootstrap/pull/13" rel="noreferrer noopener" target="_blank">[archive]</a></sup></span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">↑</a></span> <span class="reference-text">In this case, try installing the packages <span style="border:1px dotted #005cb9">linux-image-amd64</span> and <span style="border:1px dotted #005cb9">linux-headers-amd64</span> on your host, then boot the amd64 kernel by choosing it in the boot menu. The whole system does not require re-installation; just be sure to boot with an amd64 kernel. Alternatively, consider to re-install your host using amd64.</span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">↑</a></span> <span class="reference-text">
Since Whonix ™ <code>7.3.3</code></span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">↑</a></span> <span class="reference-text">
The <a class="external text" data-href="https://github.com/Whonix/anon-base-files" href="https://github.com/Whonix/anon-base-files" rel="noreferrer noopener" target="_blank">anon-base-files</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/anon-base-files" href="https://web.archive.org/web/https://github.com/Whonix/anon-base-files" rel="noreferrer noopener" target="_blank">[archive]</a></sup> package will change this later on.</span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite_ref-8">↑</a></span> <span class="reference-text">
Since you would have to either:

<ul><li>A) git commit your build config files, OR,</li>
<li>B) See chapter source code changes below.</li></ul>
</span></li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">↑</a></span> <span class="reference-text">This is because <code>..</code> means "one level below this folder".</span>
</li>
<li id="cite_note-bash-array-10"><span class="mw-cite-backlink"><a href="#cite_ref-bash-array_10-0">↑</a></span> <span class="reference-text">
We are expanding a bash array.</span>
</li>
</ol></div></div>
<!-- Saved in parser cache with key www.whonix.org:stable-pcache:idhash:483-0!canonicalwww.whonix.org and timestamp 20210619140826 and revision id 65152
 -->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;oldid=65152" dir="ltr" href="https://www.whonix.org/w/index.php?title=Build_Configuration&amp;oldid=65152">https://www.whonix.org/w/index.php?title=Build_Configuration&amp;oldid=65152</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Development" href="./Category:Development.html" title="Category:Development">Development</a></li></ul></div><div class="mw-hidden-catlinks mw-hidden-cats-hidden" id="mw-hidden-catlinks">Hidden category: <ul><li><a data-href="/wiki/Category:Documentation" href="./Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
<div id="mw-data-after-content">
<div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span></div><form method="POST"><div class="oo-ui-layout oo-ui-horizontalLayout"><span aria-disabled="false" class="oo-ui-widget oo-ui-widget-enabled oo-ui-buttonElement oo-ui-buttonElement-framed oo-ui-labelElement oo-ui-flaggedElement-progressive oo-ui-buttonWidget"><a aria-disabled="false" class="oo-ui-buttonElement-button" data-href="/wiki/Terms_of_Service" href="./Terms_of_Service" rel="nofollow" role="button" tabindex="0"><span class="oo-ui-iconElement-icon oo-ui-iconElement-noIcon oo-ui-image-progressive"></span><span class="oo-ui-labelElement-label">More information</span><span class="oo-ui-indicatorElement-indicator oo-ui-indicatorElement-noIndicator oo-ui-image-progressive"></span></a></span><span aria-disabled="false" class="oo-ui-widget oo-ui-widget-enabled oo-ui-inputWidget oo-ui-buttonElement oo-ui-buttonElement-framed oo-ui-labelElement oo-ui-flaggedElement-primary oo-ui-flaggedElement-progressive oo-ui-buttonInputWidget"><button aria-disabled="false" class="oo-ui-inputWidget-input oo-ui-buttonElement-button" name="disablecookiewarning" tabindex="0" type="submit" value="OK"><span class="oo-ui-iconElement-icon oo-ui-iconElement-noIcon oo-ui-image-invert"></span><span class="oo-ui-labelElement-label">OK</span><span class="oo-ui-indicatorElement-indicator oo-ui-indicatorElement-noIndicator oo-ui-image-invert"></span></button></span></div></form></div>
</div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left-ul">
<li id="footer-lastmod"> </li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="./DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>
 </body>
<!-- Cached 20210621130022 -->
</html>
