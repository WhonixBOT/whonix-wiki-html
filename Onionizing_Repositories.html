<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Onionizing Repositories - Whonix
 url: ./Onionizing_Repositories
 date: Fri Jan 18 08:02:39 2019
-->
<head>
<meta charset="utf-8"/>
<title>Onionizing Repositories - Whonix</title>
<link rel="stylesheet" type="text/css" href="style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/f/f9/Onionrepository23234.jpg" name="image"/>
<meta content="https://www.whonix.org/w/images/f/f9/Onionrepository23234.jpg" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="Onionizing Repositories Guide" name="description"/>
<meta content="Onionizing Repositories Guide" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="https://www.whonix.org/favicon.ico" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Onionizing Repositories" property="og:title"/>
<meta content="./Onionizing_Repositories" property="og:url"/>
<meta content="https://www.whonix.org/w/images/f/f9/Onionrepository23234.jpg" property="og:image"/>
<meta content="Onionizing Repositories Guide" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Onionizing_Repositories rootpage-Onionizing_Repositories skin-foreground action-view"><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,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);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Payments" href="./Payments.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires money to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Onionizing_Repositories" href="./Onionizing_Repositories.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Onionizing_Repositories&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Onionizing_Repositories&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Onionizing_Repositories&amp;action=history" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Onionizing Repositories</h1>
<h5 class="subtitle" id="siteSub"></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<table class="wikitable" style="background-color: #fff;text-align: center">
<tbody><tr>
<th colspan="2">About this <i><span style="background-color:#FBFBFB">Onionizing Repositories</span></i> Page
</th></tr>
<tr>
<th>Support Status
</th>
<th>stable
</th></tr>
<tr>
<th>Difficulty
</th>
<th>easy
</th></tr>
<tr>
<th><a data-href="/wiki/Contribute#Maintainer" href="./Contribute.html" title="Contribute">Maintainer</a>
</th>
<th><a class="external text" data-href="https://forums.whonix.org/users/0brand" href="https://forums.whonix.org/users/0brand" rel="noreferrer noopener" target="_blank">0brand</a>
</th></tr>
<tr>
<th>Support
</th>
<th><a data-href="/wiki/Support" href="./Support.html" title="Support">Support</a>
</th></tr>
</tbody></table>
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Qubes_Packages"><span class="tocnumber">2</span> <span class="toctext">Qubes Packages</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#dom0"><span class="tocnumber">2.1</span> <span class="toctext">dom0</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Fedora_Template"><span class="tocnumber">2.2</span> <span class="toctext">Fedora Template</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Debian_and_Whonix_Templates"><span class="tocnumber">2.3</span> <span class="toctext">Debian and Whonix Templates</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Fedora_Packages"><span class="tocnumber">3</span> <span class="toctext">Fedora Packages</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Whonix_and_Debian_Packages"><span class="tocnumber">4</span> <span class="toctext">Whonix and Debian Packages</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#Whonix_Templates"><span class="tocnumber">4.1</span> <span class="toctext">Whonix Templates</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Debian_Templates"><span class="tocnumber">4.2</span> <span class="toctext">Debian Templates</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Onionize_Tor_Project_Updates"><span class="tocnumber">5</span> <span class="toctext">Onionize Tor Project Updates</span></a>
<ul>
<li class="toclevel-2 tocsection-11"><a href="#Non-Qubes-Whonix_and_Qubes-Whonix_R3.2"><span class="tocnumber">5.1</span> <span class="toctext">Non-Qubes-Whonix and Qubes-Whonix R3.2</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Qubes_R4"><span class="tocnumber">5.2</span> <span class="toctext">Qubes R4</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Add_the_Tor_Signing_Key"><span class="tocnumber">5.2.1</span> <span class="toctext">Add the Tor Signing Key</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Onionize_the_Sources_File"><span class="tocnumber">5.2.2</span> <span class="toctext">Onionize the Sources File</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Footnotes"><span class="tocnumber">6</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=1.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Starting with Whonix 14, Debian and Whonix packages are preferably updated using available onion services. Clearnet is used as a fallback. <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> However, users can opt to manually configure Debian and Whonix updates to take place exclusively via a Tor onion service for better security. This is currently <a class="mw-redirect" data-href="/wiki/Undocumented" href="./Undocumented.html" title="Undocumented">undocumented</a>.
</p><p>Qubes package updates still point to repositories with a http:// URI. <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup> However, users can opt to manually configure Qubes package updates to take place via a Tor onion service.
</p><p>There are several security and privacy benefits of using Tor onion services: <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>
</p>
<ul><li>The user cannot be uniquely targeted for malicious updates (attackers are forced to attack everyone requesting the update).</li>
<li>The package repository, or observers watching it, can't track what programs are installed.</li>
<li>The ISP cannot easily learn what packages are fetched.</li>
<li>End-to-end authentication and encryption provides protection against man-in-the-middle attacks (like version downgrade attacks).</li></ul>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">While Qubes and Whonix maintain both v2 and v3 onion addresses, users are strongly encouraged to prefer v3 <i>.onion</i> connections which provide additional improvements and security benefits over the v2 legacy system. <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup></div></td></tr></tbody></table>
<h1><span class="mw-headline" id="Qubes_Packages">Qubes Packages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=2.html" title="Edit section: Qubes Packages">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Configuring Qubes to use Tor onion service repositories for updates is a simple process. Since Qubes .onion repositories definitions are installed by default, users only need to comment out the http:// URI repository definitions and uncomment the Tor .onion repositories definitions. 
</p><p>If the term "comment" is unfamiliar, please follow <a class="external text" data-href="https://www.howtogeek.com/118389/how-to-comment-out-and-uncomment-lines-in-a-configuration-file/" href="https://www.howtogeek.com/118389/how-to-comment-out-and-uncomment-lines-in-a-configuration-file/" rel="noreferrer noopener" target="_blank">this link</a> to learn how to comment / uncomment lines in a configuration file. 
</p>
<h2><span class="mw-headline" id="dom0">dom0</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=3.html" title="Edit section: dom0">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>1.</b> In a dom0 terminal, open the qubes-dom0.repo configuration file in a text editor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/yum.repos.d/qubes-dom0.repo</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/yum.repos.d/qubes-dom0.repo</textarea>
</div>
</div>
<p>Next, comment out (#) the 4 lines that contain qubes-os.org
</p><p>Then, uncomment the 4 lines that contain sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion
</p><p>When completed each of the 4 code blocks will have http repository lines similar to the following example.
</p>
<pre>#baseurl = http://yum.qubes-os.org/r$releasever/current/dom0/fc25
baseurl = http://yum.sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion/r$releasever/current/dom0/fc25</pre>
<p>Save and exit.
</p><p><b>2.</b> In a dom0 terminal, open the qubes-templates.repo configuration file in a text editor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/yum.repos.d/qubes-templates.repo</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/yum.repos.d/qubes-templates.repo</textarea>
</div>
</div>
<p>Next, comment out (#) all lines that contain qubes-os.org
</p><p>Then, uncomment all lines that contain sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion
</p><p>When completed each of the 2 code blocks will have http repository lines similar to the following example. 
</p>
<pre>#baseurl = http://yum.qubes-os.org/r$releasever/templates-itl
baseurl = http://yum.sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion/r$releasever/templates-itl</pre>
<p>Save and exit.
</p><p><b>3.</b> In dom0 terminal, confirm both onionized repositories are functional.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo qubes-dom0-update</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo qubes-dom0-update</textarea>
</div>
</div>
<h2><span class="mw-headline" id="Fedora_Template">Fedora Template</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=4.html" title="Edit section: Fedora Template">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>1.</b> In Fedora TemplateVM, open the qubes-r4.repo configuration file in a text editor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo gedit /etc/yum.repos.d/qubes-r4.repo</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo gedit /etc/yum.repos.d/qubes-r4.repo</textarea>
</div>
</div>
<p>Next, comment out (#) all lines that contain qubes-os.org
</p><p>Then, uncomment all lines that contain an sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion
</p><p>When completed each of the 4 code blocks will have http repository lines similar to the following example.
</p>
<pre>#baseurl = http://yum.qubes-os.org/r4.0/current/vm/fc$releasever
baseurl = http://yum.sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion/r4.0/current/vm/fc$releasever</pre>
<p>Save and exit.
</p><p><b>2.</b> In Fedora terminal, confirm the onionized repositories are functional.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo dnf update</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo dnf update</textarea>
</div>
</div>
<h2><span class="mw-headline" id="Debian_and_Whonix_Templates">Debian and Whonix Templates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=5.html" title="Edit section: Debian and Whonix Templates">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>1.</b> In Debian and Whonix TempateVMs, open the sources.list file in a text editor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/apt/sources.list.d/qubes-r*.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/apt/sources.list.d/qubes-r*.list</textarea>
</div>
</div>
<p><b>2.</b> Comment out (#) the first line under Main qubes updates repository. 
</p><p>The first code block should look similar to this.
</p>
<pre> # Main qubes updates repository
#deb [arch=amd64] http://deb.qubes-os.org/r4.0/vm stretch main
#deb-src http://deb.qubes-os.org/r4.0/vm stretch main</pre>
<p><b>3.</b> Uncomment the corresponding line under Qubes Tor updates repositories. 
</p><p>The first code block should look similar to this.
</p>
<pre># Qubes Tor updates repositories
# Main qubes updates repository
deb [arch=amd64] http://deb.sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion/r4.0/vm stretch main
#deb-src http://deb.sik5nlgfc5qylnnsr57qrbm64zbdx6t4lreyhpon3ychmxmiem7tioad.onion/r4.0/vm stretch main</pre>
<p>Save and exit.
</p>
<h1><span class="mw-headline" id="Fedora_Packages">Fedora Packages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=6.html" title="Edit section: Fedora Packages">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Updating Fedora packages in Qubes Fedora Template exclusively over onions is unavailable since Fedora does not provide updates over onions. 
</p>
<h1><span class="mw-headline" id="Whonix_and_Debian_Packages">Whonix and Debian Packages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=7.html" title="Edit section: Whonix and Debian Packages">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Whonix_Templates">Whonix Templates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=8.html" title="Edit section: Whonix Templates">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span"><b>Tip:</b> <a data-href="/wiki/About#Whonix_Version" href="./About.html" title="About">From Whonix 14</a>, the v3 onion service is preferred for Whonix package updates, while Debian's v2 onion service is also preferred for updates. Clearnet is enabled by default as well as backup. It is no longer necessary to manually configure this setting, unless you like to try onion-only.</div></td></tr></tbody></table>
<h2><span class="mw-headline" id="Debian_Templates">Debian Templates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=9.html" title="Edit section: Debian Templates">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Advanced Qubes-Whonix users may want to edit the sources.list of their Debian TemplateVM, so that it points to the Debian .onion mirrors. This is a more secure method for updates or general software installation.
</p><p><b>1.</b> Edit sources.list
</p><p>Edit the debian.list file using an editor with root rights.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/apt/sources.list.d/debian.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/apt/sources.list.d/debian.list</textarea>
</div>
</div>
<p><b>2.</b> Reference the onionized Debian repositories.
</p><p>Note: This setting below is for Debian stretch. Modify it accordingly if Debian buster is in use.
</p><p>Cut and paste the following <i>.onion</i> mirrors and comment out (#) the corresponding http repositories.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>#deb http://ftp.debian.org/debian stretch main contrib non-free
deb http://vwakviie2ienjx6t.onion/debian stretch main contrib non-free

#deb http://security.debian.org stretch/updates main contrib non-free
deb http://sgvtcaew4bxjd7ln.onion stretch/updates main contrib non-free

#Optional Backports
#deb http://ftp.debian.org/debian stretch-backports main contrib non-free
deb http://vwakviie2ienjx6t.onion/debian stretch-backports main contrib non-free</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">#deb http://ftp.debian.org/debian stretch main contrib non-free
deb http://vwakviie2ienjx6t.onion/debian stretch main contrib non-free

#deb http://security.debian.org stretch/updates main contrib non-free
deb http://sgvtcaew4bxjd7ln.onion stretch/updates main contrib non-free

#Optional Backports
#deb http://ftp.debian.org/debian stretch-backports main contrib non-free
deb http://vwakviie2ienjx6t.onion/debian stretch-backports main contrib non-free</textarea>
</div>
</div>
<p>Save and exit.
</p><p><b>3.</b> Confirm the onionized repositories are functional.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade</textarea>
</div>
</div>
<p>Optionally repeat steps 1 to 3 for any other Debian templates in use.
</p>
<h1><span class="mw-headline" id="Onionize_Tor_Project_Updates">Onionize Tor Project Updates</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=10.html" title="Edit section: Onionize Tor Project Updates">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Only complete this step if the <a data-href="/wiki/Tor_Versioning" href="./Tor_Versioning.html" title="Tor Versioning">Newer Tor versions from The Tor Project Repository</a> are being used. The Tor Project deb apt signing key must be added first (see the link above), or the user will receive error messages when completing these steps.
</p>
<h2><span class="mw-headline" id="Non-Qubes-Whonix_and_Qubes-Whonix_R3.2">Non-Qubes-Whonix and Qubes-Whonix R3.2</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=11.html" title="Edit section: Non-Qubes-Whonix and Qubes-Whonix R3.2">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The following commands are run in either the Whonix-Gateway or <code>whonix-gw-14</code> TemplateVM.
</p><p>To onionize Tor Project updates first create a torproject.list file using an editor with root rights.
</p><p>If you are using a graphical Whonix or Qubes-Whonix, run.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/apt/sources.list.d/torproject.list</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a data-href="/wiki/Qubes" href="./Qubes.html" title="Qubes">Qubes-Whonix</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a data-href="/wiki/Qubes" href="./Qubes.html" title="Qubes">Qubes-Whonix</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
</div>
<p>Next, cut and paste the following text and comment out (#) the corresponding http repository.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>#Tor Project Mirror
#deb http://deb.torproject.org/torproject.org stretch main
deb http://sdscoq7snqtznauu.onion/torproject.org stretch main</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">#Tor Project Mirror
#deb http://deb.torproject.org/torproject.org stretch main
deb http://sdscoq7snqtznauu.onion/torproject.org stretch main</textarea>
</div>
</div>
<p>Save and exit.
</p>
<h2><span class="mw-headline" id="Qubes_R4">Qubes R4</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=12.html" title="Edit section: Qubes R4">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">Qubes R4.0 and above TemplateVMs are non-network connected by default which will cause attempts to download the apt key in <code>whonix-gw-14</code> to fail. <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup></div></td></tr></tbody></table>
<h3><span class="mw-headline" id="Add_the_Tor_Signing_Key">Add the Tor Signing Key</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=13.html" title="Edit section: Add the Tor Signing Key">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To work around this issue, users can fetch the Tor apt singing key from a (networked) <code>anon-whonix</code> AppVM, then copy the key over to <code>whonix-gw-14</code> in a text file.
</p><p>To add the Tor Project deb apt signing key, run the following in <code>anon-whonix</code>:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-key adv --keyserver jirk5u4osbsr34t5.onion --recv-keys A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-key adv --keyserver jirk5u4osbsr34t5.onion --recv-keys A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</textarea>
</div>
</div>
<p>To display the keys fingerprint, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-key adv --fingerprint A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-key adv --fingerprint A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89</textarea>
</div>
</div>
<p>Compare the fingerprint displayed in the terminal with the one listed on this website <a class="external free" data-href="https://www.torproject.org/docs/signing-keys.html" href="https://www.torproject.org/docs/signing-keys.html" rel="noreferrer noopener" target="_blank">https://www.torproject.org/docs/signing-keys.html</a> (<a class="external text" data-href="http://expyuzz4wqqyqhjn.onion/docs/signing-keys.html" href="http://expyuzz4wqqyqhjn.onion/docs/signing-keys.html" rel="noreferrer noopener" target="_blank">v2 onion</a>).
</p><p>In <code>anon-whonix</code>, copy the Tor singing key to a new text file named tor.key
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-key export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 &gt; /tmp/tor.key</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-key export A3C4F0F979CAA22CDBA8F512EE8CBC9E886DDD89 &gt; /tmp/tor.key</textarea>
</div>
</div>
<p>In <code>anon-whonix</code>, copy the tor.key text file over to <code>whonix-gw-14</code>.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>qvm-copy /tmp/tor.key whonix-gw-14</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">qvm-copy /tmp/tor.key whonix-gw-14</textarea>
</div>
</div>
<p>If the following error appears, it can be safely ignored (hit "OK" when prompted). 
</p>
<pre> <i>qfile-agent: Fatal error: stat whonix-gw-14-version (error type: No such file or directory)</i>
</pre>
<p>In <code>whonix-gw-14</code>, add the Tor signing key to the list of trusted keys.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-key add ~/QubesIncoming/anon-whonix/tor.key</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-key add ~/QubesIncoming/anon-whonix/tor.key</textarea>
</div>
</div>
<h3><span class="mw-headline" id="Onionize_the_Sources_File">Onionize the Sources File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=14.html" title="Edit section: Onionize the Sources File">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To onionize Tor Project updates first create a torproject.list file using an editor with root rights.
</p><p>If you are using a graphical Whonix or Qubes-Whonix, run.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/apt/sources.list.d/torproject.list</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a data-href="/wiki/Qubes" href="./Qubes.html" title="Qubes">Qubes-Whonix</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a data-href="/wiki/Qubes" href="./Qubes.html" title="Qubes">Qubes-Whonix</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
</div>
<p>If you are using a terminal-only Whonix, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/apt/sources.list.d/torproject.list</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/apt/sources.list.d/torproject.list</textarea>
</div>
</div>
<p>Next, cut and paste the following text and comment out (#) the corresponding http repository.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>#Tor Project Mirror
#deb http://deb.torproject.org/torproject.org stretch main
deb http://sdscoq7snqtznauu.onion/torproject.org stretch main</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">#Tor Project Mirror
#deb http://deb.torproject.org/torproject.org stretch main
deb http://sdscoq7snqtznauu.onion/torproject.org stretch main</textarea>
</div>
</div>
<p>Save and exit.
</p>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit&amp;section=15.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://forums.whonix.org/t/onionizing-qubes-whonix-repositories" href="https://forums.whonix.org/t/onionizing-qubes-whonix-repositories" rel="noreferrer noopener" target="_blank">https://forums.whonix.org/t/onionizing-qubes-whonix-repositories</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://forums.whonix.org/t/enable-onion-apt-repository-by-default-for-qubes-etc-apt-sources-list-d-qubes-r4-list/6156" href="https://forums.whonix.org/t/enable-onion-apt-repository-by-default-for-qubes-etc-apt-sources-list-d-qubes-r4-list/6156" rel="noreferrer noopener" target="_blank">https://forums.whonix.org/t/enable-onion-apt-repository-by-default-for-qubes-etc-apt-sources-list-d-qubes-r4-list/6156</a></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">â</a></span> <span class="reference-text"><a class="external free" data-href="https://blog.torproject.org/blog/tor-heart-apt-transport-tor-and-debian-onions" href="https://blog.torproject.org/blog/tor-heart-apt-transport-tor-and-debian-onions" rel="noreferrer noopener" target="_blank">https://blog.torproject.org/blog/tor-heart-apt-transport-tor-and-debian-onions</a></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">â</a></span> <span class="reference-text"><a class="external free" data-href="https://trac.torproject.org/projects/tor/wiki/doc/NextGenOnions" href="https://trac.torproject.org/projects/tor/wiki/doc/NextGenOnions" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/wiki/doc/NextGenOnions</a></span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">â</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/QubesOS/qubes-issues/issues/1854" href="https://github.com/QubesOS/qubes-issues/issues/1854" rel="noreferrer noopener" target="_blank">https://github.com/QubesOS/qubes-issues/issues/1854</a></span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="./Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="./Special:UserLogin/signup" href="./Special:UserLogin/signup">register</a> or <a data-href="./Special:UserLogin" href="./Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="5963"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Have you read our <a class="external text" data-href="./Documentation" href="./Documentation" rel="noreferrer noopener" target="_blank">Documentation</a>, <a class="external text" data-href="./Design" href="./Design" rel="noreferrer noopener" target="_blank">Technical Design</a> and <a class="external text" data-href="./Dev/Developer_Portal" href="./Dev/Developer_Portal" rel="noreferrer noopener" target="_blank">Developer Portal</a> links yet?
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="./Onionizing_Repositories" href="./Onionizing_Repositories" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="./Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onionizing_Repositories" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Onionizing_Repositories" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=./Onionizing_Repositories&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=./Onionizing_Repositories&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=./Onionizing_Repositories" href="https://facebook.com/sharer.php?u=./Onionizing_Repositories">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! See <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" rel="noreferrer noopener" target="_blank">Conditions for Contributions to Whonix</a>, then <a data-href="/w/index.php?title=Onionizing_Repositories&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;action=edit">Edit</a>! IP addresses are scrubbed, but editing over Tor is recommended. Edits are held for moderation.</font>
</p><p><font size="-1">Whonix is a <a class="external text" data-href="http://www.openinventionnetwork.com/licensees.php" href="http://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the Open Invention Network. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Libre Software <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" rel="noreferrer noopener" target="_blank">license</a> as Whonix itself. (<a data-href="/wiki/Why_Whonix_is_Free_Software" href="./Why_Whonix_is_Free_Software.html" title="Why Whonix is Free Software">Why?</a>)</font>
</p><p><font size="-1">Whonix is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="./Impressum.html" title="Impressum">Imprint</a>.</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190109172624
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.160 seconds
Real time usage: 0.225 seconds
Preprocessor visited node count: 604/1000000
Preprocessor generated node count: 1836/1000000
Postâexpand include size: 10495/2097152 bytes
Template argument size: 3041/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postâexpand size: 5863/5000000 bytes
Lua time usage: 0.030/7.000 seconds
Lua virtual size: 14.8 MB/50 MB
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  182.433      1 -total
 40.76%   74.362      3 Template:Mbox
 35.37%   64.519     23 Template:CodeSelect
 10.00%   18.252      2 Template:Open_with_root_rights
  9.22%   16.813      1 Template:Footer
  9.01%   16.429      2 Template:Box
  3.39%    6.176      1 Template:Reflist
  2.38%    4.346      1 Template:Header
  2.09%    3.810      1 Template:Share
  1.82%    3.323      1 Template:Edit_it
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;oldid=40258" dir="ltr" href="https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;oldid=40258">https://www.whonix.org/w/index.php?title=Onionizing_Repositories&amp;oldid=40258</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Documentation" href="./Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 24 December 2018, at 13:11.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Disclaimer"><a class="mw-redirect" data-href="/wiki/Disclaimer" href="./Disclaimer.html" title="Disclaimer">Disclaimer</a></li>
<li id="footer-Terms_of_Service"><a class="mw-redirect" data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20190109172624 -->
</html>
