<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Upgrading Whonix 8 to Whonix 9 - Whonix
 url: ./Upgrading_Whonix_8_to_Whonix_9
 date: Mon May 20 07:57:16 2019
-->
<head>
<meta charset="utf-8"/>
<title>Upgrading Whonix 8 to Whonix 9 - Whonix</title>
<link rel="stylesheet" type="text/css" href="style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="noindex,follow" name="robots"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="image"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="How to Upgrade from Whonix ™ 8.x to Whonix ™ 9.x" name="description"/>
<meta content="How to Upgrade from Whonix ™ 8.x to Whonix ™ 9.x" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Upgrading Whonix 8 to Whonix 9" property="og:title"/>
<meta content="./Upgrading_Whonix_8_to_Whonix_9" property="og:url"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" property="og:image"/>
<meta content="How to Upgrade from Whonix ™ 8.x to Whonix ™ 9.x" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Upgrading_Whonix_8_to_Whonix_9 rootpage-Upgrading_Whonix_8_to_Whonix_9 skin-foreground action-view"><div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>Last update: March 17, 2019. This website uses cookies. By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span> <a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,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);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="./Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires Donations to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Upgrading_Whonix_8_to_Whonix_9" href="./Upgrading_Whonix_8_to_Whonix_9.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=history" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Upgrading Whonix 8 to Whonix 9</h1>
<h5 class="subtitle" id="siteSub"></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Deprecated"><span class="tocnumber">1</span> <span class="toctext">Deprecated</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Before_you_start"><span class="tocnumber">2</span> <span class="toctext">Before you start</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#If_you_want_to_upgrade_Whonix-Gateway_.E2.84.A2_as_well_as_Whonix-Workstation_.E2.84.A2"><span class="tocnumber">2.1</span> <span class="toctext">If you want to upgrade Whonix-Gateway ™ as well as Whonix-Workstation ™</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#If_you_only_want_to_upgrade_Whonix-Workstation_.E2.84.A2"><span class="tocnumber">2.2</span> <span class="toctext">If you only want to upgrade Whonix-Workstation ™</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Non-Critical_Errors_.2F_Warnings"><span class="tocnumber">2.3</span> <span class="toctext">Non-Critical Errors / Warnings</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Sanity_Tests"><span class="tocnumber">3</span> <span class="toctext">Sanity Tests</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Known_Issues"><span class="tocnumber">4</span> <span class="toctext">Known Issues</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#whonixcheck_.2F_timesync_might_stall_on_first_boot"><span class="tocnumber">4.1</span> <span class="toctext">whonixcheck / timesync might stall on first boot</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Upgrading_Whonix-Workstation_.E2.84.A2"><span class="tocnumber">5</span> <span class="toctext">Upgrading Whonix-Workstation ™</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Upgrading_Whonix-Gateway_.E2.84.A2"><span class="tocnumber">6</span> <span class="toctext">Upgrading Whonix-Gateway ™</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Recovery"><span class="tocnumber">7</span> <span class="toctext">Recovery</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Whonix-Workstation_.E2.84.A2"><span class="tocnumber">7.1</span> <span class="toctext">Whonix-Workstation ™</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Whonix-Gateway_.E2.84.A2"><span class="tocnumber">7.2</span> <span class="toctext">Whonix-Gateway ™</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Footnotes"><span class="tocnumber">8</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Deprecated">Deprecated</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=1.html" title="Edit section: Deprecated">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;"><img alt="Whonix ™ first time users warning" data-src="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/40px-Ambox_warning_pn.svg.png" data-srcset="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/60px-Ambox_warning_pn.svg.png 1.5x, /w/images/thumb/f/f7/Ambox_warning_pn.svg.png/80px-Ambox_warning_pn.svg.png 2x" height="35" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">Upgrading Whonix ™ 8 to Whonix ™ 9 is no longer supported. (Unless someone volunteers to fix it.)</div></td></tr></tbody></table>
<h1><span class="mw-headline" id="Before_you_start">Before you start</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=2.html" title="Edit section: Before you start">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span id="If_you_want_to_upgrade_Whonix-Gateway_™_as_well_as_Whonix-Workstation_™"></span><span class="mw-headline" id="If_you_want_to_upgrade_Whonix-Gateway_.E2.84.A2_as_well_as_Whonix-Workstation_.E2.84.A2">If you want to upgrade Whonix-Gateway ™ as well as Whonix-Workstation ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=3.html" title="Edit section: If you want to upgrade Whonix-Gateway ™ as well as Whonix-Workstation ™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>1. Backup your data. (Ideally have a copy of your VM, so you can try again.) <br/>
2. Consider running the optional <a href="#Sanity_Tests">#Sanity Tests</a>. <br/>
3. Upgrade Whonix-Workstation ™. <br/>
4. Power off Whonix-Workstation ™. <br/>
5. Upgrade Whonix-Gateway ™. <br/>
6. Restart Whonix-Gateway ™. <br/>
7. Restart Whonix-Workstation ™ <br/>
</p>
<h2><span id="If_you_only_want_to_upgrade_Whonix-Workstation_™"></span><span class="mw-headline" id="If_you_only_want_to_upgrade_Whonix-Workstation_.E2.84.A2">If you only want to upgrade Whonix-Workstation ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=4.html" title="Edit section: If you only want to upgrade Whonix-Workstation ™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>1. Backup your data. (Ideally have a copy of your VM, so you can try again.) <br/>
2. Consider running the optional <a href="#Sanity_Tests">#Sanity Tests</a>. <br/>
3. Upgrade Whonix-Workstation ™. <br/>
4. Power off Whonix-Workstation ™. <br/>
5. <a data-href="/wiki/Download" href="./Download.html" title="Download">Get</a> Whonix-Gateway ™ 9.x. <br/>
6. Start Whonix-Gateway ™. <br/>
7. Start Whonix-Workstation ™ <br/>
</p><p>You can ignore the following errors.
</p>
<h2><span id="Non-Critical_Errors_/_Warnings"></span><span class="mw-headline" id="Non-Critical_Errors_.2F_Warnings">Non-Critical Errors / Warnings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=5.html" title="Edit section: Non-Critical Errors / Warnings">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>You may see the following non-crtiical errors / warnings. Those can be safely ignored.
</p>
<pre>/usr/lib/whonix/uwtwrapper: line 107: /usr/bin/apt-get: syntax error: operand expected (error token is "/usr/bin/apt-get")
</pre>
<pre>dpkg: warning: while removing whonix-workstation-files, directory '/usr/share/whonix' not empty so not removed
</pre>
<pre>dpkg: warning: while removing whonix-gateway-files, directory '/usr/share/whonix' not empty so not removed
</pre>
<pre>line 7: /usr/share/whonix/postinst.d/pre.bsh: No such file or directory
</pre>
<p>Other warnings / errors should be reported.
</p>
<h1><span class="mw-headline" id="Sanity_Tests">Sanity Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=6.html" title="Edit section: Sanity Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<pre>sudo dpkg --audit ; echo $?
</pre>
<p>Expected output.
</p>
<pre>0
</pre>
<pre>sudo dpkg --configure -a ; echo $?
</pre>
<p>Expected output:
</p>
<pre>0
</pre>
<pre>sudo apt-get update
</pre>
<pre>sudo apt-get dist-upgrade
</pre>
<p>Test wise install python-qt4.
</p>
<pre>sudo apt-get install python-qt4 ; echo $?
</pre>
<pre>## ... successful installation of python-qt4 ...
0
</pre>
<h1><span class="mw-headline" id="Known_Issues">Known Issues</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=7.html" title="Edit section: Known Issues">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span id="whonixcheck_/_timesync_might_stall_on_first_boot"></span><span class="mw-headline" id="whonixcheck_.2F_timesync_might_stall_on_first_boot">whonixcheck / timesync might stall on first boot</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=8.html" title="Edit section: whonixcheck / timesync might stall on first boot">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If that happens, run.
</p>
<pre>sudo service msgcollector restart
</pre>
<pre>sudo update-rc.d msgcollector defaults
</pre>
<p>Should only happen after first boot after upgrading. If this errors persists for you, please post in <a class="external text" data-href="https://www.whonix.org/old-forum/index.php/board,1.0.html" href="https://www.whonix.org/old-forum/index.php/board,1.0.html" rel="noreferrer noopener" target="_blank">Whonix ™ support forums</a>.
</p>
<h1><span id="Upgrading_Whonix-Workstation_™"></span><span class="mw-headline" id="Upgrading_Whonix-Workstation_.E2.84.A2">Upgrading Whonix-Workstation ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=9.html" title="Edit section: Upgrading Whonix-Workstation ™">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><b><a data-href="/wiki/Download" href="./Download.html" title="Download">Downloading</a> a new Whonix-Workstation ™ will be probably easier than applying the following instructions for upgrading.</b>
</p><p>Consider doing the <a href="#Sanity_Tests">#Sanity Tests</a> described above. They'll check if your system is affected by obvious grave issues, that you must fix before attemtping to upgrade. If your package manager is broken, for example because you mixed packages from Debian stable with packages from Debian testing, then the upgrade may fail in the middle leaving your system in a difficult to resolve situation.
</p><p>Consider keeping the full terminal (Konsole) log. Even if everything apparently worked, there might be issues after reboot. In case of a bug report in the forums you would be asked to share the upgrading log so the issue can be investigated.
</p><p>Make sure you read <a href="#Known_Issues">#Known Issues</a> above.
</p><p>Become root.
</p><p>Consider doing the sanity tests as already described above in instructions for Whonix-Gateway ™.
</p><p>Do a usual <a data-href="/wiki/Security_Guide#Updates" href="./Security_Guide.html" title="Security Guide">upgrade</a> of your system's packages from Debian.
</p>
<pre>sudo su
</pre>
<p>Do a usual <a data-href="/wiki/Security_Guide#Updates" href="./Security_Guide.html" title="Security Guide">upgrade</a> of your system's packages from Debian.
</p><p>Temporarily disable uwtwrapper. <sup class="reference" id="cite_ref-uwtwrapper_1-0"><a href="#cite_note-uwtwrapper-1">[1]</a></sup>
</p>
<pre>echo uwtwrapper_global=0 &gt; /etc/whonix.d/30_uwt_default
</pre>
<p>(It will be automatically enabled again after upgrading. No further action required. <sup class="reference" id="cite_ref-uwtwrapper2_2-0"><a href="#cite_note-uwtwrapper2-2">[2]</a></sup>
</p><p>Enable Whonix ™ <i><span style="background-color:#FBFBFB">wheezy</span></i> repository.
</p>
<pre>whonix_repository --enable --codename wheezy
</pre>
<p>Enable extensive debugging so reporting eventual bugs becomes easier.
</p>
<pre>export DEBDEBUG=1
</pre>
<p>Will be fixed after the upgrade.
</p><p>Update your package lists.
</p>
<pre>apt-get update
</pre>
<p>Upgrade. (During the upgrade the packages <span style="border:1px dotted #005cb9">whonix-workstation-files</span> as well as <span style="border:1px dotted #005cb9">whonix-shared-files</span> will be removed. This is expected.) <sup class="reference" id="cite_ref-aptupgrade_3-0"><a href="#cite_note-aptupgrade-3">[3]</a></sup>
</p>
<pre>apt-get install whonix-workstation
</pre>
<p>Dist-upgrade.
</p>
<pre>apt-get dist-upgrade
</pre>
<p>Purge <i><span style="background-color:#FBFBFB">whonix-shared-files</span></i> to get rid of deprecated config files. <sup class="reference" id="cite_ref-oldconfigs_4-0"><a href="#cite_note-oldconfigs-4">[4]</a></sup>
</p>
<pre>dpkg --purge whonix-shared-files ; echo $?
</pre>
<p>Purge <i><span style="background-color:#FBFBFB">whonix-workstation-files</span></i> to get rid of deprecated config files.
</p>
<pre>dpkg --purge whonix-workstation-files ; echo $?
</pre>
<p>Remember to store the terminal (Konsole) log. (File -&gt; Save Output As)
</p><p>Power off.
</p>
<pre>poweroff
</pre>
<p>Your upgraded Whonix-Workstation ™ will not be able to connect yet, because that requires either an upgraded Whonix-Gateway ™ or a Whonix-Gateway ™ 9.x. As soon you upgraded your Whonix-Gateway ™ or downloaded a Whonix-Gateway ™ 9.x, you should be able to connect.
</p>
<h1><span id="Upgrading_Whonix-Gateway_™"></span><span class="mw-headline" id="Upgrading_Whonix-Gateway_.E2.84.A2">Upgrading Whonix-Gateway ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=10.html" title="Edit section: Upgrading Whonix-Gateway ™">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><b><a data-href="/wiki/Download" href="./Download.html" title="Download">Downloading</a> a new Whonix-Gateway ™ will be probably easier than applying the following instructions for upgrading.</b>
</p><p>Warning: Your changes in <span style="border:1px dotted #005cb9">/usr/local/etc/torrc.d/50_user.conf</span> will be lost! Backup your torrc <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup> in case you care to restore your settings.
</p><p>Become root.
</p><p>Do a usual <a data-href="/wiki/Security_Guide#Updates" href="./Security_Guide.html" title="Security Guide">upgrade</a> of your system's packages from Debian.
</p>
<pre>sudo su
</pre>
<p>Temporarily disable uwtwrapper. <sup class="reference" id="cite_ref-uwtwrapper_1-1"><a href="#cite_note-uwtwrapper-1">[1]</a></sup>
</p>
<pre>echo uwtwrapper_global=0 &gt; /etc/whonix.d/30_uwt_default
</pre>
<p>(It will be automatically enabled again after upgrading. No further action required. <sup class="reference" id="cite_ref-uwtwrapper2_2-1"><a href="#cite_note-uwtwrapper2-2">[2]</a></sup>)
</p><p>Enable Whonix ™ <i><span style="background-color:#FBFBFB">wheezy</span></i> repository.
</p>
<pre>whonix_repository --enable --codename wheezy
</pre>
<p>Enable extensive debugging so reporting eventual bugs becomes easier.
</p>
<pre>export DEBDEBUG=1
</pre>
<p>Update your package lists. <sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>
</p>
<pre>uwt -i 127.0.0.1 -p 9050 apt-get update
</pre>
<p>Upgrade. (During the upgrade the packages <span style="border:1px dotted #005cb9">whonix-gateway-files</span> as well as <span style="border:1px dotted #005cb9">whonix-shared-files</span> will be removed. This is expected.) <sup class="reference" id="cite_ref-aptupgrade_3-1"><a href="#cite_note-aptupgrade-3">[3]</a></sup>
</p>
<pre>uwt -i 127.0.0.1 -p 9050 apt-get install whonix-gateway
</pre>
<p>Dist-upgrade.
</p>
<pre>uwt -i 127.0.0.1 -p 9050 apt-get dist-upgrade
</pre>
<p>Purge <i><span style="background-color:#FBFBFB">whonix-shared-files</span></i> to get rid of deprecated config files. <sup class="reference" id="cite_ref-oldconfigs_4-1"><a href="#cite_note-oldconfigs-4">[4]</a></sup>
</p>
<pre>dpkg --purge whonix-shared-files ; echo $?
</pre>
<p>Purge <i><span style="background-color:#FBFBFB">whonix-gateway-files</span></i> to get rid of deprecated config files.
</p>
<pre>dpkg --purge whonix-gateway-files ; echo $?
</pre>
<p>Remember to store the terminal (Konsole) log. (File -&gt; Save Output As)
</p><p>Reboot required.
</p>
<pre>reboot
</pre>
<h1><span class="mw-headline" id="Recovery">Recovery</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=11.html" title="Edit section: Recovery">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span id="Whonix-Workstation_™"></span><span class="mw-headline" id="Whonix-Workstation_.E2.84.A2">Whonix-Workstation ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=12.html" title="Edit section: Whonix-Workstation ™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="toccolours mw-collapsible mw-collapsed">
<p>If you upgraded using "apt-get dist-upgrade" and now getting the following error.
</p>
<pre>Errors were encountered while processing:
 /var/cache/apt/archives/tb-starter_3%3a0.2-2_all.deb
 /var/cache/apt/archives/whonix-base-files_3%3a0.2-2_all.deb
</pre>
<p>And want to fix this, then click on expand on the right.
</p><p><b><a data-href="/wiki/Download" href="./Download.html" title="Download">Downloading</a> a new Whonix-Workstation ™ will be probably easier than applying the following instructions for upgrading.</b>
</p>
<div class="mw-collapsible-content">
<pre>sudo su
</pre>
<pre>dpkg --purge whonix-workstation-files ; echo $?
</pre>
<pre>dpkg --purge whonix-shared-files ; echo $?
</pre>
<pre>apt-get install tb-updater
</pre>
<p>Be patient when you see about ~14 times.
</p>
<pre>sudo: unable to resolve host host
</pre>
<p>Will take a while.
</p><p>If you use a Whonix ™ 8 Gateway.
</p>
<pre>echo "nameserver 192.168.0.10" &gt; "/etc/resolv.conf"
</pre>
<p>Or if you use a Whonix ™ 9 Gateway.
</p>
<pre>echo "nameserver 10.152.152.10"  &gt; "/etc/resolv.conf"
</pre>
<pre>apt-get install whonix-workstation
</pre>
</div>
</div>
<h2><span id="Whonix-Gateway_™"></span><span class="mw-headline" id="Whonix-Gateway_.E2.84.A2">Whonix-Gateway ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=13.html" title="Edit section: Whonix-Gateway ™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="toccolours mw-collapsible mw-collapsed">
<p>In case you run "apt-get dist-upgrade" now having broken apt-get and want to fix it.
</p><p><u><b>UNFINISHED</b></u> Probably very difficult to fix.
</p><p><b><a data-href="/wiki/Download" href="./Download.html" title="Download">Downloading</a> a new Whonix-Gateway ™ will be probably easier than applying the following instructions for upgrading.</b>
</p>
<div class="mw-collapsible-content">
<pre>sudo su

echo "GATEWAY_TRANSPARENT_TCP=1" &gt;&gt; /etc/whonix.d/60_temp
echo "GATEWAY_TRANSPARENT_DNS=1" &gt;&gt; /etc/whonix.d/60_temp

apt-get install -f
apt-get install whonix-gateway

dpkg --purge whonix-shared-files ; echo $?
dpkg --purge whonix-gateway-files ; echo $?

rm /etc/whonix_firewall.d/60_temp
</pre>
</div>
</div>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit&amp;section=14.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-uwtwrapper-1"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-uwtwrapper_1-0">1.0</a></sup> <sup><a href="#cite_ref-uwtwrapper_1-1">1.1</a></sup></span> <span class="reference-text">
This is related to <a data-href="/wiki/Stream_Isolation" href="./Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>.
Because during upgrade the following code would cause issues. (Because the marker file /usr/share/whonix/whonix_[gateway|workstation] gets removed.)

<pre>   if [ -f "/usr/share/whonix/whonix_workstation" ]; then
      uwtwrapper_gateway_ip="192.168.0.10"
   elif [ -f "/usr/share/whonix/whonix_gateway" ]; then
      uwtwrapper_gateway_ip="127.0.0.1"
   else
      error "/usr/bin/"$SCRIPTNAME" uwt wrapper could not determine if this is {{workstation_product_name}} or {{gateway_product_name}}."
      error "Please report this bug!"
   fi
</pre></span>
</li>
<li id="cite_note-uwtwrapper2-2"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-uwtwrapper2_2-0">2.0</a></sup> <sup><a href="#cite_ref-uwtwrapper2_2-1">2.1</a></sup></span> <span class="reference-text">After upgrading the <a class="external text" data-href="https://github.com/Whonix/uwt" href="https://github.com/Whonix/uwt" rel="noreferrer noopener" target="_blank">uwt</a> package will be installed, which will enable uwtwrapper again.</span>
</li>
<li id="cite_note-aptupgrade-3"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-aptupgrade_3-0">3.0</a></sup> <sup><a href="#cite_ref-aptupgrade_3-1">3.1</a></sup></span> <span class="reference-text">
Upgrading using <span style="border:1px dotted #005cb9">sudo apt-get dist-upgrade</span> is not possible due to extensive changes on how Whonix ™ is packaged. (The -files packages were <a class="external text" data-href="https://github.com/Whonix/Whonix/issues/40" href="https://github.com/Whonix/Whonix/issues/40" rel="noreferrer noopener" target="_blank">split into multiple packages</a>.)

Not all packages are strictly required. For example the ...-build-... packages won't do anything. However, they don't hurt either. We're mimicking the behavior of the <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1700_install-packages" href="https://github.com/Whonix/Whonix/blob/master/build-steps.d/1700_install-packages" rel="noreferrer noopener" target="_blank">1700_install-packages</a> build step here to end up with a system that is as similar to Whonix ™ 9.x as possible. This is useful to make eventual issues / differences of upgraded Whonix ™ 8.x systems vs Whonix ™ 9.x as unlikely as possible.</span>
</li>
<li id="cite_note-oldconfigs-4"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-oldconfigs_4-0">4.0</a></sup> <sup><a href="#cite_ref-oldconfigs_4-1">4.1</a></sup></span> <span class="reference-text">
Otherwise old config files would interfere.</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">↑</a></span> <span class="reference-text">
sudo cp /usr/local/etc/torrc.d/50_user.conf /usr/local/etc/torrc.d/50_user.conf.mybackup</span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">↑</a></span> <span class="reference-text">We need to use uwt because the feature for transparent proxying Whonix-Gateway ™ own traffic is disabled by default.</span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="./Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="./Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="./Special:UserLogin/signup" href="./Special:UserLogin/signup">register</a> or <a data-href="./Special:UserLogin" href="./Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="1423"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Want to get involved with Whonix ™? Check out our <a class="external text" data-href="./Contribute" href="./Contribute" rel="noreferrer noopener" target="_blank">Contribute</a> page.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="https://www.Whonix.org/wiki/Upgrading_Whonix_8_to_Whonix_9" href="https://www.Whonix.org/wiki/Upgrading_Whonix_8_to_Whonix_9" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="./Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_8_to_Whonix_9" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_8_to_Whonix_9" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=./Upgrading_Whonix_8_to_Whonix_9&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=./Upgrading_Whonix_8_to_Whonix_9&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=./Upgrading_Whonix_8_to_Whonix_9" href="https://facebook.com/sharer.php?u=./Upgrading_Whonix_8_to_Whonix_9">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix_.E2.84.A2" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix ™</a>, then <a data-href="/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;action=edit">Edit</a>! Edits are held for moderation.
</font></p><p><font size="-1">Copyright (C) 2012 - 2019 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="./Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix ™ is a trademark.</a> Whonix ™ is a <a class="external text" data-href="https://www.openinventionnetwork.com/licensees.php" href="https://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the <a class="external text" data-href="https://www.openinventionnetwork.com" href="https://www.openinventionnetwork.com" rel="noreferrer noopener" target="_blank">Open Invention Network</a>. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix ™ itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="./Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">Whonix ™ is a derivative of and not affiliated with <a class="external text" data-href="https://www.debian.org" href="https://www.debian.org" rel="noreferrer noopener" target="_blank">Debian</a>. <a class="external text" data-href="https://www.debian.org/trademark" href="https://www.debian.org/trademark" rel="noreferrer noopener" target="_blank">Debian is a registered trademark</a> owned by <a class="external text" data-href="https://www.spi-inc.org/" href="https://www.spi-inc.org/" rel="noreferrer noopener" target="_blank">Software in the Public Interest, Inc</a>.
</font></p><p><font size="-1">Whonix ™ is produced independently from the Tor<a class="external text" data-href="https://2019.www.torproject.org/docs/trademark-faq.html.en" href="https://2019.www.torproject.org/docs/trademark-faq.html.en" rel="noreferrer noopener" target="_blank">®</a> anonymity software and carries no guarantee from <a class="external text" data-href="https://www.torproject.org" href="https://www.torproject.org" rel="noreferrer noopener" target="_blank">The Tor Project</a> about quality, suitability or anything else.
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix ™ is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="./Impressum.html" title="Impressum">Imprint</a>.
</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190511115926
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.059 seconds
Real time usage: 0.083 seconds
Preprocessor visited node count: 902/1000000
Preprocessor generated node count: 2624/1000000
Post‐expand include size: 5822/2097152 bytes
Template argument size: 236/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 1/20
Unstrip post‐expand size: 9134/5000000 bytes
Lua time usage: 0.010/7.000 seconds
Lua virtual size: 7.48 MB/50 MB
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   63.299      1 -total
 43.47%   27.516      1 Template:Mbox
 20.37%   12.897      1 Template:Footer
  7.72%    4.886      1 Template:Reflist
  5.94%    3.763      1 Template:Header
  4.15%    2.630      1 Template:Share
  3.48%    2.203      1 Template:Edit_it
  1.78%    1.124      1 Template:RandomNews
  1.69%    1.072      6 Template:Code2
  1.67%    1.055      6 Template:Code
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;oldid=46790" dir="ltr" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;oldid=46790">https://www.whonix.org/w/index.php?title=Upgrading_Whonix_8_to_Whonix_9&amp;oldid=46790</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a class="new" data-href="/w/index.php?title=Category:Noindexed_pages&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Noindexed_pages&amp;action=edit&amp;redlink=1.html" title="Category:Noindexed pages (page does not exist)">Noindexed pages</a></li><li><a data-href="/wiki/Category:Documentation" href="./Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 30 April 2019, at 15:33.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="./DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20190511115926 -->
</html>
