<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Upgrading Whonix 12 to Whonix 13 - Whonix
 url: ./Upgrading_Whonix_12_to_Whonix_13
 date: Tue Apr  9 07:42:06 2019
-->
<head>
<meta charset="utf-8"/>
<title>Upgrading Whonix 12 to Whonix 13 - Whonix</title>
<link rel="stylesheet" type="text/css" href="style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/5/5a/Upgrade-1672367640.jpg" name="image"/>
<meta content="https://www.whonix.org/w/images/5/5a/Upgrade-1672367640.jpg" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="How to Upgrade from Whonix 12.x to Whonix 13.x" name="description"/>
<meta content="How to Upgrade from Whonix 12.x to Whonix 13.x" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Upgrading Whonix 12 to Whonix 13" property="og:title"/>
<meta content="./Upgrading_Whonix_12_to_Whonix_13" property="og:url"/>
<meta content="https://www.whonix.org/w/images/5/5a/Upgrade-1672367640.jpg" property="og:image"/>
<meta content="How to Upgrade from Whonix 12.x to Whonix 13.x" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Upgrading_Whonix_12_to_Whonix_13 rootpage-Upgrading_Whonix_12_to_Whonix_13 skin-foreground action-view"><div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>Last update: March 17, 2019. This website uses cookies. By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span>Â <a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAArCAYAAAA65tviAAANxklEQVRo3rWae3Ad1X3HP2d3r65elmz5KcvyA0u2MQYbcIyhNgNI40wcHAdKIDjM5EFC0oaB0nTS0Jl22ukj09CmnaRNJ7QpTMorpQWSQoITiRjimNi4NTa2ZVvGT0m2JEuWru5D997d8+sf5+zdvZJsnHS6M5rV2bv39/t9f+/zO1cxxdUGdJp7nYKPAXcLrAEWAnkFx4E3gVc74KcA7UAHV3a12bvlMVfBBoGNClYCswFf4CSwD9ip4JcdoC/HQ031sN3cPifwPftIAKViC0AUKPv/VmVA6SsF1AazgBcUtEmMx4TX4s++ADzdCX6o6EsCCV9oNxpfKoCL4VgD1NYkmdEwjZHRDCdSOUZBHAtQ4JyClg7IXs4S1gqdwO1WEQKoGZZHwkpfAMbsX+zKKVjRAWcuaZFQk+3QDbRooAlomlHDnffdQuPCWVTVJEELIkIhm2fw/Agdb3Wx/cCZUABfwbYOeHEqrbXBastmlg/SXFWhPr7uKhbOrqW2sgLXUSjR5Md9xtLj9A2k2LHvDKNaOAcikdAPdMBzk4CEINqgU8EdClgErFvfyub7bkGs8IhAoBGtES2gBc9RnD45wJM/fIczF9LiGpqPdMC32ywDq6C7gJc0SLXnqE/d3MJNKxopFAMkCOkZ2mhBtEZpcBB2vtfDO8cH6QfS1qWBrR3wo1BhcYt8FHhVLIgbb1jC1gc2orUxvmEQAQjXBOb/hOvwrWd38t8nBnAMycc64O+tJTYreE2DLG6oVX/8iQ8ZACEtMSDQIBICMYoTLagg4PxgipffPkEvkDJgAoEZnZAGUDawqwVGgMQcYHnjDB786laUgNaC0trcRaM1pTWWWSiM0gE/+Mk+fvruaVEmdr4osNtmH3XT0jl89o5rEMczfhIqRkIwEoHQgkIsf0EXCwz1D/GDX52iBxOIAqMYMBK61j0CL7rAEuAP/vx+KuumWUEjZsQ0KFaDaF0SQkRw/IDnfryb7QfOigdFBa6Ae9vVjXxyw9VQWRvRjLuspuRWEIKJ0RfQmTF27TvO3p5RjofCw291wtvKmj4FTGsC1t+4hLse3IwOiAlcrjWxWgqFmChUopDlb5/bwf4zwyigdW4dj915A279bBCrgDg9kUk8jDsbRZZ4APT38a87DtNb0NJvQqO3ExaoNlim4KiALAL1xUe3sODqlijgxPit6BiDmE9PLRDI0Dm+9tTPyRV8/vq+dVQ0LkIpJxKqRKfcPc3nhm75c/MsyKTZt2svO86m5ERU21pUG9wDvOgBS4E/ffIxiiRQlogWo/0yAGHsxC1S0pplHmgGDu7DVTB98TLcZFUkUJlLWR4SKUVKtGN8LN3ssS4yg4M89V4/p8EPwAPuUW3wd8CjM0FtWNnE/Y9/nmIhiOLDMii5lAiC1VqoTSItx10kGB0m33uaqmWrSxoWGw9l67LvESkj5A3oXJb0u3vR2QyegmcPDnLa18EQuAq+pdpsCVkM3Pup21nzkXa07xuBY24wyX9DjYYgofRZFDcayY+jKipj7xMJiZQDiNEUAeW4+BeHyR49SHHgHIICLTgi7OpL8+7FcX0KHOAN1Q6nBBYtAx78w200r15t0yI20JhCiNhayn14olCircBhZiq5CdaSsc/F1GjRmuJgP7ljhyj09YByI7cOTPB3j+TlF/1ZjpkY6VVtMKqgrgX48l/8LnNbW21miQnIhAAsgZta+Agg5WvibgSClJot8X2kWCB79DDZg/tCj40KZKCjVBwIg7kir/VlpdsAyag28B1wlwKPfOMxZi9tMSlXImZl2itxIEqJZaBCoSc/FxHTSihT+8X3yR0/QrbrAH4qBcWCLbQ25etY6xLoMpcdzPm81j8u3da+qt3WkBbg4b96hMY1NyK+T5BNQ7GI9ouGsOOilAuuh/ISKC8BjhMJGsZJ6Cl+ET2eQ+dyBOkU/uhFgpGLFEcuojNjBOkxdDYTKaOs9bH3QGItS9QOIZqBXMBPLhSwFrmo2swGZnEr8NnPtTGzvpIgO2aratQHSSCgTX8kQWCaR+vTSimjdN83nxV9xA/KqrYxUMyScW3HG8aSsBMa1NgaLZzOaXaMFEMgx1QbbAc2LQK2fewGFi1oQIcNYhBv5MK1BRcjOnEdarC0tt3tRH/H+nvIL/pe6F7lTWpIz1WKPakiezOaHgPkZdUOTwh8pQHUh1cv5LabW/F9P2pBAo3WGhVmMh2tdWDrimVatg50qeGMgEosYCPBDL1yt5JYrEj4LgqlwFPw7/0FugNhzPRcf6Ta4eMCLzvA6soEX/7MRvL5YlmrLjoKMuNSsVY7ZCJi3U+X/FiCqP0vuadE75i1pR/o8iY1iIFCULHNbF4Lz/QXOBltqm5TbbBAwVkBaQb1O7+9lrqaihITYkxEYj5sgcWzzCRNxvJ+6bMy4LH3YlYr21wRnxaYxHIsq3kz5XM6AlIZtvFngQVzgU3XNbPu2qYyJhN9dvJurnw9dUxMVMTkTZoBbmJSiZQDsMki4SheGSjQ5Qsp8/j7HfDpEMhGgbcc4Lqkx5c+sZZCvoiUNlGRayixwWmFDdcqiKwjsc3YxLWJLR19T8uk9UQAIQg3WUFfpsB/XShwygw+RGC+gn5l99VJgRzAHFCbr23i+ta5UUxom2qDmOaEqNpewjIywcWiLjm+jqw8lRXiV8OmtTz1zC6OBsYaCo53QOvEKcrDwLcdYJXn8IUt1+H7QVlMXFJAmZgM4rVHXzobaX1FACTQ1K5azClVwX90HqLHWANgVgcMl4DE5lm9Ao11oDY01rFpTbN1o8jfQwHD2lIW/GJS8AfVBDfQjAaaM55mSU6hqgKCGo3ruUhRcMcdvHEHsw/TVC2dT2L5Qr7z9E7eFyEwIJ7tgAemnGsJtCv4mYBcBWrb+iU01FbYGhHb8gaxAhZbhxlHTWoton19Rgf8W33AS+th0eKAh+bUcO/tH6a+ehEnuodQY/0Mv/8e+aODsF2Y0dxMdUsTz7y6n/8ZTDFuhO7vgHmXHZm2wz8LfN4BrgI+fctiqjynlE0+qCZQEAb8AskV4+STASrr4A079J1x+UarT9PmDaxddyNVlZVsa/guS5s2QDpF14FBBntS1JMnfSFPX1+BG2a4nOtqYs/eAXafHmIoEnhlB3R94Mi0zUwbl1aAWlXhsm1tc6kah5U5KlpmrQrC6Kocrb+3glmt13C8u0CtCiiOpRjuOU/63FlSmSSvL7+J/MxqChmfx5v/k2leLe54kQt9gjMODY5LrXZpUB6jvT5/9p0Mp/qD0ngWuKsDXvnAIbbNYjOBfgG3BlhdneCuVXPLKnB54Gvy84p86McuycJGcoMj+OkM3YeGkGweP1VgdCigSmBa1ueha6+hKqlZevYEH6kfYdEMl+uaPLycS5BSDPcJR44GPH80zytKqDwJc0agZoQn3oKvXvE03rpYo8BpIFENLE843LtyDo5M0RCKMNRU4OZnAsZ6k1T4PvmLmvSwIp9ymFPh0lTjQdph554MW1oqSSQ0dZWaRE4z60SOm6qEGRqCPLw7BscbwFsCugqyBeh/H0lfROkxzjHOz+jlbXz208WviGZck48V7Lx2OXBEQCpAtTqKbcsbcEVKk8fQxfJFYfvmDNs+6VAvCZqmuZB2IOtAxmGgJ2DnngzfPKv55a2gqmB6JdQloaYCqj2o8MCz/iNiDknyPmSLkC4io+Oo1Lgd1x/G53VaSXPqshaJxctKBYcEJAFqmaPYvKCWhoQzqf0eKWoOJjUXmjXzlgvzZgEZuNAD/3hSOFMJ2fnA9YZHpQczqmBaAqoroNKFhGv2a5gOn2IAOR8yRUjlYfQCFE4BDfTzHL/PKNuBEXUlJ0zt0GLnt7WANIHaNKuS5TUuxVjqVUoRCGS1kCpC1u50k47R7gsP+Lx6UEPSzGad2VBfC/UVUJuAqgRUuOCGVsEMrvIBZAMYPGuUQjNQARziNC9xPwHdVwTEJgAHOGrPTmQmqNVJh1uneyQcs0O8THFmZExo2ac43zWdh54foGtAoA4qF0PDfKithOoEVFn3KllFQ1HDuRNwpgej0jzQhzAdxZPcTZbdVwRkQvX/EbBFMCO+RcBHGxLMSSozyhFjmUkNX6DYf2+RNZshWXAZueiw5fk8qWpQLjSvhbrp1ioOePagRRR07YKBgmXWC0zHbJ8HKfIid5L7NYBMOBC6XcEbYg9dpgPXJBTtMxN4qtw6IoJyHZyqJIHn0eWNs2dBhqXL4I6Vis7DIo8fQWkXKucizU2oucvMLlAVYPebkJ0N1GE2G/OB83a9nb/kKE9R5MSvBWQCqOnA08BWAfFAzQLWV7tcX+fhKTsScx2cigSugsMX8+wfydOt4YI9J3SAcfj6gXUo6vkajeZMscaF3Djoq8zJDg5QQHBRnOUX/JBvAnuBPkD/X4CEKfo+gX9QMEuDVIFqAG6d5tFS7eB6Lj3jATuGCgwBw7EDVODnHtz9ujlkgnpWsJ4dNDKXuTag+4F6hGEUVfTyPb5OjjeAc4Tfu1z6/Q1i52+AR8WEDgnrBa71hGx09idihLi+EwbKDk0TQJF6NrOHFpYhCEUUHgHbeYJu/gVjzNErruy/CRj7A4M/EfhKnLhEIN7B/Pigp5NL/MigGTiLyx28wGru4Qjf5xgP8z5piGaA/y9ApgA2D/gSBlAS+K6Cf+qAw1dE4GngM0ArK+nm8JQ/JZhw/S9dtEONwVO5dQAAAABJRU5ErkJggg==);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="./Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires Donations to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Upgrading_Whonix_12_to_Whonix_13" href="./Upgrading_Whonix_12_to_Whonix_13.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=history" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Upgrading Whonix 12 to Whonix 13</h1>
<h5 class="subtitle" id="siteSub"></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#High_Level_Overview"><span class="tocnumber">1</span> <span class="toctext">High Level Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Sanity_Tests"><span class="tocnumber">2</span> <span class="toctext">Sanity Tests</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Upgrading"><span class="tocnumber">3</span> <span class="toctext">Upgrading</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Qubes_specific"><span class="tocnumber">4</span> <span class="toctext">Qubes specific</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Footnotes"><span class="tocnumber">5</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="High_Level_Overview">High Level Overview</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=1.html" title="Edit section: High Level Overview">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>1. Backup your data. (Ideally have a copy of your VM, so you can try again.) <br/>
2. Consider running the optional <a href="#Sanity_Tests">#Sanity Tests</a>. <br/>
3. Upgrade Whonix-Workstation. <br/>
4. Power off Whonix-Workstation. <br/>
5. Upgrade Whonix-Gatway. <br/>
6. Restart Whonix-Gateway. <br/>
7. Restart Whonix-Workstation <br/>
</p>
<h1><span class="mw-headline" id="Sanity_Tests">Sanity Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=2.html" title="Edit section: Sanity Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="toccolours mw-collapsible mw-collapsed">
<p>These are optional, but recommended. If you want to do them, please press on expand on the right.
</p>
<div class="mw-collapsible-content">
<pre>sudo dpkg --auditÂ ; echo $?
</pre>
<p>Expected output.
</p>
<pre>0
</pre>
<pre>sudo dpkg --configure -aÂ ; echo $?
</pre>
<p>Expected output:
</p>
<pre>0
</pre>
<p><a data-href="/wiki/Security_Guide#Updates" href="./Security_Guide.html" title="Security Guide">Get package upgrades.</a>
</p>
<pre>sudo apt-get update
</pre>
<pre>sudo apt-get dist-upgrade
</pre>
<p>Test wise install python-qt4.
</p>
<pre>sudo apt-get install python-qt4Â ; echo $?
</pre>
<pre>## ... successful installation of python-qt4 ...
0
</pre>
</div>
</div>
<h1><span class="mw-headline" id="Upgrading">Upgrading</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=3.html" title="Edit section: Upgrading">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>(Downloading a new Whonix-Gateway / Whonix-Workstation would be probably easier than applying the following instructions for upgrading, but this upgrade should be quite smooth.)
</p><p>Backups are important as noted in above chapter <a href="#Before_you_start">#Before you start</a>.
</p><p>Consider doing the <a href="#Sanity_Tests">#Sanity Tests</a> described above. They'll check if your system is affected by obvious grave issues, that you must fix before attempting to upgrade. If your package manager is broken, for example because you mixed packages from Debian stable with packages from Debian testing, then the upgrade may fail in the middle leaving your system in a difficult to resolve situation.
</p><p>Consider keeping the full terminal (Konsole) log. Even if everything apparently worked, there might be issues after reboot. In case of a bug report in the forums you would be asked to share the upgrading log so the issue can be investigated.
</p><p>If you are using Qubes R3.0 as your host operating system, you are advised to upgrade your VMs and dom0 to R3.1 before proceeding. Follow the <a class="external text" data-href="https://www.qubes-os.org/doc/upgrade-to-r3.1/" href="https://www.qubes-os.org/doc/upgrade-to-r3.1/" rel="noreferrer noopener" target="_blank">Qubes R3.0 &gt; R3.1 upgrade instructions on the Qubes website</a>.
</p>
<pre>sudo whonix_repository --enable --repository stable
</pre>
<p>You are late for upgrading Whonix 12 to Whonix 13. Therefore you need to upgrade Whonix singing key.
</p><p>Get <a data-href="/wiki/Whonix_Signing_Key" href="./Whonix_Signing_Key.html" title="Whonix Signing Key">Whonix signing key</a>.
</p>
<pre>gpg --recv-keys "916B 8D99 C38E AF5E 8ADC  7A2A 8D66 066A 2EEA CCDA"
</pre>
<p>Verify <a data-href="/wiki/Whonix_Signing_Key" href="./Whonix_Signing_Key.html" title="Whonix Signing Key">Whonix signing key</a>.
</p><p>Add to apt-key.
</p>
<pre>gpg --export "916B 8D99 C38E AF5E 8ADC  7A2A 8D66 066A 2EEA CCDA" | sudo apt-key add -
</pre>
<p>Become root.
</p>
<pre>sudo su
</pre>
<p>Do a usual <a data-href="/wiki/Security_Guide#Updates" href="./Security_Guide.html" title="Security Guide">upgrade</a> of your system's packages from Debian.
</p><p>Enable extensive debugging so reporting eventual bugs becomes easier.
</p>
<pre>export DEBDEBUG=1
</pre>
<p><a class="mw-redirect" data-href="/wiki/Update" href="./Update.html" title="Update">Update</a> the package lists.
</p>
<pre>apt-get update
</pre>
<p>Upgrade.
</p>
<pre>apt-get dist-upgrade
</pre>
<p><br/>
<a class="mw-redirect" data-href="/wiki/Update" href="./Update.html" title="Update">Update</a> your package lists again. <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>
</p>
<pre>apt-get update
</pre>
<p>It is recommended to have the Whonix-Gateway or Whonix-Workstation meta package installed to make sure nothing is broken. (If you like to uninstall it later as per <a data-href="/wiki/Whonix_Debian_Packages" href="./Whonix_Debian_Packages.html" title="Whonix Debian Packages">Whonix Debian Packages</a>, you're free to do so. Still, it is recommended to re-install it before removal to make sure you're as close to official package selection as possible.)
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p>If you are upgrading <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="./Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix</a>, please press on expand on the right.
</p>
<div class="mw-collapsible-content">
<p>If you are upgrading Whonix-Gateway...
</p>
<pre>apt-get install qubes-whonix-gateway
apt-get purge whonix-gateway
</pre>
<p>If you are upgrading Whonix-Workstation...
</p>
<pre>apt-get install qubes-whonix-workstation
apt-get purge whonix-workstation
</pre>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed">
<p>If you are upgrading <a data-href="/wiki/Non-Qubes-Whonix" href="./Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix</a>, please press on expand on the right.
</p>
<div class="mw-collapsible-content">
<p>If you are upgrading Whonix-Gateway...
</p>
<pre>apt-get install non-qubes-whonix-gateway
apt-get purge whonix-gateway
</pre>
<p>If you are upgrading Whonix-Workstation...
</p>
<pre>apt-get install non-qubes-whonix-workstation
apt-get purge whonix-workstation
</pre>
</div>
</div>
<p>Purge packages which are deprecated in Whonix and replaced by new functionality.
</p>
<pre>apt-get purge anon-gw-build-upgrade-tor anon-shared-build-apt-sources-tpo deb.torproject.org-keyring anon-shared-build-upgrade-torsocks timesync
</pre>
<p>Get rid of old packages.
</p>
<pre>apt-get autoremove
</pre>
<p>Delete old problematic files. <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</p>
<pre>rm -f "/etc/apparmor.d/usr.bin.timesync"
unlink "/home/user/Desktop/xchat.desktop"
unlink "/home/user/Desktop/anondist-torbrowser.desktop"
unlink "/home/user/Desktop/timesync.desktop"
</pre>
<p>If you have been using the apparmor-profiles-extra package (you would know if you did), you should reinstall it.
</p>
<pre>sudo apt-get install --reinstall apparmor-profiles-extra
</pre>
<p>Remember to store the terminal (Konsole) log. (File -&gt; Save Output As)
</p><p>Reboot required.
</p>
<pre>reboot
</pre>
<p>Qubes users may wish to re-add Tor Browser to Qubes start menu. This can be done the usual Qubes way.
</p>
<pre>Qubes start menu -&gt; domain: anon-whonix -&gt; add more shortcuts -&gt; click Tor Browser (AnonDist) -&gt; press '&gt;' -&gt; OK
</pre>
<p>See also <a href="#Qubes_specific">#Qubes specific</a>.
</p><p>Done.
</p>
<h1><span class="mw-headline" id="Qubes_specific">Qubes specific</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=4.html" title="Edit section: Qubes specific">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Optional.
</p><p>VMs based upon whonix-ws TemplateVM will not inherit the default start menu unless you upgrade the following file. Either apply the following steps or manually add Tor Browser to any new TemplateBasedVM based on whonix-ws TemplateVM. <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>
</p><p>In dom0. Open /var/lib/qubes/vm-templates/whonix-ws/whitelisted-appmenus.list with root rights.
</p><p>Add. <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</p>
<pre>konsole.desktop
dolphin.desktop
nautilus.desktop
whonixcheck.desktop
whonix-irc-chat-support.desktop
janondisttorbrowser.desktop
anondist-torbrowser_update.desktop
</pre>
<p>Save.
</p><p>Done.
</p>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit&amp;section=5.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">â</a></span> <span class="reference-text">
This is required because the repository uri of Whonix repository has been upgraded to the new location by the whonix-legacy package.</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">â</a></span> <span class="reference-text">
Delete apparmor profile. (timesync has been replaced by sdwdate-gui)

Delete xchat shortcut. (Has been replaced with its successor hexchat.)</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">â</a></span> <span class="reference-text">This is a native Qube - not Whonix - limitation that will not be fixed due to technical difficulties. During VM upgrades, file /var/lib/qubes/vm-templates/whonix-ws/whitelisted-appmenus.list will not be upgraded.</span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">â</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/adrelanos/qubes-template-whonix/blob/master/appmenus_wheezy_whonix-workstation/vm-whitelisted-appmenus.list" href="https://github.com/adrelanos/qubes-template-whonix/blob/master/appmenus_wheezy_whonix-workstation/vm-whitelisted-appmenus.list" rel="noreferrer noopener" target="_blank">https://github.com/adrelanos/qubes-template-whonix/blob/master/appmenus_wheezy_whonix-workstation/vm-whitelisted-appmenus.list</a></span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="./Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="./Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="./Special:UserLogin/signup" href="./Special:UserLogin/signup">register</a> or <a data-href="./Special:UserLogin" href="./Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="5035"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Please <a class="external text" data-href="./Contribute" href="./Contribute" rel="noreferrer noopener" target="_blank">contribute</a> by helping to <a class="external text" data-href="./Contribute#Answer_Questions" href="./Contribute" rel="noreferrer noopener" target="_blank">answer Whonix questions</a>.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="./Upgrading_Whonix_12_to_Whonix_13" href="./Upgrading_Whonix_12_to_Whonix_13" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="./Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_12_to_Whonix_13" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Upgrading_Whonix_12_to_Whonix_13" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=./Upgrading_Whonix_12_to_Whonix_13&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=./Upgrading_Whonix_12_to_Whonix_13&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=./Upgrading_Whonix_12_to_Whonix_13" href="https://facebook.com/sharer.php?u=./Upgrading_Whonix_12_to_Whonix_13">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix</a>, then <a data-href="/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;action=edit">Edit</a>! Edits are held for moderation.
</font></p><p><font size="-1">Copyright (C) 2012 - 2019 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="./Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix is a trademark.</a> Whonix is a <a class="external text" data-href="http://www.openinventionnetwork.com/licensees.php" href="http://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the Open Invention Network. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="./Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="./Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="./Impressum.html" title="Impressum">Imprint</a>.
</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190324212703
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.059 seconds
Real time usage: 0.072 seconds
Preprocessor visited node count: 424/1000000
Preprocessor generated node count: 1303/1000000
Postâexpand include size: 2852/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postâexpand size: 6002/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   58.182      1 -total
 30.88%   17.965      1 Template:Header
 23.16%   13.473      1 Template:Footer
 12.97%    7.544      1 Template:Reflist
  5.62%    3.269      1 Template:Update
  5.07%    2.950      1 Template:Share
  3.96%    2.303      1 Template:Edit_it
  2.87%    1.671      1 Template:RandomNews
  1.43%    0.832      2 Template:Name
  1.22%    0.710      1 Template:Whonix_onion
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;oldid=37379" dir="ltr" href="https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;oldid=37379">https://www.whonix.org/w/index.php?title=Upgrading_Whonix_12_to_Whonix_13&amp;oldid=37379</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Documentation" href="./Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 1 October 2018, at 21:38.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="./DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20190324212703 -->
</html>
