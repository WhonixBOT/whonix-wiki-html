<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Authority control - Whonix
 url: ./Authority_control
 date: Wed Aug 19 07:31:29 2020
-->
<head>
<meta charset="utf-8"/>
<title>Authority control - Whonix</title>
<link rel="stylesheet" type="text/css" href="style.css">



<meta content="" name="ResourceLoaderDynamicStyles"/>
<meta content="MediaWiki 1.34.1" name="generator"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Authority_control&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Authority_control&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Authority_control&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Authority_control&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/w/images/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="//www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="Authority control - Whonix" property="og:title"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="./Authority_control" property="og:url"/>
<meta content="" property="og:image"/>
<meta content="2018-10-02T09:20:43Z" property="article:modified_time"/>
<meta content="2018-10-02T09:20:43Z" property="article:published_time"/>
<meta content="@Whonix" property="twitter:site"/>
<meta content="Authority control - Whonix" property="twitter:title"/>
<meta content="" property="twitter:image"/>
<meta content="summary_large_image" property="twitter:card"/>

<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Authority_control rootpage-Authority_control skin-foreground action-view"><div class="mw-cookiewarning-container banner-container"><div class="mw-cookiewarning-text"><span>By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span> <a data-href="Terms_of_Service" href="./Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper">

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<div class="mw-indicators mw-body-content">
</div>
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><p>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="Donate" href="./Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
<span>Please Donate!</span>
</div>
</a>
</div>
<p>
</p></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="Authority_control" href="./Authority_control.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Authority_control&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Authority_control&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Authority_control&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Authority_control&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Authority_control&amp;action=history" href="https://www.whonix.org/w/index.php?title=Authority_control&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<div id="content">
<h1 class="title" id="firstHeading">Authority control</h1>
<h3 id="tagline">From Whonix</h3> <h5 class="subtitle" id="siteSub"><div class="flaggedrevs_short flaggedrevs_unreviewed plainlinks noprint" id="mw-fr-revisiontag"><span aria-disabled="false" class="flaggedrevs-icon oo-ui-widget oo-ui-widget-enabled oo-ui-iconElement-icon oo-ui-icon-block oo-ui-iconElement oo-ui-labelElement-invisible oo-ui-iconWidget.html" title="Pending changes are displayed on this page"></span><b><a data-href="/wiki/Help:Page_validation" href="./Help:Page_validation.html" title="Help:Page validation">Unchecked</a></b></div>
</h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p>require('Module:No globals')
</p><p>local p = {}
</p><p>--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
--<a class="new" data-href="/w/index.php?title=Category_functions&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category_functions&amp;action=edit&amp;redlink=1.html" title="Category functions (page does not exist)">Category functions </a>
--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
</p><p>function p.getCatForId( id )
local title = mw.title.getCurrentTitle()
local namespace = title.namespace
local catName = <i></i>
if namespace == 0 then
catName = 'Wikipedia articles with ' .. id .. ' identifiers'
elseif namespace == 2 and not title.isSubpage then
catName = 'User pages with ' .. id .. ' identifiers'
else
catName = 'Miscellaneous pages with ' .. id .. ' identifiers'
end
return <i> .. p.redCatLink(catName)</i>
end
</p><p>function p.redCatLink( catName ) --catName == 'Blah', not 'Category:Blah', not <i></i>
if catName and catName ~= <i> and mw.title.new(catName, 14).exists == false then</i>
return <i></i>
end
return <i></i>
end
</p><p>--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
--<a class="new" data-href="/w/index.php?title=Property_formatting_functions&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Property_formatting_functions&amp;action=edit&amp;redlink=1.html" title="Property formatting functions (page does not exist)">Property formatting functions </a>
--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
</p><p>function p.iaafLink( id )
--P1146's format regex: [1-9][0-9]* (e.g. 123)
if not string.match( id, '^[1-9]%d*$' ) then
return false
end
return '<a class="external text" data-href="https://www.iaaf.org/athletes/biographies/athcode='" href="https://www.iaaf.org/athletes/biographies/athcode='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://www.iaaf.org/athletes/biographies/athcode='" href="https://web.archive.org/web/https://www.iaaf.org/athletes/biographies/athcode='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'IAAF' )
end
</p><p>function p.viafLink( id )
--P214's format regex: [1-9]\d(\d{0,7}|\d{17,20}) (e.g. 123456789, 1234567890123456789012)
if not string.match( id, '^[1-9]%d%d?%d?%d?%d?%d?%d?%d?$' ) and
not string.match( id, '^[1-9]%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://viaf.org/viaf/'" href="https://viaf.org/viaf/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://viaf.org/viaf/'" href="https://web.archive.org/web/https://viaf.org/viaf/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'VIAF' )
end
</p><p>function p.kulturnavLink( id )
--P1248's format regex: [0-9a-f]{8}\-[0-9a-f]{4}\-[0-9a-f]{4}\-[0-9a-f]{4}\-[0-9a-f]{12} (e.g. 12345678-1234-1234-1234-1234567890AB)
if not string.match( id, '^%x%x%x%x%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%x%x%x%x%x%x%x%x$' ) then
return false
end
return '<a class="external text" data-href="http://kulturnav.org/'" href="http://kulturnav.org/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://kulturnav.org/'" href="https://web.archive.org/web/http://kulturnav.org/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'KULTURNAV' )
end
</p><p>function p.sikartLink( id )
--P781's format regex: \d{7,9} (e.g. 123456789)
if not string.match( id, '^%d%d%d%d%d%d%d%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="http://www.sikart.ch/KuenstlerInnen.aspx?id='" href="http://www.sikart.ch/KuenstlerInnen.aspx?id='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;lng=en ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.sikart.ch/KuenstlerInnen.aspx?id='" href="https://web.archive.org/web/http://www.sikart.ch/KuenstlerInnen.aspx?id='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'SIKART' )
end
</p><p>function p.tlsLink( id )
local id2 = id:gsub(' +', '_')
--P1362's format regex: \p{Lu}[\p{L}\d_',\.\-\(\)\*/–]{3,59} (e.g. Abcd)
local class = "[%a%d_',%.%-%(%)%*/–]"
local regex = "^%u" .. string.rep(class, 3) .. string.rep(class.."?", 56) .. "$"
if not mw.ustring.match( id2, regex ) then
return false
end
return '<a class="external text" data-href="http://tls.theaterwissenschaft.ch/wiki/'" href="http://tls.theaterwissenschaft.ch/wiki/'" rel="noreferrer noopener" target="_blank">.. id2 .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://tls.theaterwissenschaft.ch/wiki/'" href="https://web.archive.org/web/http://tls.theaterwissenschaft.ch/wiki/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'TLS' )
end
</p><p>function p.ciniiLink( id )
--P271's format regex: DA\d{7}[\dX] (e.g. DA12345678)
if not string.match( id, '^DA%d%d%d%d%d%d%d[%dX]$' ) then
return false
end
return '<a class="external text" data-href="https://ci.nii.ac.jp/author/'" href="https://ci.nii.ac.jp/author/'" rel="noreferrer noopener" target="_blank">.. id .. '?l=en ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://ci.nii.ac.jp/author/'" href="https://web.archive.org/web/https://ci.nii.ac.jp/author/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'CINII' )
end
</p><p>function p.bneLink( id )
--P950's format regex: (XX|FF|a)\d{4,7}|(bima|bimo|bica|bis[eo]|bivi|Mise|Mimo|Mima)\d{10} (e.g. XX1234567)
if not string.match( id, '^[XF][XF]%d%d%d%d%d?%d?%d?$' ) and
not string.match( id, '^a%d%d%d%d%d?%d?%d?$' ) and
not string.match( id, '^bi[mcsv][aoei]%d%d%d%d%d%d%d%d%d%d$' ) and
not string.match( id, '^Mi[sm][eoa]%d%d%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="http://catalogo.bne.es/uhtbin/authoritybrowse.cgi?action=display&amp;authority_id='" href="http://catalogo.bne.es/uhtbin/authoritybrowse.cgi?action=display&amp;authority_id='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://catalogo.bne.es/uhtbin/authoritybrowse.cgi?action=display&amp;authority_id='" href="https://web.archive.org/web/http://catalogo.bne.es/uhtbin/authoritybrowse.cgi?action=display&amp;authority_id='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'BNE' )
end
</p><p>function p.uscongressLink( id )
--P1157's format regex: [A-Z]00[01]\d{3} (e.g. A000123)
if not string.match( id, '^[A-Z]00[01]%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="http://bioguide.congress.gov/scripts/biodisplay.pl?index='" href="http://bioguide.congress.gov/scripts/biodisplay.pl?index='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://bioguide.congress.gov/scripts/biodisplay.pl?index='" href="https://web.archive.org/web/http://bioguide.congress.gov/scripts/biodisplay.pl?index='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'USCongress' )
end
</p><p>function p.naraLink( id )
--P1225's format regex: ^([1-9]\d{0,7})$ (e.g. 12345678)
if not string.match( id, '^[1-9]%d?%d?%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://catalog.archives.gov/id/'" href="https://catalog.archives.gov/id/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://catalog.archives.gov/id/'" href="https://web.archive.org/web/https://catalog.archives.gov/id/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NARA' )
end
</p><p>function p.botanistLink( id )
--P428's format regex: ('t )?(d')?(de )?(la )?(van (der )?)?(Ma?c)?(De)?(Di)?\p{Lu}?C?['\p{Ll}]*([-'. ]*(van )?(y )?(d[ae][nr]?[- ])?(Ma?c)?[\p{Lu}bht]?C?['\p{Ll}]*)*\.? ?f?\.? (e.g. L.)
--not easily/meaningfully implementable in Lua's regex since "(this)?" is not allowed...
if not mw.ustring.match( id, "^[%u%l%d%. '-]+$" ) then --better than nothing
return false
end
local id2 = id:gsub(' +', '%%20')
return '<a class="external text" data-href="http://www.ipni.org/ipni/advAuthorSearch.do?find_abbreviation='" href="http://www.ipni.org/ipni/advAuthorSearch.do?find_abbreviation='" rel="noreferrer noopener" target="_blank">.. id2 .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.ipni.org/ipni/advAuthorSearch.do?find_abbreviation='" href="https://web.archive.org/web/http://www.ipni.org/ipni/advAuthorSearch.do?find_abbreviation='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'Botanist' )
end
</p><p>function p.mgpLink( id )
--P549's format regex: \d{1,6} (e.g. 123456)
if not string.match( id, '^%d%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="http://www.genealogy.ams.org/id.php?id='" href="http://www.genealogy.ams.org/id.php?id='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.genealogy.ams.org/id.php?id='" href="https://web.archive.org/web/http://www.genealogy.ams.org/id.php?id='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'MGP' )
end
</p><p>function p.rslLink( id )
--P947's format regex: \d{1,9} (e.g. 123456789)
if not string.match( id, '^%d%d?%d?%d?%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="http://aleph.rsl.ru/F?func=find-b&amp;find_code=SYS&amp;adjacent=Y&amp;local_base=RSL11&amp;request='" href="http://aleph.rsl.ru/F?func=find-b&amp;find_code=SYS&amp;adjacent=Y&amp;local_base=RSL11&amp;request='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;CON_LNG=ENG ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://aleph.rsl.ru/F?func=find-b&amp;find_code=SYS&amp;adjacent=Y&amp;local_base=RSL11&amp;request='" href="https://web.archive.org/web/http://aleph.rsl.ru/F?func=find-b&amp;find_code=SYS&amp;adjacent=Y&amp;local_base=RSL11&amp;request='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'RSL' )
end
</p><p>function p.leonoreLink( id )
--P640's format regex: LH/\d{1,4}/\d{1,3}|19800035/\d{1,4}/\d{1,5}(Bis)?|C/0/\d{1,2} (e.g. LH/2064/18)
if not id:match( '^LH/%d%d?%d?%d?/%d%d?%d?$' ) and --IDs from LH/1/1 to LH/2794/54 (legionaries)
not id:match( '^19800035/%d%d?%d?%d?/%d%d?%d?%d?%d?$' ) and --IDs from 19800035/1/1 to 19800035/385/51670 (legionnaires who died 1954-1977 &amp; some who died &lt; 1954)
not id:match( '^C/0/%d%d?$' ) then --IDs from C/0/1 to C/0/84 (84 famous legionaries)
return false
end
return '<a class="external text" data-href="http://www.culture.gouv.fr/public/mistral/leonore_fr?ACTION=CHERCHER&amp;FIELD_1=COTE&amp;VALUE_1='" href="http://www.culture.gouv.fr/public/mistral/leonore_fr?ACTION=CHERCHER&amp;FIELD_1=COTE&amp;VALUE_1='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.culture.gouv.fr/public/mistral/leonore_fr?ACTION=CHERCHER&amp;FIELD_1=COTE&amp;VALUE_1='" href="https://web.archive.org/web/http://www.culture.gouv.fr/public/mistral/leonore_fr?ACTION=CHERCHER&amp;FIELD_1=COTE&amp;VALUE_1='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'Léonore' )
end
</p><p>function p.sbnLink( id )
--P396's format regex: IT\\ICCU\\(\d{10}|\D\D[\D\d]\D\\\d{6}) (e.g. IT\ICCU\CFIV\000163)
if not string.match( id, '^IT\\ICCU\\%d%d%d%d%d%d%d%d%d%d$' ) and
not string.match( id, '^IT\\ICCU\\%u%u[%u%d]%u\\%d%d%d%d%d%d$' ) then --legacy: %u used here instead of %D (but the faulty ID cat is empty, out of ~12k uses)
return false
end
return '<a class="external text" data-href="http://opac.sbn.it/opacsbn/opac/iccu/scheda_authority.jsp?bid='" href="http://opac.sbn.it/opacsbn/opac/iccu/scheda_authority.jsp?bid='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://opac.sbn.it/opacsbn/opac/iccu/scheda_authority.jsp?bid='" href="https://web.archive.org/web/http://opac.sbn.it/opacsbn/opac/iccu/scheda_authority.jsp?bid='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'SBN' )
end
</p><p>function p.nkcLink( id )
--P691's format regex: [a-z]{2,4}[0-9]{2,14} (e.g. abcd12345678901234)
if not string.match( id, '^[a-z][a-z][a-z]?[a-z]?%d%d%d?%d?%d?%d?%d?%d?%d?%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://aleph.nkp.cz/F/?func=find-c&amp;local_base=aut&amp;ccl_term=ica='" href="https://aleph.nkp.cz/F/?func=find-c&amp;local_base=aut&amp;ccl_term=ica='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;CON_LNG=ENG ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://aleph.nkp.cz/F/?func=find-c&amp;local_base=aut&amp;ccl_term=ica='" href="https://web.archive.org/web/https://aleph.nkp.cz/F/?func=find-c&amp;local_base=aut&amp;ccl_term=ica='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NKC' )
end
</p><p>function p.nclLink( id )
--P1048's format regex: \d+ (e.g. 1081436)
if not string.match( id, '^%d+$' ) then
return false
end
return '<a class="external text" data-href="http://aleweb.ncl.edu.tw/F/?func=accref&amp;acc_sequence='" href="http://aleweb.ncl.edu.tw/F/?func=accref&amp;acc_sequence='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;CON_LNG=ENG ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://aleweb.ncl.edu.tw/F/?func=accref&amp;acc_sequence='" href="https://web.archive.org/web/http://aleweb.ncl.edu.tw/F/?func=accref&amp;acc_sequence='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NCL' )
end
</p><p>function p.ndlLink( id )
--P349's format regex: 0?\d{8} (e.g. 012345678)
if not string.match( id, '^0?%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://id.ndl.go.jp/auth/ndlna/'" href="https://id.ndl.go.jp/auth/ndlna/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://id.ndl.go.jp/auth/ndlna/'" href="https://web.archive.org/web/https://id.ndl.go.jp/auth/ndlna/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NDL' )
end
</p><p>function p.sudocLink( id )
--P269's format regex: (\d{8}[\dX]|) (e.g. 026927608)
if not string.match( id, '^%d%d%d%d%d%d%d%d[%dxX]$' ) then --legacy: allow lowercase 'x'
return false
end
return '<a class="external text" data-href="https://www.idref.fr/'" href="https://www.idref.fr/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://www.idref.fr/'" href="https://web.archive.org/web/https://www.idref.fr/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'SUDOC' )
end
</p><p>function p.hdsLink( id )
--P902's format regex: 50\d{3}|[1-4]\d{4}|[1-9]\d{0,3}| (e.g. 50123)
if not string.match( id, '^50%d%d%d$' ) and
not string.match( id, '^[1-4]%d%d%d%d$' ) and
not string.match( id, '^[1-9]%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="http://www.hls-dhs-dss.ch/textes/f/F'" href="http://www.hls-dhs-dss.ch/textes/f/F'" rel="noreferrer noopener" target="_blank">.. id .. '.php ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.hls-dhs-dss.ch/textes/f/F'" href="https://web.archive.org/web/http://www.hls-dhs-dss.ch/textes/f/F'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'HDS' )
end
</p><p>function p.lirLink( id )
--P886's format regex: \d+ (e.g. 1)
if not string.match( id, '^%d+$' ) then
return false
end
return '<a class="external text" data-href="http://www.e-lir.ch/e-LIR___Lexicon.'" href="http://www.e-lir.ch/e-LIR___Lexicon.'" rel="noreferrer noopener" target="_blank">.. id .. '.450.0.html ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.e-lir.ch/e-LIR___Lexicon.'" href="https://web.archive.org/web/http://www.e-lir.ch/e-LIR___Lexicon.'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'LIR' )
end
</p><p>function p.splitLccn( id )
--P244's format regex: (n|nb|nr|no|ns|sh)([4-9][0-9]|00|20[0-1][0-9])[0-9]{6} (e.g. n78039510)
if id:match( '^%l%l?%l?%d%d%d%d%d%d%d%d%d?%d?$' ) then
id = id:gsub( '^(%l+)(%d+)(%d%d%d%d%d%d)$', '%1/%2/%3' )
end
if id:match( '^%l%l?%l?/%d%d%d?%d?/%d+$' ) then
return mw.text.split( id, '/' )
end
return false
end
</p><p>function p.append(str, c, length)
while str:len() &lt; length do
str = c .. str
end
return str
end
</p><p>function p.lccnLink( id )
local parts = p.splitLccn( id ) --e.g. n78039510
if not parts then
return false
end
local lccnType = parts[1] ~= 'sh' and 'names' or 'subjects'
id = parts[1] .. parts[2] .. p.append( parts[3], '0', 6 )
return '<a class="external text" data-href="http://id.loc.gov/authorities/'" href="http://id.loc.gov/authorities/'" rel="noreferrer noopener" target="_blank">.. lccnType .. '/' .. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://id.loc.gov/authorities/'" href="https://web.archive.org/web/http://id.loc.gov/authorities/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'LCCN' )
end
</p><p>function p.mbaLink( id )
--P434's format regex: [0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12} (e.g. 12345678-1234-1234-1234-1234567890AB)
if not string.match( id, '^%x%x%x%x%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%-%x%x%x%x%x%x%x%x%x%x%x%x$' ) then
return false
end
return '<a class="external text" data-href="https://musicbrainz.org/artist/'" href="https://musicbrainz.org/artist/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://musicbrainz.org/artist/'" href="https://web.archive.org/web/https://musicbrainz.org/artist/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'MusicBrainz' )
end
</p><p>--Returns the ISNI check digit isni must be a string where the 15 first elements are digits, e.g. 0000000066534145
function p.getIsniCheckDigit( isni )
local total = 0
for i = 1, 15 do
local digit = isni:byte( i ) - 48 --Get integer value
total = (total + digit) * 2
end
local remainder = total % 11
local result = (12 - remainder) % 11
if result == 10 then
return "X"
end
return tostring( result )
end
</p><p>--Validate ISNI (and ORCID) and retuns it as a 16 characters string or returns false if it's invalid
--See <a class="external free" data-href="http://support.orcid.org/knowledgebase/articles/116780-structure-of-the-orcid-identifier" href="http://support.orcid.org/knowledgebase/articles/116780-structure-of-the-orcid-identifier" rel="noreferrer noopener" target="_blank">http://support.orcid.org/knowledgebase/articles/116780-structure-of-the-orcid-identifier</a> <sup><a data-href="https://web.archive.org/web/http://support.orcid.org/knowledgebase/articles/116780-structure-of-the-orcid-identifier" href="https://web.archive.org/web/http://support.orcid.org/knowledgebase/articles/116780-structure-of-the-orcid-identifier" rel="noreferrer noopener" target="_blank">[archive]</a></sup>
function p.validateIsni( id )
--P213 (ISNI) format regex: [0-9]{4} [0-9]{4} [0-9]{4} [0-9]{3}[0-9X] (e.g. 0000-0000-6653-4145)
--P496 (ORCID) format regex: 0000-000(1-[5-9]|2-[0-9]|3-[0-4])\d{3}-\d{3}[\dX] (e.g. 0000-0002-7398-5483)
id = id:gsub( '[ %-]', <i> ):upper()</i>
if not id:match( '^%d%d%d%d%d%d%d%d%d%d%d%d%d%d%d[%dX]$' ) then
return false
end
if p.getIsniCheckDigit( id ) ~= string.char( id:byte( 16 ) ) then
return false
end
return id
end
</p><p>function p.isniLink( id )
id = p.validateIsni( id ) --e.g. 0000-0000-6653-4145
if not id then
return false
end
return '<a class="external text" data-href="http://isni.org/isni/'" href="http://isni.org/isni/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id:sub( 1, 4 ) .. ' ' .. id:sub( 5, 8 ) .. ' ' .. id:sub( 9, 12 ) .. ' ' .. id:sub( 13, 16 ) .. '</a> <sup><a data-href="https://web.archive.org/web/http://isni.org/isni/'" href="https://web.archive.org/web/http://isni.org/isni/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'ISNI' )
end
</p><p>function p.orcidLink( id )
id = p.validateIsni( id ) --e.g. 0000-0002-7398-5483
if not id then
return false
end
id = id:sub( 1, 4 ) .. '-' .. id:sub( 5, 8 ) .. '-' .. id:sub( 9, 12 ) .. '-' .. id:sub( 13, 16 )
return '<a class="external text" data-href="https://orcid.org/'" href="https://orcid.org/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://orcid.org/'" href="https://web.archive.org/web/https://orcid.org/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'ORCID' )
end
</p><p>function p.gndLink( id )
--P227's format regex: (1|1[01])\d{7}[0-9X]|[47]\d{6}-\d|[1-9]\d{0,7}-[0-9X]|3\d{7}[0-9X] (e.g. 4079154-3)
if not string.match( id, '^1[01]?%d%d%d%d%d%d%d[0-9X]$' ) and
not string.match( id, '^[47]%d%d%d%d%d%d%-%d$' ) and
not string.match( id, '^[1-9]%d?%d?%d?%d?%d?%d?%d?%-[0-9X]$' ) and
not string.match( id, '^3%d%d%d%d%d%d%d[0-9X]$' ) then
return false
end
return '<a class="external text" data-href="https://d-nb.info/gnd/'" href="https://d-nb.info/gnd/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://d-nb.info/gnd/'" href="https://web.archive.org/web/https://d-nb.info/gnd/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'GND' )
end
</p><p>function p.selibrLink( id )
--P906's format regex: [1-9]\d{4,5} (e.g. 123456)
if not string.match( id, '^[1-9]%d%d%d%d%d?$' ) then
return false
end
return '<a class="external text" data-href="https://libris.kb.se/auth/'" href="https://libris.kb.se/auth/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://libris.kb.se/auth/'" href="https://web.archive.org/web/https://libris.kb.se/auth/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'SELIBR' )
end
</p><p>function p.bnfLink( id )
--P268's format regex: \d{8}[0-9bcdfghjkmnpqrstvwxz] (e.g. 123456789)
if not string.match( id, '^c?b?%d%d%d%d%d%d%d%d[0-9bcdfghjkmnpqrstvwxz]$' ) then
return false
end
--Add cb prefix if it has been removed
if not string.match( id, '^cb.+$' ) then
id = 'cb' .. id
end
return '<a class="external text" data-href="http://catalogue.bnf.fr/ark:/12148/'" href="http://catalogue.bnf.fr/ark:/12148/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://catalogue.bnf.fr/ark:/12148/'" href="https://web.archive.org/web/http://catalogue.bnf.fr/ark:/12148/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup> <a class="external text" data-href="http://data.bnf.fr/ark:/12148/'" href="http://data.bnf.fr/ark:/12148/'" rel="noreferrer noopener" target="_blank">.. id .. ' (data)</a> <sup><a data-href="https://web.archive.org/web/http://data.bnf.fr/ark:/12148/'" href="https://web.archive.org/web/http://data.bnf.fr/ark:/12148/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'BNF' )
end
</p><p>function p.bpnLink( id )
--P651's format regex: \d{8} (e.g. 12345678)
if not string.match( id, '^%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="http://www.biografischportaal.nl/en/persoon/'" href="http://www.biografischportaal.nl/en/persoon/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www.biografischportaal.nl/en/persoon/'" href="https://web.archive.org/web/http://www.biografischportaal.nl/en/persoon/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'BPN' )
end
</p><p>function p.ridLink( id )
--P1053's format regex: [A-Z]-\d{4}-(19|20)\d\d (e.g. A-1234-1934)
if not string.match( id, '^[A-Z]%-%d%d%d%d%-19%d%d$' ) and
not string.match( id, '^[A-Z]%-%d%d%d%d%-20%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://www.researcherid.com/rid/'" href="https://www.researcherid.com/rid/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://www.researcherid.com/rid/'" href="https://web.archive.org/web/https://www.researcherid.com/rid/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'RID' )
end
</p><p>function p.bibsysLink( id )
--P1015's format regex: [1-9]\d* or [1-9](\d{0,8}|\d{12}) (e.g. 1234567890123)
--TODO: follow up @ <a class="new" data-href="/w/index.php?title=D:Property_talk:P1015&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=D:Property_talk:P1015&amp;action=edit&amp;redlink=1.html" title="D:Property talk:P1015 (page does not exist)">d:Property talk:P1015#Discrepancy between the 2 regex constraints</a> or escalate/investigate
if not string.match( id, '^[1-9]%d?%d?%d?%d?%d?%d?%d?%d?$' ) and
not string.match( id, '^[1-9]%d%d%d%d%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://authority.bibsys.no/authority/rest/authorities/html/'" href="https://authority.bibsys.no/authority/rest/authorities/html/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://authority.bibsys.no/authority/rest/authorities/html/'" href="https://web.archive.org/web/https://authority.bibsys.no/authority/rest/authorities/html/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'BIBSYS' )
end
</p><p>function p.ulanLink( id )
--P245's format regex: 500\d{6} (e.g. 500123456)
if not string.match( id, '^500%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://www.getty.edu/vow/ULANFullDisplay?find=&amp;role=&amp;nation=&amp;subjectid='" href="https://www.getty.edu/vow/ULANFullDisplay?find=&amp;role=&amp;nation=&amp;subjectid='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://www.getty.edu/vow/ULANFullDisplay?find=&amp;role=&amp;nation=&amp;subjectid='" href="https://web.archive.org/web/https://www.getty.edu/vow/ULANFullDisplay?find=&amp;role=&amp;nation=&amp;subjectid='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'ULAN' )
end
</p><p>function p.nlaLink( id )
--P409's format regex: [1-9][0-9]{0,11} (e.g. 123456789012)
if not string.match( id, '^[1-9]%d?%d?%d?%d?%d?%d?%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://nla.gov.au/anbd.aut-an'" href="https://nla.gov.au/anbd.aut-an'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://nla.gov.au/anbd.aut-an'" href="https://web.archive.org/web/https://nla.gov.au/anbd.aut-an'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NLA' )
end
</p><p>function p.rkdartistsLink( id )
--P650's format regex: [1-9]\d{0,5} (e.g. 123456)
if not string.match( id, '^[1-9]%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://rkd.nl/en/explore/artists/'" href="https://rkd.nl/en/explore/artists/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://rkd.nl/en/explore/artists/'" href="https://web.archive.org/web/https://rkd.nl/en/explore/artists/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'RKDartists' )
end
</p><p>function p.snacLink( id )
--P3430's format regex: \d*[A-Za-z][0-9A-Za-z]* (e.g. A)
if not string.match( id, '^%d*[A-Za-z][0-9A-Za-z]*$' ) then
return false
end
return '<a class="external text" data-href="http://socialarchive.iath.virginia.edu/ark:/99166/'" href="http://socialarchive.iath.virginia.edu/ark:/99166/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://socialarchive.iath.virginia.edu/ark:/99166/'" href="https://web.archive.org/web/http://socialarchive.iath.virginia.edu/ark:/99166/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'SNAC-ID' )
end
</p><p>function p.dblpLink( id )
--P2456's format regex: \d{2,3} /\d+(-\d+)?|[a-z] /[a-zA-Z][0-9A-Za-z]*(-\d+)? (e.g. 123/123)
if not string.match( id, '^%d%d%d?/%d+$' ) and
not string.match( id, '^%d%d%d?/%d+%-%d+$' ) and
not string.match( id, '^[a-z]/[a-zA-Z][0-9A-Za-z]*$' ) and
not string.match( id, '^[a-z]/[a-zA-Z][0-9A-Za-z]*%-%d+$' ) then
return false
end
return '<a class="external text" data-href="https://dblp.org/pid/'" href="https://dblp.org/pid/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://dblp.org/pid/'" href="https://web.archive.org/web/https://dblp.org/pid/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'DBLP' )
end
</p><p>function p.acmLink( id )
--P864's format regex: \d{11} (e.g. 12345678901)
if not string.match( id, '^%d%d%d%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://dl.acm.org/author_page.cfm?id='" href="https://dl.acm.org/author_page.cfm?id='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://dl.acm.org/author_page.cfm?id='" href="https://web.archive.org/web/https://dl.acm.org/author_page.cfm?id='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'ACM-DL' )
end
</p><p>function p.autoresuyLink( id )
--P2558's format regex: [1-9]\d{0,4} (e.g. 12345)
if not string.match( id, '^[1-9]%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="http://autores.uy/autor/'" href="http://autores.uy/autor/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://autores.uy/autor/'" href="https://web.archive.org/web/http://autores.uy/autor/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'autores.uy' )
end
</p><p>function p.picLink( id )
--P2750's format regex: [1-9]\d* (e.g. 1)
if not string.match( id, '^[1-9]%d*$' ) then
return false
end
return '<a class="external text" data-href="https://pic.nypl.org/constituents/'" href="https://pic.nypl.org/constituents/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://pic.nypl.org/constituents/'" href="https://web.archive.org/web/https://pic.nypl.org/constituents/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'PIC' )
end
</p><p>function p.bildLink( id )
--P2092's format regex: \d+ (e.g. 1)
if not string.match( id, '^%d+$' ) then
return false
end
return '<a class="external text" data-href="https://www.bildindex.de/document/obj'" href="https://www.bildindex.de/document/obj'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://www.bildindex.de/document/obj'" href="https://web.archive.org/web/https://www.bildindex.de/document/obj'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'Bildindex' )
end
</p><p>function p.jocondeLink( id )
--P347's format regex: [\-0-9A-Za-z]{11} (e.g. 12345678901)
local regex = '^' .. string.rep('[%-0-9A-Za-z]', 11) .. '$'
if not string.match( id, regex ) then
return false
end
return '<a class="external text" data-href="http://www2.culture.gouv.fr/public/mistral/joconde_fr?ACTION=CHERCHER&amp;FIELD_1=REF&amp;VALUE_1='" href="http://www2.culture.gouv.fr/public/mistral/joconde_fr?ACTION=CHERCHER&amp;FIELD_1=REF&amp;VALUE_1='" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://www2.culture.gouv.fr/public/mistral/joconde_fr?ACTION=CHERCHER&amp;FIELD_1=REF&amp;VALUE_1='" href="https://web.archive.org/web/http://www2.culture.gouv.fr/public/mistral/joconde_fr?ACTION=CHERCHER&amp;FIELD_1=REF&amp;VALUE_1='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'Joconde' )
end
</p><p>function p.rkdidLink( id )
--P350's format regex: [1-9]\d{0,5} (e.g. 123456)
if not string.match( id, '^[1-9]%d?%d?%d?%d?%d?$' ) then
return false
end
return '<a class="external text" data-href="https://rkd.nl/nl/explore/images/'" href="https://rkd.nl/nl/explore/images/'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://rkd.nl/nl/explore/images/'" href="https://web.archive.org/web/https://rkd.nl/nl/explore/images/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'RKDID' )
end
</p><p>function p.balatLink( id )
--P3293's format regex: \d+ (e.g. 1)
if not string.match( id, '^%d+$' ) then
return false
end
return '<a class="external text" data-href="http://balat.kikirpa.be/object/104257'" href="http://balat.kikirpa.be/object/104257'" rel="noreferrer noopener" target="_blank">.. id .. ' ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://balat.kikirpa.be/object/104257'" href="https://web.archive.org/web/http://balat.kikirpa.be/object/104257'" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'BALaT' )
end
</p><p>function p.lnbLink( id )
--P1368's format regex: \d{9} (e.g. 123456789)
if not string.match( id, '^%d%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="https://kopkatalogs.lv/F?func=direct&amp;local_base=lnc10&amp;doc_number='" href="https://kopkatalogs.lv/F?func=direct&amp;local_base=lnc10&amp;doc_number='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;P_CON_LNG=ENG ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/https://kopkatalogs.lv/F?func=direct&amp;local_base=lnc10&amp;doc_number='" href="https://web.archive.org/web/https://kopkatalogs.lv/F?func=direct&amp;local_base=lnc10&amp;doc_number='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'LNB' )
end
</p><p>function p.nskLink( id )
--P1375's format regex: \d{9} (e.g. 123456789)
if not string.match( id, '^%d%d%d%d%d%d%d%d%d$' ) then
return false
end
return '<a class="external text" data-href="http://katalog.nsk.hr/F/?func=direct&amp;doc_number='" href="http://katalog.nsk.hr/F/?func=direct&amp;doc_number='" rel="noreferrer noopener" target="_blank">.. id .. '&amp;local_base=nsk10 ' .. id .. '</a> <sup><a data-href="https://web.archive.org/web/http://katalog.nsk.hr/F/?func=direct&amp;doc_number='" href="https://web.archive.org/web/http://katalog.nsk.hr/F/?func=direct&amp;doc_number='" rel="noreferrer noopener" target="_blank">[archive]</a></sup>' .. p.getCatForId( 'NSK' )
end
</p><p>--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
--<a class="new" data-href="/w/index.php?title=Wikidata,_navigation_bar,_and_documentation_functions&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Wikidata,_navigation_bar,_and_documentation_functions&amp;action=edit&amp;redlink=1.html" title="Wikidata, navigation bar, and documentation functions (page does not exist)">Wikidata, navigation bar, and documentation functions </a>
--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
</p><p>function p.getIdsFromWikidata( itemId, property )
local ids = {}
local statements = mw.wikibase.getBestStatements( itemId, property )
if statements then
for _, statement in ipairs( statements ) do
if statement.mainsnak.datavalue then
table.insert( ids, statement.mainsnak.datavalue.value )
end
end
end
return ids
end
</p><p>function p.matchesWikidataRequirements( itemId, reqs )
for _, group in ipairs( reqs ) do
local property = 'P' .. group[1]
local qid = group[2]
local statements = mw.wikibase.getBestStatements( itemId, property )
if statements then
for _, statement in ipairs( statements ) do
if statement.mainsnak.datavalue then
if statement.mainsnak.datavalue.value['numeric-id'] == qid then
return true
end
end
end
end
end
return false
end
</p><p>function p.createRow( id, label, rawValue, link, withUid )
if link then
if withUid then
return '*<span class="nowrap">' .. label .. ' <span class="uid">' .. link .. '</span></span>\n'
end
return '*<span class="nowrap">' .. label .. ' ' .. link .. '</span>\n'
end
</p><p>	local catName = 'Wikipedia articles with faulty authority control identifiers (' .. id .. ')'
return '* <span class="error">The ' .. id .. ' id ' .. rawValue .. ' is not valid.</span>' .. p.redCatLink(catName) .. '\n'
end
</p><p>-- Creates a human-readable standalone wikitable version of p.conf, and tracking categories with page counts, for use in the documentation
function p.docConfTable( frame )
local wikiTable = '{| class="wikitable sortable"\n' ..
'! rowspan=2 | Parameter\n' ..
'! rowspan=2 | Label\n' ..
'! rowspan=2; data-sort-type=number | Wikidata property\n' ..
'! colspan=4 | Tracking categories and page counts\n' ..
'|-\n' ..
'! Articles\n' ..
'! User pages\n' ..
'! Misc. pages\n' ..
'! Faulty IDs\n' ..
'|-\n'
</p><p>	local lang = mw.getContentLanguage()
for _, conf in pairs( p.conf ) do
local param, link, pid = conf[1], conf[2], conf[3]
if param == 'MBA' then param = 'MusicBrainz' end --it's weird; 'MusicBrainz' for cats only
local args = { id = 'f', pid }
local wpl = frame:expandTemplate{ title = 'Wikidata property link', args = args }
local articleCat = 'Wikipedia articles with '..param..' identifiers'
local userCat = 'User pages with '..param..' identifiers'
local miscCat = 'Miscellaneous pages with '..param..' identifiers'
local faultyCat = 'Wikipedia articles with faulty authority control identifiers ('..param..')'
local articleCount = lang:formatNum( mw.site.stats.pagesInCategory(articleCat, 'pages') )
local userCount = lang:formatNum( mw.site.stats.pagesInCategory(userCat, 'pages') )
local miscCount = lang:formatNum( mw.site.stats.pagesInCategory(miscCat, 'pages') )
local faultyCount = lang:formatNum( mw.site.stats.pagesInCategory(faultyCat, 'pages') )
if param == 'MusicBrainz' then param = 'MBA' end --it's weird; 'MBA' for param name only
wikiTable = wikiTable..'\n'..
'|-\n'..
'||'..param..
'||'..link..
'||data-sort-value='..pid..'|'..wpl..
'||style="text-align: right;"|<a class="new" data-href="/w/index.php?title=Category:%27..articleCat..%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27..articleCat..%27&amp;action=edit&amp;redlink=1.html" title="Category:'..articleCat..' (page does not exist)">'..articleCount..'</a>'..
'||style="text-align: right;"|<a class="new" data-href="/w/index.php?title=Category:%27.._userCat..%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27.._userCat..%27&amp;action=edit&amp;redlink=1.html" title="Category:'.. userCat..' (page does not exist)">'.. userCount..'</a>'..
'||style="text-align: right;"|<a class="new" data-href="/w/index.php?title=Category:%27.._miscCat..%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27.._miscCat..%27&amp;action=edit&amp;redlink=1.html" title="Category:'.. miscCat..' (page does not exist)">'.. miscCount..'</a>'..
'||style="text-align: right;"|<a class="new" data-href="/w/index.php?title=Category:%27.._faultyCat..%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27.._faultyCat..%27&amp;action=edit&amp;redlink=1.html" title="Category:'.. faultyCat..' (page does not exist)">'.. faultyCount..'</a>'
end
return wikiTable .. '\n|}'
end
</p><p>--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
--<a class="new" data-href="/w/index.php?title=Main&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Main&amp;action=edit&amp;redlink=1.html" title="Main (page does not exist)">Main </a>
--<a class="new" data-href="/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D&amp;action=edit&amp;redlink=1.html" title="========================================================================== (page does not exist)">==========================================================================</a>
</p><p>-- Check that the Wikidata item has this property--&gt;value before adding it
local reqs = {}
</p><p>-- Parameter format: { name of the parameter, label, propertyId in Wikidata, formatting function }
p.conf = {
{ 'ACM-DL', '<a class="new" data-href="/w/index.php?title=ACM_Digital_Library&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=ACM_Digital_Library&amp;action=edit&amp;redlink=1.html" title="ACM Digital Library (page does not exist)">ACM DL</a>', 864, p.acmLink },
{ 'autores.uy', '<a class="new" data-href="/w/index.php?title=Autores.uy&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Autores.uy&amp;action=edit&amp;redlink=1.html" title="Autores.uy (page does not exist)">autores.uy</a>', 2558, p.autoresuyLink },
{ 'BALaT', '<a class="new" data-href="/w/index.php?title=D:Q2876688&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=D:Q2876688&amp;action=edit&amp;redlink=1.html" title="D:Q2876688 (page does not exist)">BALaT</a>', 3293, p.balatLink },
{ 'BIBSYS', '<a class="new" data-href="/w/index.php?title=BIBSYS&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=BIBSYS&amp;action=edit&amp;redlink=1.html" title="BIBSYS (page does not exist)">BIBSYS</a>', 1015, p.bibsysLink },
{ 'Bildindex', '<a class="new" data-href="/w/index.php?title=Marburg_Picture_Index&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Marburg_Picture_Index&amp;action=edit&amp;redlink=1.html" title="Marburg Picture Index (page does not exist)">Bildindex</a>', 2092, p.bildLink },
{ 'BNE', '<a class="new" data-href="/w/index.php?title=Biblioteca_Nacional_de_Espa%C3%B1a&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Biblioteca_Nacional_de_Espa%C3%B1a&amp;action=edit&amp;redlink=1.html" title="Biblioteca Nacional de España (page does not exist)">BNE</a>', 950, p.bneLink },
{ 'BNF', '<a class="new" data-href="/w/index.php?title=Biblioth%C3%A8que_nationale_de_France&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Biblioth%C3%A8que_nationale_de_France&amp;action=edit&amp;redlink=1.html" title="Bibliothèque nationale de France (page does not exist)">BNF</a>', 268, p.bnfLink },
{ 'Botanist', '<a class="new" data-href="/w/index.php?title=Author_citation_(botany)&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Author_citation_(botany)&amp;action=edit&amp;redlink=1.html" title="Author citation (botany) (page does not exist)">Botanist</a>', 428, p.botanistLink },
{ 'BPN', '<a class="new" data-href="/w/index.php?title=Biografisch_Portaal&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Biografisch_Portaal&amp;action=edit&amp;redlink=1.html" title="Biografisch Portaal (page does not exist)">BPN</a>', 651, p.bpnLink },
{ 'CINII', '<a class="new" data-href="/w/index.php?title=CiNii&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=CiNii&amp;action=edit&amp;redlink=1.html" title="CiNii (page does not exist)">CiNii</a>', 271, p.ciniiLink },
{ 'DBLP', '<a class="new" data-href="/w/index.php?title=DBLP&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=DBLP&amp;action=edit&amp;redlink=1.html" title="DBLP (page does not exist)">DBLP</a>', 2456, p.dblpLink },
{ 'GND', '<a class="new" data-href="/w/index.php?title=Integrated_Authority_File&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Integrated_Authority_File&amp;action=edit&amp;redlink=1.html" title="Integrated Authority File (page does not exist)">GND</a>', 227, p.gndLink },
{ 'HDS', '<a class="new" data-href="/w/index.php?title=Historical_Dictionary_of_Switzerland&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Historical_Dictionary_of_Switzerland&amp;action=edit&amp;redlink=1.html" title="Historical Dictionary of Switzerland (page does not exist)">HDS</a>', 902, p.hdsLink },
{ 'IAAF', '<a class="new" data-href="/w/index.php?title=International_Association_of_Athletics_Federations&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=International_Association_of_Athletics_Federations&amp;action=edit&amp;redlink=1.html" title="International Association of Athletics Federations (page does not exist)">IAAF</a>', 1146, p.iaafLink },
{ 'ISNI', '<a class="new" data-href="/w/index.php?title=International_Standard_Name_Identifier&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=International_Standard_Name_Identifier&amp;action=edit&amp;redlink=1.html" title="International Standard Name Identifier (page does not exist)">ISNI</a>', 213, p.isniLink },
{ 'Joconde', '<a class="new" data-href="/w/index.php?title=Joconde&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Joconde&amp;action=edit&amp;redlink=1.html" title="Joconde (page does not exist)">Joconde</a>' , 347, p.jocondeLink },
{ 'KULTURNAV', '<a class="new" data-href="/w/index.php?title=KulturNav&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=KulturNav&amp;action=edit&amp;redlink=1.html" title="KulturNav (page does not exist)">KulturNav</a>', 1248, p.kulturnavLink },
{ 'LCCN', '<a class="new" data-href="/w/index.php?title=Library_of_Congress_Control_Number&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Library_of_Congress_Control_Number&amp;action=edit&amp;redlink=1.html" title="Library of Congress Control Number (page does not exist)">LCCN</a>', 244, p.lccnLink },
{ 'LIR', '<a class="new" data-href="/w/index.php?title=Historical_Dictionary_of_Switzerland&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Historical_Dictionary_of_Switzerland&amp;action=edit&amp;redlink=1.html" title="Historical Dictionary of Switzerland (page does not exist)">LIR</a>', 886, p.lirLink },
{ 'LNB', '<a class="new" data-href="/w/index.php?title=National_Library_of_Latvia&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Library_of_Latvia&amp;action=edit&amp;redlink=1.html" title="National Library of Latvia (page does not exist)">LNB</a>', 1368, p.lnbLink },
{ 'Léonore', '<a class="new" data-href="/w/index.php?title=Base_L%C3%A9onore&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Base_L%C3%A9onore&amp;action=edit&amp;redlink=1.html" title="Base Léonore (page does not exist)">Léonore</a>', 640, p.leonoreLink },
{ 'MBA', '<a class="new" data-href="/w/index.php?title=MusicBrainz&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=MusicBrainz&amp;action=edit&amp;redlink=1.html" title="MusicBrainz (page does not exist)">MusicBrainz</a>', 434, p.mbaLink },
{ 'MGP', '<a class="new" data-href="/w/index.php?title=Mathematics_Genealogy_Project&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Mathematics_Genealogy_Project&amp;action=edit&amp;redlink=1.html" title="Mathematics Genealogy Project (page does not exist)">MGP</a>', 549, p.mgpLink },
{ 'NARA', '<a class="new" data-href="/w/index.php?title=National_Archives_and_Records_Administration&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Archives_and_Records_Administration&amp;action=edit&amp;redlink=1.html" title="National Archives and Records Administration (page does not exist)">NARA</a>', 1225, p.naraLink },
{ 'NCL', '<a class="new" data-href="/w/index.php?title=National_Central_Library&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Central_Library&amp;action=edit&amp;redlink=1.html" title="National Central Library (page does not exist)">NCL</a>', 1048, p.nclLink },
{ 'NDL', '<a class="new" data-href="/w/index.php?title=National_Diet_Library&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Diet_Library&amp;action=edit&amp;redlink=1.html" title="National Diet Library (page does not exist)">NDL</a>', 349, p.ndlLink },
{ 'NKC', '<a class="new" data-href="/w/index.php?title=National_Library_of_the_Czech_Republic&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Library_of_the_Czech_Republic&amp;action=edit&amp;redlink=1.html" title="National Library of the Czech Republic (page does not exist)">NKC</a>', 691, p.nkcLink },
{ 'NLA', '<a class="new" data-href="/w/index.php?title=National_Library_of_Australia&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_Library_of_Australia&amp;action=edit&amp;redlink=1.html" title="National Library of Australia (page does not exist)">NLA</a>', 409, p.nlaLink },
{ 'NSK', '<a class="new" data-href="/w/index.php?title=National_and_University_Library_in_Zagreb&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=National_and_University_Library_in_Zagreb&amp;action=edit&amp;redlink=1.html" title="National and University Library in Zagreb (page does not exist)">NSK</a>', 1375, p.nskLink },
{ 'ORCID', '<a class="new" data-href="/w/index.php?title=ORCID&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=ORCID&amp;action=edit&amp;redlink=1.html" title="ORCID (page does not exist)">ORCID</a>', 496, p.orcidLink },
{ 'PIC', '<a class="new" data-href="/w/index.php?title=D:Q23892012&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=D:Q23892012&amp;action=edit&amp;redlink=1.html" title="D:Q23892012 (page does not exist)">PIC</a>', 2750, p.picLink },
{ 'RID', '<a class="new" data-href="/w/index.php?title=ResearcherID&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=ResearcherID&amp;action=edit&amp;redlink=1.html" title="ResearcherID (page does not exist)">ResearcherID</a>', 1053, p.ridLink },
{ 'RKDartists', '<a class="new" data-href="/w/index.php?title=Netherlands_Institute_for_Art_History&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Netherlands_Institute_for_Art_History&amp;action=edit&amp;redlink=1.html" title="Netherlands Institute for Art History (page does not exist)">RKD</a>', 650, p.rkdartistsLink },
{ 'RKDID', '<a class="new" data-href="/w/index.php?title=D:Q17299580&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=D:Q17299580&amp;action=edit&amp;redlink=1.html" title="D:Q17299580 (page does not exist)">RKDimages ID</a>', 350, p.rkdidLink },
{ 'RSL', '<a class="new" data-href="/w/index.php?title=Russian_State_Library&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Russian_State_Library&amp;action=edit&amp;redlink=1.html" title="Russian State Library (page does not exist)">RSL</a>', 947, p.rslLink },
{ 'SBN', '<a class="new" data-href="/w/index.php?title=Istituto_Centrale_per_il_Catalogo_Unico&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Istituto_Centrale_per_il_Catalogo_Unico&amp;action=edit&amp;redlink=1.html" title="Istituto Centrale per il Catalogo Unico (page does not exist)">ICCU</a>', 396, p.sbnLink },
{ 'SELIBR', '<a class="new" data-href="/w/index.php?title=LIBRIS&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=LIBRIS&amp;action=edit&amp;redlink=1.html" title="LIBRIS (page does not exist)">SELIBR</a>', 906, p.selibrLink },
{ 'SIKART', '<a class="new" data-href="/w/index.php?title=SIKART&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=SIKART&amp;action=edit&amp;redlink=1.html" title="SIKART (page does not exist)">SIKART</a>', 781, p.sikartLink },
{ 'SNAC-ID', '<a class="new" data-href="/w/index.php?title=SNAC&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=SNAC&amp;action=edit&amp;redlink=1.html" title="SNAC (page does not exist)">SNAC</a>', 3430, p.snacLink },
{ 'SUDOC', '<a class="new" data-href="/w/index.php?title=Syst%C3%A8me_universitaire_de_documentation&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Syst%C3%A8me_universitaire_de_documentation&amp;action=edit&amp;redlink=1.html" title="Système universitaire de documentation (page does not exist)">SUDOC</a>', 269, p.sudocLink },
{ 'TLS', '<a class="new" data-href="/w/index.php?title=Theaterlexikon_der_Schweiz&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Theaterlexikon_der_Schweiz&amp;action=edit&amp;redlink=1.html" title="Theaterlexikon der Schweiz (page does not exist)">TLS</a>', 1362, p.tlsLink },
{ 'ULAN', '<a class="new" data-href="/w/index.php?title=Union_List_of_Artist_Names&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Union_List_of_Artist_Names&amp;action=edit&amp;redlink=1.html" title="Union List of Artist Names (page does not exist)">ULAN</a>', 245, p.ulanLink },
{ 'USCongress', '<a class="new" data-href="/w/index.php?title=Biographical_Directory_of_the_United_States_Congress&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Biographical_Directory_of_the_United_States_Congress&amp;action=edit&amp;redlink=1.html" title="Biographical Directory of the United States Congress (page does not exist)">US Congress</a>', 1157, p.uscongressLink },
{ 'VIAF', '<a class="new" data-href="/w/index.php?title=Virtual_International_Authority_File&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Virtual_International_Authority_File&amp;action=edit&amp;redlink=1.html" title="Virtual International Authority File (page does not exist)">VIAF</a>', 214, p.viafLink },
}
</p><p>-- Legitimate aliases to p.conf, for convenience
-- Format: { alias, parameter name in p.conf }
p.aliases = {
{ 'RLS', 'RSL' },
{ 'MusicBrainz', 'MBA' },
{ 'Leonore', 'Léonore' },
}
</p><p>-- Deprecated aliases to p.conf, which also get assigned to a tracking cat
-- Format: { deprecated parameter name, replacement parameter name in p.conf }
p.deprecated = {
{ 'GKD', 'GND' },
{ 'PND', 'GND' },
{ 'SWD', 'GND' },
{ 'NARA-organization', 'NARA' },
{ 'NARA-person', 'NARA' },
}
</p><p>function p.authorityControl( frame )
local resolve = require( "Module:ResolveEntityId" )
local title = mw.title.getCurrentTitle()
local namespace = title.namespace
local talkspace = (mw.site.talkNamespaces[namespace] ~= nil)
local testcases = (string.sub(title.subpageText,1,9) == 'testcases')
local parentArgs = frame:getParent().args
local elements = {} --create/insert rows later
local suppressedIdCat = <i></i>
local deprecatedIdCat = <i></i>
</p><p>	--Redirect aliases to proper parameter names
for _, a in pairs( p.aliases ) do
local alias, param = a[1], a[2]
if (parentArgs[param] == nil or parentArgs[param] == <i>) and parentArgs[alias] then</i>
parentArgs[param] = parentArgs[alias]
end
end
</p><p>	--Redirect deprecated parameters to proper parameter names, and assign tracking cat
for _, d in pairs( p.deprecated ) do
local dep, param = d[1], d[2]
if (parentArgs[param] == nil or parentArgs[param] == <i>) and parentArgs[dep] then</i>
parentArgs[param] = parentArgs[dep]
if namespace == 0 then
deprecatedIdCat = <i></i>
end
end
end
</p><p>	--Use QID= parameter for testing/example purposes only
local itemId = nil
if testcases or talkspace then
if parentArgs['QID'] then
itemId = 'Q' .. mw.ustring.gsub(parentArgs['QID'], '^[Qq]', <i>)</i>
itemId = resolve._entityid(frame, itemId) --nil if unresolvable
end
else
itemId = mw.wikibase.getEntityIdForCurrentPage()
end
</p><p>	--Wikidata fallback if requested
if itemId then
for _, params in ipairs( p.conf ) do
if params[3] &gt; 0 then
local val = parentArgs[params[1]]
if val == nil or val == <i> then</i>
local canUseWikidata = nil
if reqs[params[1]] then
canUseWikidata = p.matchesWikidataRequirements( itemId, reqs[params[1]] )
else
canUseWikidata = true
end
if canUseWikidata then
local wikidataIds = p.getIdsFromWikidata( itemId, 'P' .. params[3] )
if wikidataIds[1] then
if val == <i> and (namespace == 0 or testcases) then</i>
suppressedIdCat = <i></i>
else
parentArgs[params[1]] = wikidataIds[1]
end	end	end	end	end	end	end
</p><p>	--Worldcat
if parentArgs['WORLDCATID'] and parentArgs['WORLDCATID'] ~= <i> then</i>
table.insert( elements, p.createRow( 'WORLDCATID', <i>, parentArgs['WORLDCATID'], '<a class="external text" data-href="https://www.worldcat.org/identities/'" href="https://www.worldcat.org/identities/'" rel="noreferrer noopener" target="_blank">.. parentArgs['WORLDCATID'</a> <sup><a data-href="https://web.archive.org/web/https://www.worldcat.org/identities/'" href="https://web.archive.org/web/https://www.worldcat.org/identities/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup> .. ' WorldCat Identities]', false ) ) --Validation?</i>
elseif parentArgs['VIAF'] and string.match( parentArgs['VIAF'], '^%d+$' ) then -- Hackishly copy the validation code; this should go away when we move to using P1793 and P1630
table.insert( elements, p.createRow( 'VIAF', <i>, parentArgs['VIAF'], '<a class="external text" data-href="https://www.worldcat.org/identities/containsVIAFID/'" href="https://www.worldcat.org/identities/containsVIAFID/'" rel="noreferrer noopener" target="_blank">.. parentArgs['VIAF'</a> <sup><a data-href="https://web.archive.org/web/https://www.worldcat.org/identities/containsVIAFID/'" href="https://web.archive.org/web/https://www.worldcat.org/identities/containsVIAFID/'" rel="noreferrer noopener" target="_blank">[archive]</a></sup> .. ' WorldCat Identities]', false ) )</i>
elseif parentArgs['LCCN'] and parentArgs['LCCN'] ~= <i> then</i>
local lccnParts = p.splitLccn( parentArgs['LCCN'] )
if lccnParts and lccnParts[1] ~= 'sh' then
table.insert( elements, p.createRow( 'LCCN', <i>, parentArgs['LCCN'], '<a class="external text" data-href="https://www.worldcat.org/identities/lccn-'" href="https://www.worldcat.org/identities/lccn-'" rel="noreferrer noopener" target="_blank">.. lccnParts[1</a> <sup><a data-href="https://web.archive.org/web/https://www.worldcat.org/identities/lccn-'" href="https://web.archive.org/web/https://www.worldcat.org/identities/lccn-'" rel="noreferrer noopener" target="_blank">[archive]</a></sup> .. lccnParts[2] .. '-' .. lccnParts[3] .. ' WorldCat Identities]', false ) )</i>
end
end
</p><p>	--Configured rows
local rct = 0
for _, params in ipairs( p.conf ) do
local val = parentArgs[params[1]]
if val and val ~= <i> then</i>
table.insert( elements, p.createRow( params[1], params[2] .. ':', val, params[4]( val ), true ) )
rct = rct + 1
end
end
local Navbox = require('Module:Navbox')
local elementsCat = <i></i>
if rct &gt; 13 then
local catName = 'AC with ' .. rct .. ' elements'
elementsCat = <i> .. p.redCatLink(catName)</i>
end
</p><p>	local outString = <i></i>
if #elements &gt; 0 then
local args = {}
if testcases and itemId then args = { qid = itemId } end --expensive
local pencil = frame:expandTemplate{ title = 'EditAtWikidata', args = args}
outString = Navbox._navbox( {
name = 'Authority control',
bodyclass = 'hlist',
group1 = '<a class="new" data-href="/w/index.php?title=Help:Authority_control&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Help:Authority_control&amp;action=edit&amp;redlink=1.html" title="Help:Authority control (page does not exist)">Authority control</a>' .. pencil,
list1 = table.concat( elements )
} )
local auxCats = elementsCat .. suppressedIdCat .. deprecatedIdCat
if testcases then
auxCats = mw.ustring.gsub(auxCats, '(%[%[)(Category)', '%1:%2') --for easier checking
end
outString = outString .. auxCats
if namespace ~= 0 then
outString = mw.ustring.gsub(outString, '(%[%[)(Category:Wikipedia articles)', '%1:%2') --by definition
end
end
</p><p>	return outString
end
</p><p>return p
</p>
</div></div><div class="printfooter">
Retrieved from "<a data-href="/w/index.php?title=Authority_control&amp;oldid=37554" dir="ltr" href="https://www.whonix.org/w/index.php?title=Authority_control&amp;oldid=37554">https://www.whonix.org/w/index.php?title=Authority_control&amp;oldid=37554</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a class="new" data-href="/w/index.php?title=Category:%27_.._catName_.._%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27_.._catName_.._%27&amp;action=edit&amp;redlink=1.html" title="Category:' .. catName .. ' (page does not exist)">' .. catName .. '</a></li><li><a class="new" data-href="/w/index.php?title=Category:Blah&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Blah&amp;action=edit&amp;redlink=1.html" title="Category:Blah (page does not exist)">Blah</a></li><li><a class="new" data-href="/w/index.php?title=Category:Pages_with_red-linked_authority_control_categories&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Pages_with_red-linked_authority_control_categories&amp;action=edit&amp;redlink=1.html" title="Category:Pages with red-linked authority control categories (page does not exist)">Pages with red-linked authority control categories</a></li><li><a class="new" data-href="/w/index.php?title=Category:Wikipedia_articles_with_deprecated_authority_control_identifiers&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Wikipedia_articles_with_deprecated_authority_control_identifiers&amp;action=edit&amp;redlink=1.html" title="Category:Wikipedia articles with deprecated authority control identifiers (page does not exist)">Wikipedia articles with deprecated authority control identifiers</a></li><li><a class="new" data-href="/w/index.php?title=Category:Wikipedia_articles_with_suppressed_authority_control_identifiers&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Wikipedia_articles_with_suppressed_authority_control_identifiers&amp;action=edit&amp;redlink=1.html" title="Category:Wikipedia articles with suppressed authority control identifiers (page does not exist)">Wikipedia articles with suppressed authority control identifiers</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 2 October 2018, at 11:20.</li>
<li id="footer-Imprint"><a data-href="Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="DMCA" href="./DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
</html>
