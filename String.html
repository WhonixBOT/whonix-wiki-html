<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: String - Whonix
 url: ./String
 date: Tue Oct  6 07:54:23 2020
-->
<head>
<meta charset="utf-8"/>
<title>String - Whonix</title>
<link rel="stylesheet" type="text/css" href="style.css">
<style>

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}

#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;

 background-image:url(data:image/png;base64,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);

 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>


<meta content="" name="ResourceLoaderDynamicStyles"/>
<meta content="MediaWiki 1.35.0" name="generator"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=String&amp;action=edit" href="https://www.whonix.org/w/index.php?title=String&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=String&amp;action=edit" href="https://www.whonix.org/w/index.php?title=String&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/w/images/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="//www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="String - Whonix" property="og:title"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="./String" property="og:url"/>
<meta content="https://www.whonix.org/w/resources/assets/wiki.png" property="og:image"/>
<meta content="2018-10-02T09:20:47Z" property="article:modified_time"/>
<meta content="2018-10-02T09:20:47Z" property="article:published_time"/>
<meta content="@Whonix" property="twitter:site"/>
<meta content="String - Whonix" property="twitter:title"/>
<meta content="https://www.whonix.org/w/resources/assets/wiki.png" property="twitter:image"/>
<meta content="summary_large_image" property="twitter:card"/>

<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-String rootpage-String skin-foreground action-view"><div class="mw-cookiewarning-container banner-container"><div class="mw-cookiewarning-text"><span>By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span>Â <a data-href="Terms_of_Service" href="./Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper">

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<div class="mw-indicators mw-body-content">
</div>
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><p>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="Donate" href="./Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
<span><b>Please Donate!</b></span>
</div>
</a>
</div>
<p>
</p></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="String" href="./String.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:String&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:String&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=String&amp;action=edit" href="https://www.whonix.org/w/index.php?title=String&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=String&amp;action=history" href="https://www.whonix.org/w/index.php?title=String&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<div id="content">
<h1 class="title" id="firstHeading">String</h1>
<h3 id="tagline">From Whonix</h3> <h5 class="subtitle" id="siteSub"><div class="flaggedrevs_short flaggedrevs_unreviewed plainlinks noprint" id="mw-fr-revisiontag"><span aria-disabled="false" class="flaggedrevs-icon oo-ui-widget oo-ui-widget-enabled oo-ui-iconElement-icon oo-ui-icon-block oo-ui-iconElement oo-ui-labelElement-invisible oo-ui-iconWidget.html" title="Pending changes are displayed on this page"></span><b><a data-href="/wiki/Help:Page_validation" href="./Help:Page_validation.html" title="Help:Page validation">Unchecked</a></b></div>
</h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p>--[[
</p><p>This module is intended to provide access to basic string functions.
</p><p>Most of the functions provided here can be invoked with named parameters,
unnamed parameters, or a mixture. If named parameters are used, Mediawiki will
automatically remove any leading or trailing whitespace from the parameter.
Depending on the intended use, it may be advantageous to either preserve or
remove such whitespace.
</p><p>Global options
</p>
<pre>   ignore_errors: If set to 'true' or 1, any error condition will result in 
       an empty string being returned rather than an error message.  
       
   error_category: If an error occurs, specifies the name of a category to 
       include with the error message.  The default category is  
       [Category:Errors reported by Module String].
       
   no_category: If set to 'true' or 1, no category will be added if an error
       is generated.
       
</pre>
<p>Unit tests for this module are available at Module:String/tests.
]]
</p><p>local str = {}
</p><p>--[[
len
</p><p>This function returns the length of the target string.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-0">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-1">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   s: The string whose length to report
</pre>
<p>If invoked using named parameters, Mediawiki will automatically remove any leading or
trailing whitespace from the target string.
]]
function str.len( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'s'} );
   local s = new_args['s'] or <i>;</i>
   return mw.ustring.len( s )
</pre>
<p>end
</p><p>--[[
sub
</p><p>This function returns a substring of the target string at specified indices.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-2">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-3">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   s: The string to return a subset of
   i: The fist index of the substring to return, defaults to 1.
   j: The last index of the string to return, defaults to the last character.
   
</pre>
<p>The first character of the string is assigned an index of 1. If either i or j
is a negative value, it is interpreted the same as selecting a character by
counting from the end of the string. Hence, a value of -1 is the same as
selecting the last character of the string.
</p><p>If the requested indices are out of range for the given string, an error is
reported.
]]
function str.sub( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, { 's', 'i', 'j' } );
   local s = new_args['s'] or <i>;</i>
   local i = tonumber( new_args['i'] ) or 1;
   local j = tonumber( new_args['j'] ) or -1;
   
   local len = mw.ustring.len( s );
</pre>
<pre>   -- Convert negatives for range checking
   if i &lt; 0 then
       i = len + i + 1;
   end
   if j &lt; 0 then
       j = len + j + 1;
   end
   
   if i &gt; len or j &gt; len or i &lt; 1 or j &lt; 1 then
       return str._error( 'String subset index out of range' );
   end
   if j &lt; i then
       return str._error( 'String subset indices out of order' );
   end
   
   return mw.ustring.sub( s, i, j )
</pre>
<p>end
</p><p>--[[
This function implements that features of <a class="new" data-href="/w/index.php?title=Template:Str_sub_old&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Template:Str_sub_old&amp;action=edit&amp;redlink=1.html" title="Template:Str sub old (page does not exist)">Template:Str sub old</a> and is kept in order
to maintain these older templates.
]]
function str.sublength( frame )
</p>
<pre>   local i = tonumber( frame.args.i ) or 0
   local len = tonumber( frame.args.len )
   return mw.ustring.sub( frame.args.s, i + 1, len and ( i + len ) )
</pre>
<p>end
</p><p>--[[
match
</p><p>This function returns a substring from the source string that matches a
specified pattern.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-4">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-5">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   s: The string to search
   pattern: The pattern or string to find within the string
   start: The index within the source string to start the search.  The first
       character of the string has index 1.  Defaults to 1.
   match: In some cases it may be possible to make multiple matches on a single 
       string.  This specifies which match to return, where the first match is 
       match= 1.  If a negative number is specified then a match is returned 
       counting from the last match.  Hence match = -1 is the same as requesting
       the last match.  Defaults to 1.
   plain: A flag indicating that the pattern should be understood as plain
       text.  Defaults to false.
   nomatch: If no match is found, output the "nomatch" value rather than an error.
</pre>
<p>If invoked using named parameters, Mediawiki will automatically remove any leading or
trailing whitespace from each string. In some circumstances this is desirable, in
other cases one may want to preserve the whitespace.
</p><p>If the match_number or start_index are out of range for the string being queried, then
this function generates an error. An error is also generated if no match is found.
If one adds the parameter ignore_errors=true, then the error will be suppressed and
an empty string will be returned on any failure.
</p><p>For information on constructing Lua patterns, a form of [regular expression], see:
</p>
<ul><li><a class="external free" data-href="http://www.lua.org/manual/5.1/manual.html#5.4.1" href="http://www.lua.org/manual/5.1/manual.html" rel="noreferrer noopener" target="_blank">http://www.lua.org/manual/5.1/manual.html#5.4.1</a> <sup><a data-href="https://web.archive.org/web/http://www.lua.org/manual/5.1/manual.html#5.4.1" href="https://web.archive.org/web/http://www.lua.org/manual/5.1/manual.html" rel="noreferrer noopener" target="_blank">[archive]</a></sup></li>
<li><a class="external free" data-href="http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Patterns" href="http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual" rel="noreferrer noopener" target="_blank">http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Patterns</a> <sup><a data-href="https://web.archive.org/web/http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Patterns" href="https://web.archive.org/web/http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual" rel="noreferrer noopener" target="_blank">[archive]</a></sup></li>
<li><a class="external free" data-href="http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Ustring_patterns" href="http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual" rel="noreferrer noopener" target="_blank">http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Ustring_patterns</a> <sup><a data-href="https://web.archive.org/web/http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual#Ustring_patterns" href="https://web.archive.org/web/http://www.mediawiki.org/wiki/Extension:Scribunto/Lua_reference_manual" rel="noreferrer noopener" target="_blank">[archive]</a></sup></li></ul>
<p>]]
function str.match( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'s', 'pattern', 'start', 'match', 'plain', 'nomatch'} );
   local s = new_args['s'] or <i>;</i>
   local start = tonumber( new_args['start'] ) or 1;
   local plain_flag = str._getBoolean( new_args['plain'] or false );
   local pattern = new_args['pattern'] or <i>;</i>
   local match_index = math.floor( tonumber(new_args['match']) or 1 );
   local nomatch = new_args['nomatch'];
   
   if s == <i> then</i>
       return str._error( 'Target string is empty' );
   end
   if pattern == <i> then</i>
       return str._error( 'Pattern string is empty' );
   end
   if math.abs(start) &lt; 1 or math.abs(start) &gt; mw.ustring.len( s ) then
       return str._error( 'Requested start is out of range' );
   end
   if match_index == 0 then
       return str._error( 'Match index is out of range' );
   end
   if plain_flag then
       pattern = str._escapePattern( pattern );
   end
   
   local result
   if match_index == 1 then
       -- Find first match is simple case
       result = mw.ustring.match( s, pattern, start )
   else
       if start &gt; 1 then
           s = mw.ustring.sub( s, start );
       end
       
       local iterator = mw.ustring.gmatch(s, pattern);
       if match_index &gt; 0 then
           -- Forward search
           for w in iterator do
               match_index = match_index - 1;
               if match_index == 0 then
                   result = w;
                   break;
               end
           end    
       else
           -- Reverse search
           local result_table = {};
           local count = 1;
           for w in iterator do
               result_table[count] = w;
               count = count + 1;
           end
           
           result = result_table[ count + match_index ];            
       end
   end        
   
   if result == nil then
       if nomatch == nil then
           return str._error( 'Match not found' );
       else
           return nomatch;
       end
   else
       return result;
   end
</pre>
<p>end
</p><p>--[[
pos
</p><p>This function returns a single character from the target string at position pos.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-6">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-7">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   target: The string to search
   pos: The index for the character to return
</pre>
<p>If invoked using named parameters, Mediawiki will automatically remove any leading or
trailing whitespace from the target string. In some circumstances this is desirable, in
other cases one may want to preserve the whitespace.
</p><p>The first character has an index value of 1.
</p><p>If one requests a negative value, this function will select a character by counting backwards
from the end of the string. In other words pos = -1 is the same as asking for the last character.
</p><p>A requested value of zero, or a value greater than the length of the string returns an error.
]]
function str.pos( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'target', 'pos'} );
   local target_str = new_args['target'] or <i>;</i>
   local pos = tonumber( new_args['pos'] ) or 0;
</pre>
<pre>   if pos == 0 or math.abs(pos) &gt; mw.ustring.len( target_str ) then
       return str._error( 'String index out of range' );
   end    
   
   return mw.ustring.sub( target_str, pos, pos );
</pre>
<p>end
</p><p>--[[
str_find
</p><p>This function duplicates the behavior of <a class="new" data-href="/w/index.php?title=Template:Str_find&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Template:Str_find&amp;action=edit&amp;redlink=1.html" title="Template:Str find (page does not exist)">Template:Str find</a>, including all of its quirks.
This is provided in order to support existing templates, but is NOT RECOMMENDED for
new code and templates. New code is recommended to use the "find" function instead.
</p><p>Returns the first index in "source" that is a match to "target". Indexing is 1-based,
and the function returns -1 if the "target" string is not present in "source".
</p><p>Important Note: If the "target" string is empty / missing, this function returns a
value of "1", which is generally unexpected behavior, and must be accounted for
separatetly.
]]
function str.str_find( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'source', 'target'} );
   local source_str = new_args['source'] or <i>;</i>
   local target_str = new_args['target'] or <i>;</i>
</pre>
<pre>   if target_str == <i> then</i>
       return 1;
   end    
   
   local start = mw.ustring.find( source_str, target_str, 1, true )
   if start == nil then
       start = -1
   end
   
   return start
</pre>
<p>end
</p><p>--[[
find
</p><p>This function allows one to search for a target string or pattern within another
string.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-8">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-9">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   source: The string to search
   target: The string or pattern to find within source
   start: The index within the source string to start the search, defaults to 1
   plain: Boolean flag indicating that target should be understood as plain
       text and not as a Lua style regular expression, defaults to true
</pre>
<p>If invoked using named parameters, Mediawiki will automatically remove any leading or
trailing whitespace from the parameter. In some circumstances this is desirable, in
other cases one may want to preserve the whitespace.
</p><p>This function returns the first index &gt;= "start" where "target" can be found
within "source". Indices are 1-based. If "target" is not found, then this
function returns 0. If either "source" or "target" are missing / empty, this
function also returns 0.
</p><p>This function should be safe for UTF-8 strings.
]]
function str.find( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'source', 'target', 'start', 'plain' } ); 
   local source_str = new_args['source'] or <i>;</i>
   local pattern = new_args['target'] or <i>;</i>
   local start_pos = tonumber(new_args['start']) or 1;
   local plain = new_args['plain'] or true;
       
   if source_str == <i> or pattern == </i> then
       return 0;
   end    
   
   plain = str._getBoolean( plain );
</pre>
<pre>   local start = mw.ustring.find( source_str, pattern, start_pos, plain )
   if start == nil then
       start = 0
   end
   
   return start
</pre>
<p>end
</p><p>--[[
replace
</p><p>This function allows one to replace a target string or pattern within another
string.
</p><p>Usage:
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-10">Script error: No such module "String".</span></strong>
OR
<strong class="error"><span class="scribunto-error" id="mw-scribunto-error-11">Script error: No such module "String".</span></strong>
</p><p>Parameters
</p>
<pre>   source: The string to search
   pattern: The string or pattern to find within source
   replace: The replacement text
   count: The number of occurences to replace, defaults to all.
   plain: Boolean flag indicating that pattern should be understood as plain
       text and not as a Lua style regular expression, defaults to true 
</pre>
<p>]]
function str.replace( frame )
</p>
<pre>   local new_args = str._getParameters( frame.args, {'source', 'pattern', 'replace', 'count', 'plain' } ); 
   local source_str = new_args['source'] or <i>;</i>
   local pattern = new_args['pattern'] or <i>;</i>
   local replace = new_args['replace'] or <i>;</i>
   local count = tonumber( new_args['count'] );
   local plain = new_args['plain'] or true;
       
   if source_str == <i> or pattern == </i> then
       return source_str;
   end    
   plain = str._getBoolean( plain );
</pre>
<pre>   if plain then
       pattern = str._escapePattern( pattern );
       replace = mw.ustring.gsub( replace, "%%", "%%%%" ); --Only need to escape replacement sequences.
   end
   
   local result;
</pre>
<pre>   if count ~= nil then
       result = mw.ustring.gsub( source_str, pattern, replace, count );
   else
       result = mw.ustring.gsub( source_str, pattern, replace );
   end        
</pre>
<pre>   return result;
</pre>
<p>end
</p><p>--[[
</p>
<pre>   simple function to pipe string.rep to templates.
</pre>
<p>]]
</p><p>function str.rep( frame )
</p>
<pre>   local repetitions = tonumber( frame.args[2] )
   if not repetitions then 
       return str._error( 'function rep expects a number as second parameter, received "' .. ( frame.args[2] or <i> ) .. '"' )</i>
   end
   return string.rep( frame.args[1] or <i>, repetitions )</i>
</pre>
<p>end
</p><p>--[[
Helper function that populates the argument list given that user may need to use a mix of
named and unnamed parameters. This is relevant because named parameters are not
identical to unnamed parameters due to string trimming, and when dealing with strings
we sometimes want to either preserve or remove that whitespace depending on the application.
]]
function str._getParameters( frame_args, arg_list )
</p>
<pre>   local new_args = {};
   local index = 1;
   local value;
   
   for i,arg in ipairs( arg_list ) do
       value = frame_args[arg]
       if value == nil then
           value = frame_args[index];
           index = index + 1;
       end
       new_args[arg] = value;
   end
   
   return new_args;
</pre>
<p>end
</p><p>--[[
Helper function to handle error messages.
]]
function str._error( error_str )
</p>
<pre>   local frame = mw.getCurrentFrame();
   local error_category = frame.args.error_category or 'Errors reported by Module String';
   local ignore_errors = frame.args.ignore_errors or false;
   local no_category = frame.args.no_category or false;
   
   if str._getBoolean(ignore_errors) then
       return <i>;</i>
   end
   
   local error_str = '<strong class="error">String Module Error: ' .. error_str .. '</strong>';
   if error_category ~= <i> and not str._getBoolean( no_category ) then</i>
       error_str = <i> .. error_str;</i>
   end        
   
   return error_str;
</pre>
<p>end
</p><p>--[[
Helper Function to interpret boolean strings
]]
function str._getBoolean( boolean_str )
</p>
<pre>   local boolean_value;
   
   if type( boolean_str ) == 'string' then
       boolean_str = boolean_str:lower();
       if boolean_str == 'false' or boolean_str == 'no' or boolean_str == '0' 
               or boolean_str == <i> then</i>
           boolean_value = false;
       else
           boolean_value = true;
       end    
   elseif type( boolean_str ) == 'boolean' then
       boolean_value = boolean_str;
   else
       error( 'No boolean value found' );
   end    
   return boolean_value
</pre>
<p>end
</p><p>--[[
Helper function that escapes all pattern characters so that they will be treated
as plain text.
]]
function str._escapePattern( pattern_str )
</p>
<pre>   return mw.ustring.gsub( pattern_str, "([%(%)%.%%%+%-%*%?%[%^%$%]])", "%%%1" );
</pre>
<p>end
</p><p>return str
</p>
</div></div><div class="printfooter">
Retrieved from "<a data-href="/w/index.php?title=String&amp;oldid=37586" dir="ltr" href="https://www.whonix.org/w/index.php?title=String&amp;oldid=37586">https://www.whonix.org/w/index.php?title=String&amp;oldid=37586</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="./Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a class="new" data-href="/w/index.php?title=Category:Pages_with_script_errors&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Pages_with_script_errors&amp;action=edit&amp;redlink=1.html" title="Category:Pages with script errors (page does not exist)">Pages with script errors</a></li><li><a class="new" data-href="/w/index.php?title=Category:%27_.._error_category_.._%27&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:%27_.._error_category_.._%27&amp;action=edit&amp;redlink=1.html" title="Category:' .. error category .. ' (page does not exist)">' .. error category .. '</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 2 October 2018, at 11:20.</li>
<li id="footer-Imprint"><a data-href="Imprint" href="./Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="Privacy_Policy" href="./Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="Cookie_Policy" href="./Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="Terms_of_Service" href="./Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="DMCA" href="./DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="E-Sign_Consent" href="./E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="Priority_Support" href="./Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="Investors" href="./Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="Professional_Support" href="./Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
<li class="copyright"> </li>
</ul>
</div>
</div>
</footer>
</div>

</body>
</html>
