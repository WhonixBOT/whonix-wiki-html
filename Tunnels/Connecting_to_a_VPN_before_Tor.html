<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Connecting to a VPN before Tor
 url: ../Tunnels/Connecting_to_a_VPN_before_Tor
 date: Thu Oct  8 07:55:59 2020
-->
<head>
<meta charset="utf-8"/>
<title>Connecting to a VPN before Tor</title>
<link rel="stylesheet" type="text/css" href="../style.css">
<style>

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}

#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;

 background-image:url(data:image/png;base64,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);

 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>


<meta content="" name="ResourceLoaderDynamicStyles"/>
<meta content="MediaWiki 1.35.0" name="generator"/>
<meta content="Instructions on how to connect to a VPN before Tor (User &amp;rarr; VPN &amp;rarr; Tor &amp;rarr; Internet)" name="description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/w/images/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="//www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="Connecting to a VPN before Tor" property="og:title"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="../Tunnels/Connecting_to_a_VPN_before_Tor" property="og:url"/>
<meta content="Instructions on how to connect to a VPN before Tor (User &amp;rarr; VPN &amp;rarr; Tor &amp;rarr; Internet)" property="og:description"/>
<meta content="https://www.whonix.org/w/images/b/bb/City-427640640.jpg" property="og:image"/>
<meta content="2020-06-19T12:37:22Z" property="article:modified_time"/>
<meta content="2020-06-19T12:37:22Z" property="article:published_time"/>
<meta content="@Whonix" property="twitter:site"/>
<meta content="Connecting to a VPN before Tor" property="twitter:title"/>
<meta content="Instructions on how to connect to a VPN before Tor (User &amp;rarr; VPN &amp;rarr; Tor &amp;rarr; Internet)" property="twitter:description"/>
<meta content="https://www.whonix.org/w/images/b/bb/City-427640640.jpg" property="twitter:image"/>
<meta content="summary_large_image" property="twitter:card"/>

<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/resources/lib/html5shiv/html5shiv.js"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-Tunnels_Connecting_to_a_VPN_before_Tor rootpage-Tunnels skin-foreground action-view"><div class="mw-cookiewarning-container banner-container"><div class="mw-cookiewarning-text"><span>By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span> <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper">

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<div class="mw-indicators mw-body-content">
</div>
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><p>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="../Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
<span><b>Please Donate!</b></span>
</div>
</a>
</div>
<p>
</p></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="Connecting_to_a_VPN_before_Tor" href="../Tunnels/Connecting_to_a_VPN_before_Tor.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=history" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<div id="content">
<h1 class="title" id="firstHeading">Connecting to a VPN before Tor</h1>
<h3 id="tagline">From Whonix</h3> <h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a class="mw-redirect" data-href="/wiki/Tunnels" href="../Tunnels.html" title="Tunnels">Tunnels</a></span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p class="mw-empty-elt">
</p><p><br/>
</p><p><br/>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a class="image" data-href="/w/index.php?title=File:City-427640640.jpg&amp;filetimestamp=20160215023055&amp;" href="https://www.whonix.org/w/index.php?title=File:City-427640640.jpg&amp;filetimestamp=20160215023055&amp;"><img alt="City-427640640.jpg" class="thumbimage" data-pagespeed-high-res-src="/w/images/thumb/b/bb/City-427640640.jpg/x300px-City-427640640.jpg.pagespeed.ic.Cayw81EnOn.jpg" data-pagespeed-high-res-srcset="/w/images/thumb/b/bb/City-427640640.jpg/450px-City-427640640.jpg 1.5x, /w/images/thumb/b/bb/City-427640640.jpg/600px-City-427640640.jpg 2x" data-pagespeed-url-hash="1237676487" data-src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAEsASwDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAuEAEBAAICAgIBAwMDBAMAAAAAAQIRITESQVFhcSKBkQMyQhOx8VJioeHB0fD/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/8QAHREBAQEBAQADAQEAAAAAAAAAAAERAjESIUEyQv/aAAwDAQACEQMRAD8A8QAAAAAAAAAAAAAAujQINeP0vj9BjA3qfSan0mrjI14niqMi6NAgAAAAAAAAAAAAAAAAAAAAAAKCLpZG5jJN1NXGJN9RqY742vlPU/lLnfn+Ab/05Ju2Rm3GdXf7M6t5tPGfKK1/qa6k/hLnb8JMZeNteE+WpzrNrPk15fTNxs65QsXW7lv4/hdT7c+ibTF1vx/7sf3Lh+P2rKzKfCCXGs2Ou8aeO/s0xxG7jpnTTKAAAAAAAAAAAAAAAAA1oE03jjsk9rctdbRVs1GLd3/5S21ccd83okLTv3uprXfDpxOjbfwZ+Tnz6XvurZvsmpxxpmyxZdLNTempad42JGuE6XbGU1dxpMumup9JKzbs214zSeDHxq6zaaXxqW79JmKNS2cysxUV1x/qTLjOfvO0yw9zmOe2plYmLrNmkdLJlNxixdSxkWxFQAAAAAAAAAABqQCRqTjd6TpqzXffwis35rNq1O6C4zfboxJy068xigCoH5As2ES5fxYuN3NszizfW1x6Y59b68aQHRgABLxGGs76Zc+vWoCKyoqAN430tm/y5t4Zb4SqzZpK65YyzbnYSljItRUAAAAAAAWcgT5akJOV7ukVcbq71z6Zt5dMp4TXv25WpFqVcUXFqMtRUV0jNRRFRQFEs4qyatPcL6+45T+m/wAD2M2/q5dLWI0G0t4NGLzQRybFF64BBYgAEFdMM+efa546/DnHWc489M36VzsZrbNixKyAqAAAADU4SLJyK1JqN/0743y+Omb8JlfTKmd3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" decoding="async" height="300" onerror="this.onerror=null;pagespeed.switchToHighResAndMaybeBeacon(this);" onload="pagespeed.switchToHighResAndMaybeBeacon(this);" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAFA3PEY8MlBGQUZaVVBfeMiCeG5uePWvuZHI////////////////////////////////////////////////////2wBDAVVaWnhpeOuCguv/////////////////////////////////////////////////////////////////////////wAARCAEsASwDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwT/xAAuEAEBAAICAgIBAwMDBAMAAAAAAQIRITESQVFhcSKBkQMyQhOx8VJioeHB0fD/xAAXAQEBAQEAAAAAAAAAAAAAAAAAAQID/8QAHREBAQEBAQADAQEAAAAAAAAAAAERAjESIUEyQv/aAAwDAQACEQMRAD8A8QAAAAAAAAAAAAAAujQINeP0vj9BjA3qfSan0mrjI14niqMi6NAgAAAAAAAAAAAAAAAAAAAAAAKCLpZG5jJN1NXGJN9RqY742vlPU/lLnfn+Ab/05Ju2Rm3GdXf7M6t5tPGfKK1/qa6k/hLnb8JMZeNteE+WpzrNrPk15fTNxs65QsXW7lv4/hdT7c+ibTF1vx/7sf3Lh+P2rKzKfCCXGs2Ou8aeO/s0xxG7jpnTTKAAAAAAAAAAAAAAAAA1oE03jjsk9rctdbRVs1GLd3/5S21ccd83okLTv3uprXfDpxOjbfwZ+Tnz6XvurZvsmpxxpmyxZdLNTempad42JGuE6XbGU1dxpMumup9JKzbs214zSeDHxq6zaaXxqW79JmKNS2cysxUV1x/qTLjOfvO0yw9zmOe2plYmLrNmkdLJlNxixdSxkWxFQAAAAAAAAAABqQCRqTjd6TpqzXffwis35rNq1O6C4zfboxJy068xigCoH5As2ES5fxYuN3NszizfW1x6Y59b68aQHRgABLxGGs76Zc+vWoCKyoqAN430tm/y5t4Zb4SqzZpK65YyzbnYSljItRUAAAAAAAWcgT5akJOV7ukVcbq71z6Zt5dMp4TXv25WpFqVcUXFqMtRUV0jNRRFRQFEs4qyatPcL6+45T+m/wAD2M2/q5dLWI0G0t4NGLzQRybFF64BBYgAEFdMM+efa546/DnHWc489M36VzsZrbNixKyAqAAAADU4SLJyK1JqN/0743y+Omb8JlfTKmd3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" width="300"/></a> <div class="thumbcaption"><div class="magnify"><a class="internal" data-href="/w/index.php?title=File:City-427640640.jpg&amp;filetimestamp=20160215023055" href="https://www.whonix.org/w/index.php?title=File:City-427640640.jpg&amp;filetimestamp=20160215023055.html" title="Enlarge"></a></div></div></div></div>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><a class="image" data-href="/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;"><img alt="Ambox warning pn.svg.png" data-pagespeed-lazy-src="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/40px-Ambox_warning_pn.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/60px-Ambox_warning_pn.svg.png 1.5x, /w/images/thumb/f/f7/Ambox_warning_pn.svg.png/80px-Ambox_warning_pn.svg.png 2x" data-pagespeed-url-hash="86883119" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="35" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="40"/></a> <font size="4"><b><u>Before combining Tor with other tunnels, <a data-href="Introduction" href="../Tunnels/Introduction.html" title="Tunnels/Introduction">be sure to read and understand the risks</a>!</u></b></font>
</p>
</div>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20200607145529&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20200607145529&amp;"><img alt="Ambox notice.png" data-pagespeed-lazy-src="/w/images/thumb/c/c8/Ambox_notice.png/x40px-Ambox_notice.png.pagespeed.ic.5w38W0eYkH.png" data-pagespeed-lazy-srcset="/w/images/thumb/c/c8/Ambox_notice.png/x60px-Ambox_notice.png.pagespeed.ic.Drinn_QlxP.png 1.5x, /w/images/thumb/c/c8/Ambox_notice.png/x80px-Ambox_notice.png.pagespeed.ic.Kstqk9O1_A.png 2x" data-pagespeed-url-hash="1227936950" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="40" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="40"/></a> <u>Advertisement</u>:<br/>
Too difficult to set up? Provider specific automation can be created for you by the lead developer of Whonix ™. Send reasonable price suggestions. Get in <a data-href="/wiki/Contact#For_Private_Inquiries" href="../Contact.html" title="Contact">contact</a>.
</p>
</div>
<p><br/>
<b><code>User</code> → <code>VPN</code> → <code>Tor</code> → <code>Internet</code></b>
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Connecting_to_a_VPN_before_Tor_.28User_.E2.86.92_VPN_.E2.86.92_Tor_.E2.86.92_Internet.29"><span class="tocnumber">1</span> <span class="toctext">Connecting to a VPN before Tor (User → VPN → Tor → Internet)</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#VPN_Client_Choice"><span class="tocnumber">1.2</span> <span class="toctext">VPN Client Choice</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Separate_VPN-Gateway"><span class="tocnumber">1.3</span> <span class="toctext">Separate VPN-Gateway</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#On_the_Host"><span class="tocnumber">1.4</span> <span class="toctext">On the Host</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#How_to_add_the_VPN_in_Host_OS"><span class="tocnumber">1.4.1</span> <span class="toctext">How to add the VPN in Host OS</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Use_a_Fail_Closed_Mechanism"><span class="tocnumber">1.4.2</span> <span class="toctext">Use a Fail Closed Mechanism</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Inside_Whonix-Gateway_.E2.84.A2"><span class="tocnumber">1.5</span> <span class="toctext">Inside Whonix-Gateway ™</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#VPN_Client_Choice_2"><span class="tocnumber">1.5.1</span> <span class="toctext">VPN Client Choice</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Whonix_.E2.84.A2_TUNNEL_FIREWALL_vs_standalone_VPN-Firewall"><span class="tocnumber">1.5.2</span> <span class="toctext">Whonix ™ TUNNEL_FIREWALL vs standalone VPN-Firewall</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Setup_Time"><span class="tocnumber">1.5.3</span> <span class="toctext">Setup Time</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Preparation"><span class="tocnumber">1.5.4</span> <span class="toctext">Preparation</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Firewall_Settings"><span class="tocnumber">1.5.5</span> <span class="toctext">Firewall Settings</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#Reload_Firewall"><span class="tocnumber">1.5.6</span> <span class="toctext">Reload Firewall</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#sudoers_configuration"><span class="tocnumber">1.5.7</span> <span class="toctext">sudoers configuration</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="#VPN_Setup"><span class="tocnumber">1.5.8</span> <span class="toctext">VPN Setup</span></a>
<ul>
<li class="toclevel-4 tocsection-17"><a href="#Introduction_2"><span class="tocnumber">1.5.8.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-4 tocsection-18"><a href="#Get_VPN_Certificate"><span class="tocnumber">1.5.8.2</span> <span class="toctext">Get VPN Certificate</span></a></li>
<li class="toclevel-4 tocsection-19"><a href="#VPN_Credentials"><span class="tocnumber">1.5.8.3</span> <span class="toctext">VPN Credentials</span></a></li>
<li class="toclevel-4 tocsection-20"><a href="#VPN_IP_Address"><span class="tocnumber">1.5.8.4</span> <span class="toctext">VPN IP Address</span></a></li>
<li class="toclevel-4 tocsection-21"><a href="#VPN_Configuration_File"><span class="tocnumber">1.5.8.5</span> <span class="toctext">VPN Configuration File</span></a></li>
<li class="toclevel-4 tocsection-22"><a href="#DNS_Configuration"><span class="tocnumber">1.5.8.6</span> <span class="toctext">DNS Configuration</span></a></li>
<li class="toclevel-4 tocsection-23"><a href="#Configuration_Folder_Permissions"><span class="tocnumber">1.5.8.7</span> <span class="toctext">Configuration Folder Permissions</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-24"><a href="#systemd_setup"><span class="tocnumber">1.5.9</span> <span class="toctext">systemd setup</span></a></li>
<li class="toclevel-3 tocsection-25"><a href="#Enable_Tor"><span class="tocnumber">1.5.10</span> <span class="toctext">Enable Tor</span></a></li>
<li class="toclevel-3 tocsection-26"><a href="#Troubleshooting"><span class="tocnumber">1.5.11</span> <span class="toctext">Troubleshooting</span></a>
<ul>
<li class="toclevel-4"><a href="#ip_unpriv_vs_ip-unpriv"><span class="tocnumber">1.5.11.1</span> <span class="toctext">ip_unpriv vs ip-unpriv</span></a></li>
<li class="toclevel-4"><a href="#50_openvpn_unpriv.conf_vs_50_openvpn-unpriv.conf"><span class="tocnumber">1.5.11.2</span> <span class="toctext">50_openvpn_unpriv.conf vs 50_openvpn-unpriv.conf</span></a></li>
<li class="toclevel-4"><a href="#Cannot_ioctl_TUNSETIFF"><span class="tocnumber">1.5.11.3</span> <span class="toctext">Cannot ioctl TUNSETIFF</span></a></li>
<li class="toclevel-4"><a href="#Dev_tun_Mismatch"><span class="tocnumber">1.5.11.4</span> <span class="toctext">Dev tun Mismatch</span></a></li>
<li class="toclevel-4"><a href="#.2Frun.2Fopenvpn.2Fopenvpn.status_Permission_denied"><span class="tocnumber">1.5.11.5</span> <span class="toctext">/run/openvpn/openvpn.status Permission denied</span></a></li>
<li class="toclevel-4"><a href="#debug_start"><span class="tocnumber">1.5.11.6</span> <span class="toctext">debug start</span></a></li>
<li class="toclevel-4"><a href="#Linux_ip_link_set_failed"><span class="tocnumber">1.5.11.7</span> <span class="toctext">Linux ip link set failed</span></a></li>
<li class="toclevel-4"><a href="#DNS_Configuration_2"><span class="tocnumber">1.5.11.8</span> <span class="toctext">DNS Configuration</span></a></li>
<li class="toclevel-4"><a href="#Terminology_for_Support_Requests"><span class="tocnumber">1.5.11.9</span> <span class="toctext">Terminology for Support Requests</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-27"><a href="#How_to_Submit_a_Support_Request"><span class="tocnumber">1.5.12</span> <span class="toctext">How to Submit a Support Request</span></a>
<ul>
<li class="toclevel-4 tocsection-28"><a href="#Additional_Tweaks_.2F_Recommendations_.2F_Troubleshooting"><span class="tocnumber">1.5.12.1</span> <span class="toctext">Additional Tweaks / Recommendations / Troubleshooting</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#Footnotes"><span class="tocnumber">2</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<hr/>
<h1><span id="Connecting_to_a_VPN_before_Tor_(User_→_VPN_→_Tor_→_Internet)"></span><span class="mw-headline" id="Connecting_to_a_VPN_before_Tor_.28User_.E2.86.92_VPN_.E2.86.92_Tor_.E2.86.92_Internet.29">Connecting to a VPN before Tor (User → VPN → Tor → Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=1.html" title="Edit section: Connecting to a VPN before Tor (User → VPN → Tor → Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=2.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a> users have the option to use a <a href="#Separate_VPN-Gateway">#Separate VPN-Gateway</a> but could also install the VPN software <a href="#Inside_Whonix-Gateway_.E2.84.A2">#Inside Whonix-Gateway ™</a>.</li>
<li><a data-href="/wiki/Non-Qubes-Whonix" href="../Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix ™</a> users could install the VPN software <a href="#On_the_Host">#On the Host</a> or <a href="#Inside_Whonix-Gateway_.E2.84.A2">#Inside Whonix-Gateway ™</a>.</li></ul>
<p><br/>
</p><p>What's the difference of installing a VPN on the host versus installing on Whonix-Gateway ™?
</p>
<table class="wikitable" style="background-color: #fff;text-align: center">
<tbody><tr>
<th>
</th>
<th>VPN Installed on the Host
</th>
<th>VPN Installed on Whonix-Gateway ™
</th>
<th>VPN Installed on <u>both</u> the Host and Whonix-Gateway ™
</th></tr>
<tr>
<th>All Whonix Traffic Routing
</th>
<td>User → Host's VPN → Tor → Internet
</td>
<td>User → Gateway's VPN → Tor → Internet
</td>
<td>User → Host's VPN → Gateway's VPN → Tor → Internet
</td></tr>
<tr>
<th>All Host Traffic Routing
</th>
<td>User → Host's VPN → Internet
</td>
<td>User → Internet
</td>
<td>User → Host's VPN → Internet
</td></tr>
<tr>
<th>Whonix-Gateway ™ Compromise
</th>
<td>Host's VPN Affords Protection
</td>
<td>Nil Protection
</td>
<td>Host's VPN Affords Protection
</td></tr>
</tbody></table>
<p>To decide the best configuration in your circumstances, consider:
</p>
<ul><li>Is it necessary to hide <i>all traffic</i> from the ISP? <sup class="reference" id="cite_ref-all-traffic_1-0"><a href="#cite_note-all-traffic-1">[1]</a></sup> Then install the VPN on the host.</li>
<li>Should the VPN provider be able to see <i>all traffic</i>? <sup class="reference" id="cite_ref-all-traffic_1-1"><a href="#cite_note-all-traffic-1">[1]</a></sup> Then install the VPN on the host.</li>
<li>Should the VPN provider be limited to seeing <i>Tor traffic</i>, but not <i>clearnet traffic</i>? Then install the VPN on Whonix-Gateway ™.</li></ul>
<h2><span class="mw-headline" id="VPN_Client_Choice">VPN Client Choice</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=3.html" title="Edit section: VPN Client Choice">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li>Use OpenVPN.</li>
<li>Using bitmask with Qubes is not yet documented.<sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup></li>
<li>Other VPN clients are unsupported. We are not aware of any sane VPN client choices besides OpenVPN.</li></ul>
<hr/>
<h2><span class="mw-headline" id="Separate_VPN-Gateway">Separate VPN-Gateway</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=4.html" title="Edit section: Separate VPN-Gateway">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a> only! <a data-href="/wiki/Non-Qubes-Whonix" href="../Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix ™</a> is <a data-href="/wiki/Unsupported" href="../Unsupported.html" title="Unsupported">unsupported</a>!
</p><p>A separate VPN-Gateway between Whonix-Gateway ™ and sys-firewall, i.e. Whonix-Workstation ™ → Whonix-Gateway ™ → sys-vpn → sys-firewall → sys-net.
</p><p><b>User → VPN → Tor → Internet </b>
</p><p>These "Separate VPN-Gateway" instructions are new. You might be one of the first users. You might run into minor issues. Please test and <a class="external text" data-href="https://forums.whonix.org" href="https://forums.whonix.org" rel="noreferrer noopener" target="_blank">report</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org" href="https://web.archive.org/web/https://forums.whonix.org" rel="noreferrer noopener" target="_blank">[archive]</a></sup> how it went.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>1.</b> Clone a TemplateVM for example, debian-9 and name the new template clone debian-9-vpn. <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>
</p><p><code>Qube Manager</code> → <code>debian-9</code> → <code><u>C</u>lone qube</code> → <i><code>Enter name for Qube clone:</code></i><code> debian-9-vpn</code> → <code>Press: OK</code>
</p><p><b>2.</b> Create a new ProxyVM based on the newly cloned template. Name the VM <code>sys-vpn</code> and set <code>sys-firewall</code> as NetVM. Make sure to check [✔] the box for provides_network.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><code>Qube Manager</code> → <code><u>Q</u>ube</code> → <code>Create <u>n</u>ew qube</code>
</p>
<ul><li>Name and label: <code>sys-vpn</code> (Set any color)</li>
<li>Type: <code>AppVM</code></li>
<li>Template: <code>debian-9-vpn</code></li>
<li>Networking: <code>sys-firewall</code></li>
<li>Advanced: [<code>✔</code>] Provides network</li>
<li>Press: <code>OK</code></li></ul>
</div>
<p><b>3.</b> Setup the VPN-Gateway as per <a class="external text" data-href="https://www.qubes-os.org/doc/vpn/" href="https://www.qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">Qubes VPN documentation</a> <sup><a data-href="https://web.archive.org/web/https://www.qubes-os.org/doc/vpn/" href="https://web.archive.org/web/https://www.qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. The instructions to configure the <a class="external text" data-href="https://qubes-os.org/doc/vpn/#set-up-a-proxyvm-as-a-vpn-gateway-using-iptables-and-cli-scripts" href="https://qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">VPN gateway using iptables and CLI scripts</a> <sup><a data-href="https://web.archive.org/web/https://qubes-os.org/doc/vpn/#set-up-a-proxyvm-as-a-vpn-gateway-using-iptables-and-cli-scripts" href="https://web.archive.org/web/https://qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">[archive]</a></sup> is preferred to prevent clearnet leaks when the VPN breaks down.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>When a failed closed configuration is used and the VPN connection breaks down, all traffic originating from Whonix-Gateway ™ (commonly called <code>sys-whonix</code>) would <u>only</u> be forced through Tor. This is what you want if you are reading this documentation chapter.
</p><p><b>User → Tor → Internet</b>
</p><p>If a failed closed configuration is not used, network traffic (such as DNS queries) could leak through the VPN tunnel to the Internet when the tunnel connection breaks down.
</p><p><b>User → VPN</b>(<u>clearnet leaks!</u>) <b>→ Tor → Internet</b>
</p>
</div>
<p><b>4.</b> Check, that your <code>sys-vpn</code> is fully functional. Test connectivity from inside the <code>sys-vpn</code> as per:
<a class="external text" data-href="https://qubes-os.org/doc/vpn/" href="https://qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">Qubes VPN Documentation</a> <sup><a data-href="https://web.archive.org/web/https://qubes-os.org/doc/vpn/" href="https://web.archive.org/web/https://qubes-os.org/doc/vpn/" rel="noreferrer noopener" target="_blank">[archive]</a></sup>
</p>
</div>
<p><u>Note:</u> Both TCP and UDP VPN connections should work. System DNS should work out of the box so no DNS configuration is required for Whonix-Gateway ™.<sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</p><p>Done!
</p><p>For troubleshooting, see footnote. <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup>
</p>
<hr/>
<h2><span class="mw-headline" id="On_the_Host">On the Host</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=5.html" title="Edit section: On the Host">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a data-href="/wiki/Non-Qubes-Whonix" href="../Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix ™</a> only! (Because in Qubes, the host is non-networked by default. <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a> users have the option to use a <a href="#Separate_VPN-Gateway">#Separate VPN-Gateway</a> but could also install the VPN software <a href="#Inside_Whonix-Gateway_.E2.84.A2">#Inside Whonix-Gateway ™</a>.)
</p><p><b>User → VPN → Tor → Internet </b>
</p><p>When using a Whonix-Gateway ™ virtual machine, connect to a VPN using software on the host operating system (and not on the Whonix-Workstation ™ nor Whonix-Gateway ™).
</p><p>Using software inside the host operating system may be more convenient if your more familiar with the host operating system than Whonix ™. Additionally, your VPN provider might provide custom software with tools for connecting to their servers. However, there are issues that you must consider:
</p>
<ul><li>A VPN on the host operating system will route all traffic originating from the host through the VPN, as well as Whonix ™ traffic. It is up to your preferences, if you like this or not.</li>
<li>Your VPN software may not be designed or configured to "fail closed". That is, if your VPN session suddenly disconnects, your Tor connection will be automatically sent through your ISP without going through your VPN service.</li></ul>
<h4><span class="mw-headline" id="How_to_add_the_VPN_in_Host_OS">How to add the VPN in Host OS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=6.html" title="Edit section: How to add the VPN in Host OS">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Use the host operating system's built-in tools connect to your VPN or use the software provided by your VPN service.
</p><p><span id="Fail_Closed_Mechanism"></span>
</p>
<h4><span class="mw-headline" id="Use_a_Fail_Closed_Mechanism">Use a Fail Closed Mechanism</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=7.html" title="Edit section: Use a Fail Closed Mechanism">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A general problem with VPNs is that connections often fail to remain open. This means the VPN connection suddenly closes, leaving the user directly connected to the Internet (without first tunneling through the VPN). This is not a Whonix ™-specific problem. VPN servers and software can occasionally fail without prior notice. Therefore, if the VPN is unreachable or the connection breaks down for whatever reason, in most cases the user will continue to connect to the Internet without the VPN.
</p><p>One of the key benefits of Whonix is that when a VPN connection fails, protection is still provided by the Tor process. In this instance, the Whonix-Workstation ™ will seamlessly continue to make "direct" connections through Tor. Failure of the VPN tunnel may be inconsequential if a VPN is only used to circumvent Tor censorship. On the other hand, if VPN use is intended to improve security, then it must be configured so that if/when the VPN connection fails, all connections between the outside world and the computer are halted.
</p><p>If you want to enforce, that the VPN always gets used, try <a class="external text" data-href="https://github.com/adrelanos/VPN-Firewall" href="https://github.com/adrelanos/VPN-Firewall" rel="noreferrer noopener" target="_blank">VPN-Firewall</a> <sup><a data-href="https://web.archive.org/web/https://github.com/adrelanos/VPN-Firewall" href="https://web.archive.org/web/https://github.com/adrelanos/VPN-Firewall" rel="noreferrer noopener" target="_blank">[archive]</a></sup>.
</p><p>(Or if that works for you, install the VPN on the gateway instead, because it comes with an integrated TUNNEL_FIREWALL feature, i.e. stay away from the standalone VPN-Firewall when you set up a VPN on the gateway.)
</p>
<hr/>
<p><span id="VPN_Software_on_Whonix-Gateway_.E2.84.A2"></span>
</p>
<h2><span id="Inside_Whonix-Gateway_™"></span><span class="mw-headline" id="Inside_Whonix-Gateway_.E2.84.A2">Inside Whonix-Gateway ™</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=8.html" title="Edit section: Inside Whonix-Gateway ™">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Whonix-Gateway ™ can be configured to connect to a VPN server before Tor, as well as "fail closed", blocking all Tor traffic if the VPN disconnects.
</p><p><b>User → VPN → Tor → Internet</b>
</p>
<h5><span class="mw-headline" id="VPN_Client_Choice_2">VPN Client Choice</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=9.html" title="Edit section: VPN Client Choice">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Use OpenVPN.
</p><p>Using bitmask inside Whonix-Gateway ™ for this use case is <a data-href="/wiki/Unsupported" href="../Unsupported.html" title="Unsupported">unsupported</a>. And discouraged. Because bitmask modifies the firewall. Perhaps that can be configured or is safe. Reaching that and documenting bitmask is TODO, <a class="external text" data-href="https://phabricator.whonix.org/T516" href="https://phabricator.whonix.org/T516" rel="noreferrer noopener" target="_blank">help welcome</a> <sup><a data-href="https://web.archive.org/web/https://phabricator.whonix.org/T516" href="https://web.archive.org/web/https://phabricator.whonix.org/T516" rel="noreferrer noopener" target="_blank">[archive]</a></sup>!
</p><p>Other VPN clients are <a data-href="/wiki/Unsupported" href="../Unsupported.html" title="Unsupported">unsupported</a>. We are not aware of any sane VPN client choices besides OpenVPN.
</p>
<h5><span id="Whonix_™_TUNNEL_FIREWALL_vs_standalone_VPN-Firewall"></span><span class="mw-headline" id="Whonix_.E2.84.A2_TUNNEL_FIREWALL_vs_standalone_VPN-Firewall">Whonix ™ TUNNEL_FIREWALL vs standalone VPN-Firewall</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=10.html" title="Edit section: Whonix ™ TUNNEL FIREWALL vs standalone VPN-Firewall">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>When applying VPN instructions inside Whonix VMs, <b>do not</b> use the standalone VPN-Firewall. It is not required and is incompatible with the integrated Whonix TUNNEL_FIREWALL feature which is documented below.
</p>
<h5><span class="mw-headline" id="Setup_Time">Setup Time</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=11.html" title="Edit section: Setup Time">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>If you are interested in <a class="mw-redirect" data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">hide Tor and Whonix ™ from the ISP</a> (read that page first)... After installing Whonix-Gateway ™, do the following steps before activating Tor in <span style="border:1px dotted #005cb9">Whonix ™ Setup Wizard</span>.
</p>
<h5><span class="mw-headline" id="Preparation">Preparation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=12.html" title="Edit section: Preparation">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>It is challenging to set up OpenVPN on Whonix with a secure, leak preventing <a href="#Fail_Closed_Mechanism">Fail Closed Mechanism</a>. For this reason, it is strongly recommended that users to learn how to set up OpenVPN on Debian stable (currently buster). The following steps are a simple overview of the process:
</p>
<ol><li>Prepare a Debian stable VM.</li>
<li>Install the Debian OpenVPN package: <i>sudo apt-get install openvpn</i></li>
<li>Research how to set up a VPN using OpenVPN on the command line. <sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup></li>
<li>Search for help with general VPN setup in the <a href="#VPN_Setup">#VPN Setup</a> chapter or on the <a class="mw-redirect" data-href="/wiki/TestVPN" href="../TestVPN.html" title="TestVPN">TestVPN</a> page. <a data-href="/wiki/Support" href="../Support.html" title="Support">Help</a> is available from various sources, and the VPN provider may also be of assistance.</li></ol>
<h5><span class="mw-headline" id="Firewall_Settings">Firewall Settings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=13.html" title="Edit section: Firewall Settings">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p><b>Modify Whonix-Gateway ™ User Firewall Settings</b>
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>Note</b>: If no changes have yet been made to Whonix Firewall Settings, then the Whonix User Firewall Settings File <code>/usr/local/etc/whonix_firewall.d/50_user.conf</code> appears empty (because it does not exist). This is expected.
</p><p><u>If using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a></u>, complete these steps.<br/>
In Whonix-Gateway ™ AppVM. Make sure folder <code>/usr/local/etc/whonix_firewall.d</code> exists.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo mkdir -p /usr/local/etc/whonix_firewall.d</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo mkdir -p /usr/local/etc/whonix_firewall.d</textarea>
</div>
</div>
<p>
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> → <code>Whonix-Gateway ™ AppVM (commonly called <i><span style="background-color:#FBFBFB">sys-whonix</span></i>)</code> → <code>Whonix User Firewall Settings</code>
</p><p><u>If using a graphical Whonix-Gateway ™</u>, complete these steps.
</p><p><code>Start Menu</code> → <code>Applications</code> → <code>Settings</code> → <code>User Firewall Settings</code>
</p><p><u>If using a terminal-only Whonix-Gateway ™</u>, complete these steps.
</p><p>In Whonix-Gateway ™, open the whonix_firewall configuration file in an editor.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /usr/local/etc/whonix_firewall.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudoedit /usr/local/etc/whonix_firewall.d/50_user.conf</textarea>
</div>
</div>
<p>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p>For more help, press on Expand on the right.
</p>
<div class="mw-collapsible-content">
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>Note: This is for informational purposes only!</b> Do not edit <code>/etc/whonix_firewall.d/30_whonix_gateway_default.conf</code>.
</p><p><b>Note</b>: The Whonix Global Firewall Settings File <code>/etc/whonix_firewall.d/30_whonix_gateway_default.conf</code> contains default settings and explanatory comments about their purpose. By default, the file is opened read-only and is not meant to be directly edited. Below, it is recommended to open the file without root rights. The file contains an explanatory comment on how to change firewall settings.
</p>
<pre>## Please use "/etc/whonix_firewall.d/50_user.conf" for your custom configuration,
## which will override the defaults found here. When Whonix is updated, this
## file may be overwritten.
</pre>
<p>See also <a data-href="/wiki/Configuration_Files" href="../Configuration_Files.html" title="Configuration Files">Whonix modular flexible .d style configuration folders</a>.
</p><p>To view the file, follow these instructions.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a></u>, complete these steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> → <code>Template:</code> <code>whonix-gw-15</code> → <code>Whonix Global Firewall Settings</code>
</p><p><u>If using a graphical Whonix-Gateway ™</u>, complete these steps.
</p><p><code>Start Menu</code> → <code>Applications</code> → <code>Settings</code> → <code>Global Firewall Settings</code>
</p><p><u>If using a terminal-only Whonix-Gateway ™</u>, complete these steps.
</p><p>In Whonix-Gateway ™, open the whonix_firewall configuration file in an editor.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>nano /etc/whonix_firewall.d/30_whonix_gateway_default.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">nano /etc/whonix_firewall.d/30_whonix_gateway_default.conf</textarea>
</div>
</div>
<p>
</p>
</div>
</div>
</div>
</div>
</div>
<p>Add the following settings. You can skip comments (starting with <span style="border:1px dotted #005cb9">#</span>). Don't use <span style="border:1px dotted #005cb9">;</span> for comments. <sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup> Likely you do not need to either uncomment (removing the <span style="border:1px dotted #005cb9">#</span> in front) or modify <span style="border:1px dotted #005cb9">VPN_INTERFACE</span> / <span style="border:1px dotted #005cb9">LOCAL_NET</span>.
</p>
<pre>## Make sure Tor always connects through the VPN.
## Enable: 1
## Disable: 0
## DISABELD BY DEFAULT, because it requires a VPN provider.
VPN_FIREWALL=1

## For OpenVPN.
#VPN_INTERFACE=tun0

## Destinations you don not want routed through the VPN.
## 10.0.2.2-10.0.2.24: VirtualBox DHCP
#      LOCAL_NET="\
#         127.0.0.0-127.0.0.24 \
#         192.168.0.0-192.168.0.24 \
#         192.168.1.0-192.168.1.24 \
#         10.152.152.0-10.152.152.24 \
#         10.0.2.2-10.0.2.24 \
#      "
</pre>
<p>Save.
</p>
<h5><span class="mw-headline" id="Reload_Firewall">Reload Firewall</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=14.html" title="Edit section: Reload Firewall">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Reload Whonix-Gateway ™ Firewall.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> → <code>Whonix-Gateway ™ ProxyVM (commonly named sys-whonix)</code> → <code>Reload Whonix Firewall</code>
</p><p><u>If you are using a graphical Whonix-Gateway ™</u>, complete the following steps.
</p><p><code>Start Menu</code> → <code>Applications</code> → <code>System</code> → <code>Reload Whonix Firewall</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway ™</u>, run.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo whonix_firewall</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo whonix_firewall</textarea>
</div>
</div>
<p>
</p>
</div>
<h5><span class="mw-headline" id="sudoers_configuration">sudoers configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=15.html" title="Edit section: sudoers configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Inside Whonix-Gateway ™.
</p><p>Open file <code>/etc/sudoers.d/tunnel_unpriv</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="../Software.html" title="Software">this link</a>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /etc/sudoers.d/tunnel_unpriv</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudoedit /etc/sudoers.d/tunnel_unpriv</textarea>
</div>
</div>
<p>
</p>
</div>
<p>Comment in the following and remove the single hashes (<i><span style="background-color:#FBFBFB">#</span></i>) in front of all lines, but do not remove the double hashes (<i><span style="background-color:#FBFBFB">##</span></i>). The edited file should look like this.
</p><p>Use of wildcard / asterix <code>*</code> is non-ideal security wise. <sup class="reference" id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup>
</p>
<pre>tunnel ALL=(ALL) NOPASSWD: /bin/ip
tunnel ALL=(ALL) NOPASSWD: /usr/sbin/openvpn *
Defaults:tunnel !requiretty
</pre>
<p>Save and exit.
</p>
<h5><span class="mw-headline" id="VPN_Setup">VPN Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=16.html" title="Edit section: VPN Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<h6><span class="mw-headline" id="Introduction_2">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=17" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=17.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>The following example uses the free Riseup VPN, because it is known to support TCP, UDP and SSL. However, any preferred VPN can be used.
</p><p>Update: The Riseup "legacy" VPN may have been discontinued, as it no longer works for the author of these instructions. The Riseup replacement service (Bitmask) has not been tested.
</p>
<h6><span class="mw-headline" id="Get_VPN_Certificate">Get VPN Certificate</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=18" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=18.html" title="Edit section: Get VPN Certificate">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>TODO: Documentation bug fix required. Won't work without Tor being enabled. You need to get the certificate elsewhere and then <a data-href="/wiki/File_Transfer" href="../File_Transfer.html" title="File Transfer">File Transfer</a> it into Whonix-Gateway ™.
</p><p>Look at the <a class="external text" data-href="https://help.riseup.net/vpn" href="https://help.riseup.net/vpn" rel="noreferrer noopener" target="_blank">riseup VPN help page</a> <sup><a data-href="https://web.archive.org/web/https://help.riseup.net/vpn" href="https://web.archive.org/web/https://help.riseup.net/vpn" rel="noreferrer noopener" target="_blank">[archive]</a></sup> for <a class="external text" data-href="https://help.riseup.net/en/riseup-ca" href="https://help.riseup.net/en/riseup-ca" rel="noreferrer noopener" target="_blank"><code>RiseupCA.pem</code></a> <sup><a data-href="https://web.archive.org/web/https://help.riseup.net/en/riseup-ca" href="https://web.archive.org/web/https://help.riseup.net/en/riseup-ca" rel="noreferrer noopener" target="_blank">[archive]</a></sup> and (right-click) <a class="external text" data-href="https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem" href="https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem" rel="noreferrer noopener" target="_blank">download</a> <sup><a data-href="https://web.archive.org/web/https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem" href="https://web.archive.org/web/https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem" rel="noreferrer noopener" target="_blank">[archive]</a></sup> it. Store the certificate in <i><span style="background-color:#FBFBFB">/etc/openvpn/RiseupCA.pem</span></i>
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>curl --tlsv1.2 --proto =https https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem | sudo tee /etc/openvpn/RiseupCA.pem</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">curl --tlsv1.2 --proto =https https://help.riseup.net/security/network-security/riseup-ca/RiseupCA.pem | sudo tee /etc/openvpn/RiseupCA.pem</textarea>
</div>
</div>
<p>
</p>
<h6><span class="mw-headline" id="VPN_Credentials">VPN Credentials</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=19" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=19.html" title="Edit section: VPN Credentials">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Inside Whonix-Gateway ™.
</p><p>For this step, a riseup.net account and Riseup account name is required. Go to <a class="external free" data-href="https://user.riseup.net/users/riseupusername/vpn" href="https://user.riseup.net/users/riseupusername/vpn" rel="noreferrer noopener" target="_blank">https://user.riseup.net/users/riseupusername/vpn</a> <sup><a data-href="https://web.archive.org/web/https://user.riseup.net/users/riseupusername/vpn" href="https://web.archive.org/web/https://user.riseup.net/users/riseupusername/vpn" rel="noreferrer noopener" target="_blank">[archive]</a></sup> to obtain a VPN secret (VPN password). Below, replace "riseupusername" with the actual riseup user name, or just go to <a class="external free" data-href="https://user.riseup.net" href="https://user.riseup.net" rel="noreferrer noopener" target="_blank">https://user.riseup.net</a> <sup><a data-href="https://web.archive.org/web/https://user.riseup.net" href="https://web.archive.org/web/https://user.riseup.net" rel="noreferrer noopener" target="_blank">[archive]</a></sup>, login and click on "VPN".
</p><p>Open file <code>/etc/openvpn/auth.txt</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="../Software.html" title="Software">this link</a>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /etc/openvpn/auth.txt</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudoedit /etc/openvpn/auth.txt</textarea>
</div>
</div>
<p>
</p>
</div>
<p>Add the <i>actual</i> user name and password.
</p>
<pre>riseupusername
vpnsecret
</pre>
<p>Save and exit.
</p>
<h6><span class="mw-headline" id="VPN_IP_Address">VPN IP Address</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=20" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=20.html" title="Edit section: VPN IP Address">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>This cannot be done inside Whonix-Gateway ™ since it by default does not system default DNS for its own traffic.
</p><p>When editing the VPN configuration file the use of DNS hostnames is not supported. This means IP address(s) of the VPN must be used.<sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup> Therefore, <i><span style="background-color:#FBFBFB">vpn.riseup.net</span></i> cannot be used, but an IP address such as <i><span style="background-color:#FBFBFB">198.252.153.226</span></i> should be used instead. To discover the IP address, check with the provider or use nslookup on the host. For example, to verify the actual IP address of the <i><span style="background-color:#FBFBFB">vpn.riseup.net</span></i> DNS server, run.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>nslookup vpn.riseup.net</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">nslookup vpn.riseup.net</textarea>
</div>
</div>
<p>
</p>
<h6><span class="mw-headline" id="VPN_Configuration_File">VPN Configuration File</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=21" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=21.html" title="Edit section: VPN Configuration File">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Inside Whonix-Gateway ™.
</p><p>Open file <code>/etc/openvpn/openvpn.conf</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="../Software.html" title="Software">this link</a>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /etc/openvpn/openvpn.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudoedit /etc/openvpn/openvpn.conf</textarea>
</div>
</div>
<p>
</p>
</div>
<p>Add.
</p><p>Note: make sure to adjust the <span style="border:1px dotted #005cb9">remote 198.252.153.226 80</span> variable in your config (unless you are using <span style="border:1px dotted #005cb9">nyc.vpn.riseup.net</span> as your VPN service). Replace the IP (<span style="border:1px dotted #005cb9">198.252.153.226</span>) and port (<span style="border:1px dotted #005cb9">80</span>) to match your VPN service.
</p>
<pre>##############################
## VPN provider specific settings ##
##############################
auth-user-pass auth.txt

## using nyc.vpn.riseup.net 80
remote 198.252.153.226 80

ca RiseupCA.pem

remote-cert-tls server

####################################
## TUNNEL_FIREWALL specific settings ##
####################################
client
dev tun0
persist-tun
persist-key

script-security 2
#up "/etc/openvpn/update-resolv-conf script_type=up dev=tun0"
#down "/etc/openvpn/update-resolv-conf script_type=down dev=tun0"

user tunnel
iproute /usr/bin/ip_unpriv
</pre>
<p>Do not worry about TCP mode on Whonix-Gateway ™. Using the VPN in TCP mode may be possible depending the services provides by your VPN provider, but is not required on Whonix-Gateway ™. The VPN in UDP mode should work just fine. <sup class="reference" id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup> Your pick.
</p><p><sup class="reference" id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> <sup class="reference" id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup>
</p><p>Save.
</p>
<h6><span class="mw-headline" id="DNS_Configuration">DNS Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=22" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=22.html" title="Edit section: DNS Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>DNS configuration, resolvconf, update-resolv-conf or similar is not required for Whonix-Gateway ™. <sup class="reference" id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup>
</p>
<h6><span class="mw-headline" id="Configuration_Folder_Permissions">Configuration Folder Permissions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=23" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=23.html" title="Edit section: Configuration Folder Permissions">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Inside Whonix-Gateway ™.
</p><p>(Qubes-Whonix ™: In TemplateVM)
</p><p>Since OpenVPN will be run under user <i>tunnel</i>, that user requires read access to the folder <i>/etc/openvpn</i>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo chown -R tunnel:tunnel /etc/openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo chown -R tunnel:tunnel /etc/openvpn</textarea>
</div>
</div>
<p>
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo chown -R tunnel:tunnel /run/openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo chown -R tunnel:tunnel /run/openvpn</textarea>
</div>
</div>
<p>
</p>
<h5><span class="mw-headline" id="systemd_setup">systemd setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=24" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=24.html" title="Edit section: systemd setup">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Inside Whonix-Gateway ™.
</p><p>(Qubes-Whonix ™: In TemplateVM. <sup class="reference" id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup>)
</p><p>Create the OpenVPN systemd service file.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo cp /lib/systemd/system/openvpn@.service /lib/systemd/system/openvpn@openvpn.service</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo cp /lib/systemd/system/openvpn@.service /lib/systemd/system/openvpn@openvpn.service</textarea>
</div>
</div>
<p>
</p><p>Enable the OpenVPN systemd service file.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl enable openvpn@openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl enable openvpn@openvpn</textarea>
</div>
</div>
<p>
</p><p>Start the OpenVPN systemd service.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl start openvpn@openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl start openvpn@openvpn</textarea>
</div>
</div>
<p>
</p><p>Check the OpenVPN systemd service status.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl status openvpn@openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl status openvpn@openvpn</textarea>
</div>
</div>
<p>
</p>
<h5><span class="mw-headline" id="Enable_Tor">Enable Tor</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=25" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=25.html" title="Edit section: Enable Tor">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>(Qubes-Whonix ™: If using a TemplateVM, shut down the TemplateVM and restart Whonix-Gateway ™ (<code>sys-whonix</code>). )
</p><p>Enable Tor using Whonix ™ Setup Wizard.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> → <code>Whonix-Gateway ™ ProxyVM (commonly named 'sys-whonix')</code> → <code>Whonix Setup</code>
</p><p><u>If you are using a graphical Whonix-Gateway ™</u>, complete the following steps.
</p><p><code>Start Menu</code> → <code>Applications</code> → <code>System</code> → <code>Whonix Setup Wizard</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway ™</u>, complete the following steps.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo whonixsetup</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo whonixsetup</textarea>
</div>
</div>
<p>
</p>
</div>
<h5><span class="mw-headline" id="Troubleshooting">Troubleshooting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=26" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=26.html" title="Edit section: Troubleshooting">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>You can skip this troubleshooting chapter unless any difficulties are encountered.
</p>
<h6><span class="mw-headline" id="ip_unpriv_vs_ip-unpriv">ip_unpriv vs ip-unpriv</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-1" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-1.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>There are two similar, yet distinct projects: standalone VPN-FIREWALL and Whonix TUNNEL_FIREWALL. Although both are alike, there is one difference that might be encountered. For instance, in chapter <a href="#VPN_Configuration_File">#VPN Configuration File</a>:
</p>
<ul><li>Whonix TUNNEL_FIREWALL uses <i><span style="background-color:#FBFBFB">ip<b>_</b>unpriv</span></i> (underscore)</li>
<li>Standalone VPN-FIREWALL uses <i><span style="background-color:#FBFBFB">ip<b>-</b>unpriv</span></i> (hyphen)</li></ul>
<p><br/>
Be sure to use the right version of ip unpriv according to whether the VPN-FIREWALL or Whonix TUNNEL_FIREWALL project is being used.
</p>
<h6><span class="mw-headline" id="50_openvpn_unpriv.conf_vs_50_openvpn-unpriv.conf">50_openvpn_unpriv.conf vs 50_openvpn-unpriv.conf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-2" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-2.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Like the example above:
</p>
<ul><li>Whonix TUNNEL_FIREWALL uses /usr/lib/tmpfiles.d/50_openvpn_unpriv.conf <i><span style="background-color:#FBFBFB">ip<b>_</b>unpriv</span></i> (underscore)</li>
<li>Standalone VPN-FIREWALL uses /usr/lib/tmpfiles.d/50_openvpn-unpriv.conf <i><span style="background-color:#FBFBFB">ip<b>-</b>unpriv</span></i> (hyphen)</li></ul>
<h6><span class="mw-headline" id="Cannot_ioctl_TUNSETIFF">Cannot ioctl TUNSETIFF</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-3" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-3.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre> <i>ERROR: Cannot ioctl TUNSETIFF tun: Operation not permitted (errno=1)</i>
</pre>
<p>In openvpn.conf do not use.
</p>
<pre>dev tun
</pre>
<p>Use.
</p>
<pre>dev tun0
</pre>
<h6><span class="mw-headline" id="Dev_tun_Mismatch">Dev tun Mismatch</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-4" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-4.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>In openvpn.conf do not use.
</p>
<pre>dev tun
</pre>
<p>Use.
</p>
<pre>dev tun0
</pre>
<h6><span id="/run/openvpn/openvpn.status_Permission_denied"></span><span class="mw-headline" id=".2Frun.2Fopenvpn.2Fopenvpn.status_Permission_denied">/run/openvpn/openvpn.status Permission denied</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-5" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-5.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre> <i>Options error: --status fails with '/run/openvpn/openvpn.status': Permission denied</i>
</pre>
<p>Do not start OpenVPN as root. Do not use <i>sudo openvpn</i>, because this will lead to permission issues. Files in the <i>/run/openvpn</i> folder are owned by root, so they cannot be overwritten by the user tunnel.
</p>
<h6><span class="mw-headline" id="debug_start">debug start</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-6" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-6.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>To start debug, run the following commands concurrently.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo /usr/sbin/openvpn --rmtun --dev tun0</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo /usr/sbin/openvpn --rmtun --dev tun0</textarea>
</div>
</div>
<p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo /usr/sbin/openvpn --mktun --dev tun0 --dev-type tun --user tunnel --group tunnel</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo /usr/sbin/openvpn --mktun --dev tun0 --dev-type tun --user tunnel --group tunnel</textarea>
</div>
</div>
<p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>cd /etc/openvpn/</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">cd /etc/openvpn/</textarea>
</div>
</div>
<p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo -u tunnel openvpn /etc/openvpn/openvpn.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo -u tunnel openvpn /etc/openvpn/openvpn.conf</textarea>
</div>
</div>
<p>
</p>
<h6><span class="mw-headline" id="Linux_ip_link_set_failed">Linux ip link set failed</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-7" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-7.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<pre> <i>Linux ip link set failed: external program exited with error status: 2</i>
</pre>
<p>Use ip_unpriv as documented above.
</p>
<h6><span class="mw-headline" id="DNS_Configuration_2">DNS Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-8" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-8.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>This only applies if resolvconf is used.
</p><p>Permissions on two directories may need to be manually changed if they are not automatically applied. Check if changes are necessary via the following command.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>ls -la /run/resolvconf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">ls -la /run/resolvconf</textarea>
</div>
</div>
<p>
</p><p>If the output lists tunnel as having read / write / execute permissions for both <i>/run/resolvconf</i> and <i>/run/resolvconf/interface</i>, then nothing needs modification. If tunnel is not listed as a group for one or both of these directories, then permissions need to be changed. In that case, run.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo chown --recursive root:tunnel /run/resolvconf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo chown --recursive root:tunnel /run/resolvconf</textarea>
</div>
</div>
<p>
</p><p>Then set the necessary permissions.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo chmod --recursive 775 /run/resolvconf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo chmod --recursive 775 /run/resolvconf</textarea>
</div>
</div>
<p>
</p><p>In <i>/run/resolvconf</i>, resolv.conf may or may not be owned by tunnel, depending on whether the systemd service has already started. There is no need to modify permissions on this file, as the permissions will change when the service starts.
</p>
<h6><span class="mw-headline" id="Terminology_for_Support_Requests">Terminology for Support Requests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-9" href="https://www.whonix.org/w/index.php?title=Template:VPN-Firewall/Troubleshooting&amp;action=edit&amp;section=T-9.html" title="Edit section: ">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Phrases such as "over Tor" are ambiguous. Please do not coin idiosyncratic words or phrases, otherwise this leads to confusion. Please use the same terms that are consistently referenced in documentation, such as:
</p>
<ul><li>Connect to a VPN Before Tor (User → VPN → Tor → Internet).</li>
<li>Connect to Tor Before a VPN (User → Tor → VPN → Internet).</li>
<li>And so on.</li></ul>
<p>Always refer to the connection scheme when requesting support: <i><span style="background-color:#FBFBFB">User → VPN → Tor → Internet</span></i> or <i><span style="background-color:#FBFBFB">User → Tor → VPN → Internet</span></i> and so on.
</p>
<h3><span class="mw-headline" id="How_to_Submit_a_Support_Request">How to Submit a Support Request</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=27" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=27.html" title="Edit section: How to Submit a Support Request">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Before submitting a support request for VPN related issues users are encouraged to follow the <a data-href="/wiki/Support#Free_Support_Principle" href="../Support.html" title="Support">Free Support Principle</a> when working towards a solution. Whonix developers will use the information provided by the user to determine if the issue is a technical problem (aka bug) and/or configuration error which is a common reason for VPN connectivity issue.
</p><p>Before Whonix developers will review the support request, the following information must be provided.
</p>
<ul><li>Steps to reproduce the behavior. For example, list all command that were run up to this point.<sup class="reference" id="cite_ref-15"><a href="#cite_note-15">[15]</a></sup></li></ul>
<ul><li>Actual behavior. (Detailed explanation. Reports stating "VPN does not work" will be rejected.)</li></ul>
<ul><li>Expected behavior. (Reports stating "VPN works" will be rejected.)</li></ul>
<p>The following information is also required.
</p>
<ul><li>All error messages.</li></ul>
<ul><li>VPN logs from <b>debug start</b> section. This can be found under <b>Troubleshooting</b> on this page. Make sure to redact all sensitive information such as VPN server IP addresses. For more on this see why you should <a data-href="/wiki/DoNot#Post_Full_System_Logs_or_Configuration_Files" href="../DoNot.html" title="DoNot">Never Post Full System Logs or Configuration Files</a>. VPN logs are required because a configuration error and/or miss-match may not produce an <i>noticeable</i> error.</li></ul>
<ul><li>Please answer: Has the VPN configuration been modified aside from the instructions on this page?</li></ul>
<p><u>Note:</u> Users are encouraged to troubleshoot their VPN issues in an effort to find a solutions. However, if the VPN has been modified with custom configuration options, a favorable outcome is less likely if Whonix developers are not made aware of the modification.
</p>
<ul><li>Please answer: Is Whonix currently configured to use a second tunnel-link/proxy or bridge?</li></ul>
<ul><li>(If applicable) Links to similar issues found on the <a class="external text" data-href="https://forums.whonix.org" href="https://forums.whonix.org" rel="noreferrer noopener" target="_blank">Whonix forums</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org" href="https://web.archive.org/web/https://forums.whonix.org" rel="noreferrer noopener" target="_blank">[archive]</a></sup> and/or other offsite forums/resources.</li></ul>
<h4><span id="Additional_Tweaks_/_Recommendations_/_Troubleshooting"></span><span class="mw-headline" id="Additional_Tweaks_.2F_Recommendations_.2F_Troubleshooting">Additional Tweaks / Recommendations / Troubleshooting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=28" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=28.html" title="Edit section: Additional Tweaks / Recommendations / Troubleshooting">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<div class="toccolours mw-collapsible mw-collapsed">
<p><b>If having problems with the connection / Tor is not fully bootstrapped</b>, please press on expand on the right.
</p>
<div class="mw-collapsible-content">
<p>You have may have to manually restart Tor. This is because the VPN may not be ready when Tor is attempting to connect, because the VPN connection initialization takes too long. Due to a bug in Tor, it won't keep trying to connect. To fix this, you may have to manually restart Tor after boot, if whonixcheck reports that Tor is not fully bootstrapped. The same may be necessary if your VPN software or connection temporarily broke down.
</p><p><b>To Manually restart Tor:</b>
</p><p>Reload Tor.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>After editing <code>/usr/local/etc/torrc.d/50_user.conf</code>, Tor must be reloaded for changes to take effect.
</p><p><b>Note:</b> If Tor does not connect after completing all these steps, then a user mistake is the most likely explanation. Recheck <code>/usr/local/etc/torrc.d/50_user.conf</code> and repeat the steps outlined in the sections above. If Tor then connects successfully, all the necessary changes have been made.
</p><p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> → <code>Whonix-Gateway ™ ProxyVM (commonly named 'sys-whonix')</code> → <code>Reload Tor</code>
</p><p><u>If you are using a graphical Whonix-Gateway ™</u>, complete the following steps.
</p><p><code>Start Menu</code> → <code>Applications</code> → <code>Settings</code> → <code>Reload Tor
</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway ™</u>, click
<span class="mw-customtoggle-myDivision"><code><u>HERE</u></code></span> for instructions.
</p>
<div class="mw-collapsible mw-collapsed" id="mw-customcollapsible-myDivision">
<p>Complete the following steps.
</p><p>Reload Tor.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default reload</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo service tor@default reload</textarea>
</div>
</div>
<p>
</p><p>Check Tor's daemon status.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default status</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo service tor@default status</textarea>
</div>
</div>
<p>
</p><p>It should include a a message saying.
</p>
<pre>Active: active (running) since ...
</pre>
<p>In case of issues, try the following debugging steps.
</p><p>Check Tor's config.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo -u debian-tor tor --verify-config</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo -u debian-tor tor --verify-config</textarea>
</div>
</div>
<p>
</p><p>The output should be similar to the following.
</p>
<pre>Sep 17 17:40:41.416 [notice] Read configuration file "/usr/local/etc/torrc.d/50_user.conf".
Configuration was valid</pre>
</div>
</div>
<p><b>Leak Tests</b>
</p><p>When you shut down the VPN, neither Tor, nor Whonix-Gateway ™ whonixcheck/apt-get/etc. nor Whonix-Workstation ™ should be able to connect anywhere anymore.
</p><p><b> Force Tor to wait for OpenVPN </b>
</p><p>Create a folder /etc/systemd/system/tor.service.d.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo mkdir /etc/systemd/system/tor.service.d</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo mkdir /etc/systemd/system/tor.service.d</textarea>
</div>
</div>
<p>
</p><p>Create a file /etc/systemd/system/tor.service.d/50_user.conf.
</p><p>Open file <code>/etc/systemd/system/tor.service.d/50_user.conf</code> in an editor with root rights.
</p><p>(<a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix ™</a>: In TemplateVM)
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>This box uses <a class="external text" data-href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank"><code>sudoedit</code> for better security</a> <sup><a data-href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. This is an example and other tools could also achieve the same goal. If this example does not work for you or if you are not using Whonix, please refer to <a data-href="/wiki/Software#Editor" href="../Software.html" title="Software">this link</a>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudoedit /etc/systemd/system/tor.service.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudoedit /etc/systemd/system/tor.service.d/50_user.conf</textarea>
</div>
</div>
<p>
</p>
</div>
<p>Add the following content.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>[Unit]
After=openvpn.service</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">[Unit]
After=openvpn.service</textarea>
</div>
</div>
<p>
</p><p>Save.
</p><p>At next boot, the Tor daemon will be started after the OpenVPN daemon.
</p><p>Debugging: <sup class="reference" id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup>
</p><p><b>Limitations</b>
</p>
<ul><li>Only tested with OpenVPN. Most other VPN's have deficiencies anyway.</li>
<li>DNS (IP address) of VPN server has to be manually resolved. There is technically no way to automatically resolve DNS without making the setup much more complex. The VPN server's IP address should not be resolved over Tor, because that's what you wanted to hide in the first place. Since outside observers will know, that you are connecting to the VPN IP anyway, it is probably safe to resolve the DNS over clearnet or by asking the VPN provider if they don't already document their IPs on their website anyway.</li>
<li>No support for IPv6 yet.</li></ul>
<p><b>Troubleshooting VPN → Tor</b>
</p>
<ul><li>If not connecting, see above to manually restart Tor</li>
<li>Check your VPN software's logs.</li></ul>
<ul><li><b>Test if you are able to connect using your VPN</b></li></ul>
<p>1. Login as user <span style="border:1px dotted #005cb9">clearnet</span>.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo su clearnet</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo su clearnet</textarea>
</div>
</div>
<p>
</p><p>2. Try connecting to check.tpo. Note, at time of writing, it looked like usaip free trial is probably blocking SSL, therefore it might not work.
</p><p><code>
UWT_DEV_PASSTHROUGH=1 curl --silent --tlsv1.2 --proto =https -H 'Host: check.torproject.org' -k <a class="external free" data-href="https://116.202.120.181" href="https://116.202.120.181" rel="noreferrer noopener" target="_blank">https://116.202.120.181</a> <sup><a data-href="https://web.archive.org/web/https://116.202.120.181" href="https://web.archive.org/web/https://116.202.120.181" rel="noreferrer noopener" target="_blank">[archive]</a></sup> | grep IP
</code>
</p><p>Should show something along: <i><span style="background-color:#FBFBFB">Your IP address appears to be: xxx.xxx.xxx.xxx</span></i>
</p><p>3. Get back to normal user.
</p><p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>exit</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">exit</textarea>
</div>
</div>
<p>
</p>
</div>
</div>
<hr/>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=29" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit&amp;section=29.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-all-traffic-1"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-all-traffic_1-0">1.0</a></sup> <sup><a href="#cite_ref-all-traffic_1-1">1.1</a></sup></span> <span class="reference-text">
All traffic generated by the host and all applications running on the host. For example, Firefox, NTP, and anything else. This also includes traffic generated by Whonix ™.</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/leapcode/bitmask_client/issues/1009" href="https://github.com/leapcode/bitmask_client/issues/1009" rel="noreferrer noopener" target="_blank">https://github.com/leapcode/bitmask_client/issues/1009</a> <sup><a data-href="https://web.archive.org/web/https://github.com/leapcode/bitmask_client/issues/1009" href="https://web.archive.org/web/https://github.com/leapcode/bitmask_client/issues/1009" rel="noreferrer noopener" target="_blank">[archive]</a></sup></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">↑</a></span> <span class="reference-text">
At the time of writing Debian 9 buster was the stable release version.</span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">↑</a></span> <span class="reference-text">Because Whonix-Gateway ™ does not require any clearnet DNS anyhow.</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">↑</a></span> <span class="reference-text">
<ul><li>Check, that your VPN-Gateway is fully functional. Test connectivity from inside the VPN-Gateway.</li>
<li>Add a non-Whonix ™ VM behind your VPN-Gateway. For example, add a debian based AppVM behind your VPN-Gateway. Figure out if the VPN-Gateway works at all before involving Whonix ™.</li></ul>
</span></li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">↑</a></span> <span class="reference-text">Only proceed if this is successful. Do not post support requests regarding these instructions before completing this basic exercise.</span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">↑</a></span> <span class="reference-text">That config file is a bash fragment.</span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite_ref-8">↑</a></span> <span class="reference-text">
<a class="external free" data-href="https://github.com/QubesOS/qubes-issues/issues/2852" href="https://github.com/QubesOS/qubes-issues/issues/2852" rel="noreferrer noopener" target="_blank">https://github.com/QubesOS/qubes-issues/issues/2852</a> <sup><a data-href="https://web.archive.org/web/https://github.com/QubesOS/qubes-issues/issues/2852" href="https://web.archive.org/web/https://github.com/QubesOS/qubes-issues/issues/2852" rel="noreferrer noopener" target="_blank">[archive]</a></sup></span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">↑</a></span> <span class="reference-text"> Many VPN service providers include DNS hostnames in their configuration files. The hostnames typically include the providers name followed by (.net, .com, .ch, .pw).</span>
</li>
<li id="cite_note-10"><span class="mw-cite-backlink"><a href="#cite_ref-10">↑</a></span> <span class="reference-text">
The Tor software cannot transport UDP yet, but it does not have to in this case. (Reference: <a data-href="/wiki/Tor#UDP" href="../Tor.html" title="Tor">Tor#UDP</a>.) Since the VPN connects over clearnet, UDP should just work as usual. Once the VPN is functional, Tor will have no issue to connect using it (without "knowing" it is over a VPN).</span>
</li>
<li id="cite_note-11"><span class="mw-cite-backlink"><a href="#cite_ref-11">↑</a></span> <span class="reference-text">
The <a class="external text" data-href="https://github.com/Whonix/usability-misc/blob/master/usr/bin/ip_unpriv" href="https://github.com/Whonix/usability-misc/blob/master/usr/bin/ip_unpriv" rel="noreferrer noopener" target="_blank">/usr/bin/ip_unpriv</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/usr/bin/ip_unpriv" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/usr/bin/ip_unpriv" rel="noreferrer noopener" target="_blank">[archive]</a></sup> wrapper script is being provided by the <a class="external text" data-href="https://github.com/Whonix/usability-misc" href="https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">usabilty-misc</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">[archive]</a></sup> package.
The <a class="external text" data-href="https://github.com/Whonix/usability-misc/blob/master/etc/sudoers.d/tunnel_unpriv" href="https://github.com/Whonix/usability-misc/blob/master/etc/sudoers.d/tunnel_unpriv" rel="noreferrer noopener" target="_blank">/etc/sudoers.d/tunnel_unpriv</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/etc/sudoers.d/tunnel_unpriv" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/etc/sudoers.d/tunnel_unpriv" rel="noreferrer noopener" target="_blank">[archive]</a></sup> wrapper script is being provided by the <a class="external text" data-href="https://github.com/Whonix/usability-misc" href="https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">usabilty-misc</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">[archive]</a></sup> package.
The <a class="external text" data-href="https://github.com/Whonix/usability-misc/blob/master/lib/systemd/system/openvpn%40openvpn.service.d/50_unpriv.conf" href="https://github.com/Whonix/usability-misc/blob/master/lib/systemd/system/openvpn%40openvpn.service.d/50_unpriv.conf" rel="noreferrer noopener" target="_blank">/lib/systemd/system/openvpn@openvpn.service.d/50_unpriv.conf</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/lib/systemd/system/openvpn%40openvpn.service.d/50_unpriv.conf" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc/blob/master/lib/systemd/system/openvpn%40openvpn.service.d/50_unpriv.conf" rel="noreferrer noopener" target="_blank">[archive]</a></sup> wrapper script is being provided by the <a class="external text" data-href="https://github.com/Whonix/usability-misc" href="https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">usabilty-misc</a> <sup><a data-href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" href="https://web.archive.org/web/https://github.com/Whonix/usability-misc" rel="noreferrer noopener" target="_blank">[archive]</a></sup> package.</span>
</li>
<li id="cite_note-12"><span class="mw-cite-backlink"><a href="#cite_ref-12">↑</a></span> <span class="reference-text">We must run OpenVPN as user 'tunnel', because that is the only user besides user <i><span style="background-color:#FBFBFB">clearnet</span></i> that will be allowed to establish external connections when using Whonix ™ Firewall setting VPN_FIREWALL=1.</span>
</li>
<li id="cite_note-13"><span class="mw-cite-backlink"><a href="#cite_ref-13">↑</a></span> <span class="reference-text">
Because Whonix-Gateway ™ by default has no and needs no system DNS for its own traffic. See <a data-href="/wiki/Whonix-Gateway_System_DNS" href="../Whonix-Gateway_System_DNS.html" title="Whonix-Gateway System DNS">Whonix-Gateway System DNS</a> if you would like to read an explanation why that is so.</span>
</li>
<li id="cite_note-14"><span class="mw-cite-backlink"><a href="#cite_ref-14">↑</a></span> <span class="reference-text">
OpenVPN will not actually start there thanks to <code>/lib/systemd/system/openvpn@openvpn.service.d/50_unpriv.conf</code>.</span>
</li>
<li id="cite_note-15"><span class="mw-cite-backlink"><a href="#cite_ref-15">↑</a></span> <span class="reference-text">
To list previous commands, run.
<div class="codeContainerNew">
<div class="preDiv">
<pre>history</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">history</textarea>
</div>
</div>
<p>
</p></span>
</li>
<li id="cite_note-16"><span class="mw-cite-backlink"><a href="#cite_ref-16">↑</a></span> <span class="reference-text">
Reload systemd.
<div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl daemon-reload</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl daemon-reload</textarea>
</div>
</div>
<p>
Check Tor service status.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl status tor</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl status tor</textarea>
</div>
</div>
<p>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo systemctl status tor@default</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="" rows="1">sudo systemctl status tor@default</textarea>
</div>
</div>
<p>
It should list the drop-in file <i><span style="background-color:#FBFBFB">/etc/systemd/system/tor.service.d/50_user.conf</span></i>.</p></span>
</li>
</ol></div></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;">
<p>Whonix ™ is <a data-href="https://evolution-host.com/vps-hosting.php" href="https://evolution-host.com/vps-hosting.php">Supported by Evolution Host DDoS
Protected VPS. Stay private and get your VPS with Bitcoin or Monero.</a>
</p>
</div>
<hr/>
<p><a data-href="https://jooble.org" href="https://jooble.org" rel="noreferrer noopener" target="_blank.html" title="text=Jobs in USA"><img alt="text=Jobs in USA" data-pagespeed-lazy-src="/w/images/6/66/xJobble.png.pagespeed.ic.cBxpPvR6uN.jpg" data-pagespeed-url-hash="2246536612" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="76" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="100"/></a><br/>
<a data-href="https://jooble.org" href="https://jooble.org" rel="noreferrer" target="_blank"> Jobs in USA</a>
</p>
<hr/>
<p>Search engines: <a data-href="https://search.yacy.net" href="https://search.yacy.net" rel="noreferrer" target="_blank"> YaCy</a> | <a data-href="https://www.qwant.com" href="https://www.qwant.com" rel="noreferrer" target="_blank"> Qwant</a> | <a data-href="https://www.ecosia.org" href="https://www.ecosia.org" rel="noreferrer" target="_blank"> ecosia</a> | <a data-href="https://metager.org" href="https://metager.org" rel="noreferrer" target="_blank"> MetaGer</a> | <a data-href="https://peekier.com" href="https://peekier.com" rel="noreferrer" target="_blank"> peekier</a> | <a data-href="/wiki/Special:Search" href="../Special:Search.html" title="Special:Search">Whonix ™ Wiki</a>
</p>
<hr/>
<p><a data-href="/wiki/Official_Whonix_Online_Profiles" href="../Official_Whonix_Online_Profiles.html" title="Official Whonix Online Profiles">Follow</a>:
<a data-href="https://twitter.com/Whonix" href="https://twitter.com/Whonix" rel="noreferrer noopener" target="_blank"><img alt="Twitter.png" data-pagespeed-lazy-src="/w/images/thumb/f/f7/Twitter.png/50px-Twitter.png" data-pagespeed-lazy-srcset="/w/images/thumb/f/f7/Twitter.png/75px-Twitter.png 1.5x, /w/images/thumb/f/f7/Twitter.png/100px-Twitter.png 2x" data-pagespeed-url-hash="857991570" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://www.facebook.com/Whonix" href="https://www.facebook.com/Whonix" rel="noreferrer noopener" target="_blank"><img alt="Facebook.png" data-pagespeed-lazy-src="/w/images/thumb/5/55/Facebook.png/50px-Facebook.png" data-pagespeed-lazy-srcset="/w/images/thumb/5/55/Facebook.png/75px-Facebook.png 1.5x, /w/images/thumb/5/55/Facebook.png/100px-Facebook.png 2x" data-pagespeed-url-hash="3786702102" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="49" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://gab.com/Whonix" href="https://gab.com/Whonix" rel="noreferrer noopener" target="_blank"><img alt="1280px-Gab text logo.svg.png" data-pagespeed-lazy-src="/w/images/thumb/2/25/1280px-Gab_text_logo.svg.png/50px-1280px-Gab_text_logo.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/2/25/1280px-Gab_text_logo.svg.png/75px-1280px-Gab_text_logo.svg.png 1.5x, /w/images/thumb/2/25/1280px-Gab_text_logo.svg.png/100px-1280px-Gab_text_logo.svg.png 2x" data-pagespeed-url-hash="174266604" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="31" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://mailman.whonix.org/postorius/lists/whonix-newsletter.mailman.whonix.org/" href="https://mailman.whonix.org/postorius/lists/whonix-newsletter.mailman.whonix.org/" rel="noreferrer noopener" target="_blank"><img alt="Iconfinder news 18421.png" data-pagespeed-lazy-src="/w/images/thumb/8/84/Iconfinder_news_18421.png/x50px-Iconfinder_news_18421.png.pagespeed.ic.Q8v-v_ksDs.png" data-pagespeed-lazy-srcset="/w/images/thumb/8/84/Iconfinder_news_18421.png/x75px-Iconfinder_news_18421.png.pagespeed.ic.QEHvqYDZzF.png 1.5x, /w/images/thumb/8/84/Iconfinder_news_18421.png/x100px-Iconfinder_news_18421.png.pagespeed.ic.ogem4PSGBw.png 2x" data-pagespeed-url-hash="163325137" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="https://forums.whonix.org/c/news.rss" href="https://forums.whonix.org/c/news.rss" rel="noreferrer noopener" target="_blank"><img alt="Rss.png" data-pagespeed-lazy-src="/w/images/thumb/0/09/Rss.png/50px-Rss.png" data-pagespeed-lazy-srcset="/w/images/thumb/0/09/Rss.png/75px-Rss.png 1.5x, /w/images/thumb/0/09/Rss.png/100px-Rss.png 2x" data-pagespeed-url-hash="971941768" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://matrix.to/#/#whonix:tchncs.de" href="https://matrix.to/" rel="noreferrer noopener" target="_blank"><img alt="Matrix logo.svg.png" data-pagespeed-lazy-src="/w/images/thumb/9/9a/Matrix_logo.svg.png/50px-Matrix_logo.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/9/9a/Matrix_logo.svg.png/75px-Matrix_logo.svg.png 1.5x, /w/images/thumb/9/9a/Matrix_logo.svg.png/100px-Matrix_logo.svg.png 2x" data-pagespeed-url-hash="885884846" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="22" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://t.me/Whonix_Chat_No_Media" href="https://t.me/Whonix_Chat_No_Media" rel="noreferrer noopener" target="_blank"><img alt="1024px-Telegram 2019 Logo.svg.png" data-pagespeed-lazy-src="/w/images/thumb/9/9a/1024px-Telegram_2019_Logo.svg.png/50px-1024px-Telegram_2019_Logo.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/9/9a/1024px-Telegram_2019_Logo.svg.png/75px-1024px-Telegram_2019_Logo.svg.png 1.5x, /w/images/thumb/9/9a/1024px-Telegram_2019_Logo.svg.png/100px-1024px-Telegram_2019_Logo.svg.png 2x" data-pagespeed-url-hash="938728226" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://forums.whonix.org" href="https://forums.whonix.org" rel="noreferrer noopener" target="_blank"><img alt="Discourse logo.svg" data-pagespeed-lazy-src="/w/images/thumb/c/cf/Discourse_logo.svg/50px-Discourse_logo.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/c/cf/Discourse_logo.svg/75px-Discourse_logo.svg.png 1.5x, /w/images/thumb/c/cf/Discourse_logo.svg/100px-Discourse_logo.svg.png 2x" data-pagespeed-url-hash="725402292" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="51" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://www.reddit.com/r/Whonix" href="https://www.reddit.com/r/Whonix" rel="noreferrer noopener" target="_blank"><img alt="Reddit.jpg" data-pagespeed-lazy-src="/w/images/thumb/5/5e/Reddit.jpg/x50px-Reddit.jpg.pagespeed.ic.mxdV8TVwpR.jpg" data-pagespeed-lazy-srcset="/w/images/thumb/5/5e/Reddit.jpg/x75px-Reddit.jpg.pagespeed.ic.qOSGRlJOj_.jpg 1.5x, /w/images/thumb/5/5e/Reddit.jpg/x100px-Reddit.jpg.pagespeed.ic._J9XhDO6nh.jpg 2x" data-pagespeed-url-hash="3865894478" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://diasp.org/u/whonix" href="https://diasp.org/u/whonix" rel="noreferrer noopener" target="_blank"><img alt="Diaspora.png" data-pagespeed-lazy-src="/w/images/thumb/7/71/Diaspora.png/50px-Diaspora.png" data-pagespeed-lazy-srcset="/w/images/thumb/7/71/Diaspora.png/75px-Diaspora.png 1.5x, /w/images/thumb/7/71/Diaspora.png/100px-Diaspora.png 2x" data-pagespeed-url-hash="217280668" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="13" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://gnusocial.cc/whonix" href="https://gnusocial.cc/whonix" rel="noreferrer noopener" target="_blank"><img alt="Gnusocial.png" data-pagespeed-lazy-src="/w/images/thumb/f/ff/Gnusocial.png/50px-Gnusocial.png" data-pagespeed-lazy-srcset="/w/images/thumb/f/ff/Gnusocial.png/x75px-Gnusocial.png.pagespeed.ic.pLD5tDdGAV.png 1.5x, /w/images/thumb/f/ff/Gnusocial.png/x100px-Gnusocial.png.pagespeed.ic.c6ZGVcM616.png 2x" data-pagespeed-url-hash="1274816023" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="16" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://mewe.com/i/whonixanonymousos" href="https://mewe.com/i/whonixanonymousos" rel="noreferrer noopener" target="_blank"><img alt="Mewe.png" data-pagespeed-lazy-src="/w/images/thumb/5/59/Mewe.png/50px-Mewe.png" data-pagespeed-lazy-srcset="/w/images/thumb/5/59/Mewe.png/x75px-Mewe.png.pagespeed.ic.5Xuy9cetQs.png 1.5x, /w/images/thumb/5/59/Mewe.png/x100px-Mewe.png.pagespeed.ic.K8gJxCb9U7.png 2x" data-pagespeed-url-hash="1701600402" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="16" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://whonix.tumblr.com/" href="https://whonix.tumblr.com/" rel="noreferrer noopener" target="_blank"><img alt="500px-Tumblr Wordmark.svg.png" data-pagespeed-lazy-src="/w/images/thumb/8/80/500px-Tumblr_Wordmark.svg.png/50px-500px-Tumblr_Wordmark.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/8/80/500px-Tumblr_Wordmark.svg.png/75px-500px-Tumblr_Wordmark.svg.png 1.5x, /w/images/thumb/8/80/500px-Tumblr_Wordmark.svg.png/100px-500px-Tumblr_Wordmark.svg.png 2x" data-pagespeed-url-hash="2819499813" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="10" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://www.youtube.com/user/adrelanos" href="https://www.youtube.com/user/adrelanos" rel="noreferrer noopener" target="_blank"><img alt="Iconfinder youtube 317714.png" data-pagespeed-lazy-src="/w/images/thumb/f/f7/Iconfinder_youtube_317714.png/x50px-Iconfinder_youtube_317714.png.pagespeed.ic.hjW57nZusK.png" data-pagespeed-lazy-srcset="/w/images/thumb/f/f7/Iconfinder_youtube_317714.png/x75px-Iconfinder_youtube_317714.png.pagespeed.ic.jS1AjNa9rt.png 1.5x, /w/images/thumb/f/f7/Iconfinder_youtube_317714.png/x100px-Iconfinder_youtube_317714.png.pagespeed.ic.5mW8lkFH0h.png 2x" data-pagespeed-url-hash="115096290" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://www.minds.com/Whonix" href="https://www.minds.com/Whonix" rel="noreferrer noopener" target="_blank"><img alt="200px-Minds logo.svg.png" data-pagespeed-lazy-src="/w/images/thumb/8/83/200px-Minds_logo.svg.png/x50px-200px-Minds_logo.svg.png.pagespeed.ic.NjvUMgh9sH.png" data-pagespeed-lazy-srcset="/w/images/thumb/8/83/200px-Minds_logo.svg.png/x75px-200px-Minds_logo.svg.png.pagespeed.ic.XEJA1o38Fi.png 1.5x, /w/images/thumb/8/83/200px-Minds_logo.svg.png/x100px-200px-Minds_logo.svg.png.pagespeed.ic.caANXln5P_.png 2x" data-pagespeed-url-hash="2180860142" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="19" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://mastodon.technology/@whonix" href="https://mastodon.technology/@whonix" rel="noreferrer noopener" target="_blank"><img alt="200px-Mastodon Logotype (Simple).svg.png" data-pagespeed-lazy-src="/w/images/thumb/a/a2/200px-Mastodon_Logotype_%28Simple%29.svg.png/x50px-200px-Mastodon_Logotype_,P28Simple,P29.svg.png.pagespeed.ic.I-r2BZQFu4.png" data-pagespeed-lazy-srcset="/w/images/thumb/a/a2/200px-Mastodon_Logotype_%28Simple%29.svg.png/x75px-200px-Mastodon_Logotype_,P28Simple,P29.svg.png.pagespeed.ic.HadLreW1Pf.png 1.5x, /w/images/thumb/a/a2/200px-Mastodon_Logotype_%28Simple%29.svg.png/x100px-200px-Mastodon_Logotype_,P28Simple,P29.svg.png.pagespeed.ic.2cCyBL38w2.png 2x" data-pagespeed-url-hash="1354761625" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="54" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
<a data-href="https://www.linkedin.com/company/whonix" href="https://www.linkedin.com/company/whonix" rel="noreferrer noopener" target="_blank"><img alt="200px-LinkedIn Logo 2013.svg.png" data-pagespeed-lazy-src="/w/images/thumb/8/86/200px-LinkedIn_Logo_2013.svg.png/50px-200px-LinkedIn_Logo_2013.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/8/86/200px-LinkedIn_Logo_2013.svg.png/75px-200px-LinkedIn_Logo_2013.svg.png 1.5x, /w/images/thumb/8/86/200px-LinkedIn_Logo_2013.svg.png/x100px-200px-LinkedIn_Logo_2013.svg.png.pagespeed.ic.tDSCiPbGOI.png 2x" data-pagespeed-url-hash="2317948379" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="12" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
</p><p><a data-href="/wiki/Donate" href="../Donate.html" title="Donate">Donate</a>: <a data-href="/wiki/Donate" href="../Donate.html" title="Donate"><img alt="Donate" data-pagespeed-lazy-src="/w/images/thumb/5/55/Donate.png/50px-Donate.png" data-pagespeed-lazy-srcset="/w/images/thumb/5/55/Donate.png/75px-Donate.png 1.5x, /w/images/thumb/5/55/Donate.png/100px-Donate.png 2x" data-pagespeed-url-hash="528997320" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="43" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="/wiki/Bank_Wire" href="../Bank_Wire.html" title="Bank Wire"><img alt="Bank Wire" data-pagespeed-lazy-src="/w/images/thumb/9/9c/Bank-gray-md.png/50px-Bank-gray-md.png" data-pagespeed-lazy-srcset="/w/images/thumb/9/9c/Bank-gray-md.png/75px-Bank-gray-md.png 1.5x, /w/images/thumb/9/9c/Bank-gray-md.png/100px-Bank-gray-md.png 2x" data-pagespeed-url-hash="2285782436" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="/wiki/Pay_by_PayPal_Subscription" href="../Pay_by_PayPal_Subscription.html" title="Pay by PayPal Subscription"><img alt="Paypal" data-pagespeed-lazy-src="/w/images/thumb/7/76/De-pp-logo-200px.png/50px-De-pp-logo-200px.png" data-pagespeed-lazy-srcset="/w/images/thumb/7/76/De-pp-logo-200px.png/75px-De-pp-logo-200px.png 1.5x, /w/images/thumb/7/76/De-pp-logo-200px.png/100px-De-pp-logo-200px.png 2x" data-pagespeed-url-hash="4158825803" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="13" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="bitcoin:3CQ2BiFyzfXLv3JYhaBBr8hvLrfpdwZ56f" href="bitcoin:3CQ2BiFyzfXLv3JYhaBBr8hvLrfpdwZ56f" rel="noreferrer noopener" target="_blank"><img alt="Bitcoin accepted here" data-pagespeed-lazy-src="/w/images/thumb/2/29/BC_Logo_.png/x50px-BC_Logo_.png.pagespeed.ic.JzDA8_sfk0.png" data-pagespeed-lazy-srcset="/w/images/thumb/2/29/BC_Logo_.png/x75px-BC_Logo_.png.pagespeed.ic.hwEO4vuCTz.png 1.5x, /w/images/thumb/2/29/BC_Logo_.png/x100px-BC_Logo_.png.pagespeed.ic.-3uQ7DMH72.png 2x" data-pagespeed-url-hash="3326897788" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="/wiki/Donate" href="../Donate.html" title="Donate"><img alt="Monero accepted here" data-pagespeed-lazy-src="/w/images/thumb/0/05/Monero-symbol-1280.png/50px-Monero-symbol-1280.png" data-pagespeed-lazy-srcset="/w/images/thumb/0/05/Monero-symbol-1280.png/75px-Monero-symbol-1280.png 1.5x, /w/images/thumb/0/05/Monero-symbol-1280.png/100px-Monero-symbol-1280.png 2x" data-pagespeed-url-hash="3096480854" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="/wiki/Contribute" href="../Contribute.html" title="Contribute"><img alt="Contriute" data-pagespeed-lazy-src="/w/images/thumb/d/d1/Circle-question.png/50px-Circle-question.png" data-pagespeed-lazy-srcset="/w/images/thumb/d/d1/Circle-question.png/75px-Circle-question.png 1.5x, /w/images/thumb/d/d1/Circle-question.png/100px-Circle-question.png 2x" data-pagespeed-url-hash="1213918796" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="50" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a>
</p><p><a class="image" data-href="/w/index.php?title=File:Whonix_donate_bitcoin.png&amp;filetimestamp=20191108101006&amp;" href="https://www.whonix.org/w/index.php?title=File:Whonix_donate_bitcoin.png&amp;filetimestamp=20191108101006&amp;"><img alt="Whonix donate bitcoin.png" data-pagespeed-lazy-src="/w/images/thumb/3/30/Whonix_donate_bitcoin.png/100px-Whonix_donate_bitcoin.png" data-pagespeed-lazy-srcset="/w/images/thumb/3/30/Whonix_donate_bitcoin.png/150px-Whonix_donate_bitcoin.png 1.5x, /w/images/thumb/3/30/Whonix_donate_bitcoin.png/200px-Whonix_donate_bitcoin.png 2x" data-pagespeed-url-hash="1991549021" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="100" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="100"/></a> <a class="image" data-href="/w/index.php?title=File:Monero_donate_whonix.png&amp;filetimestamp=20191108101131&amp;" href="https://www.whonix.org/w/index.php?title=File:Monero_donate_whonix.png&amp;filetimestamp=20191108101131&amp;"><img alt="Monero donate whonix.png" data-pagespeed-lazy-src="/w/images/thumb/6/60/Monero_donate_whonix.png/100px-Monero_donate_whonix.png" data-pagespeed-lazy-srcset="/w/images/thumb/6/60/Monero_donate_whonix.png/150px-Monero_donate_whonix.png 1.5x, /w/images/thumb/6/60/Monero_donate_whonix.png/200px-Monero_donate_whonix.png 2x" data-pagespeed-url-hash="4227525155" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="100" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="100"/></a> <a class="image" data-href="/w/index.php?title=File:United_Federation_of_Planets_1000px.png&amp;filetimestamp=20200623175809&amp;" href="https://www.whonix.org/w/index.php?title=File:United_Federation_of_Planets_1000px.png&amp;filetimestamp=20200623175809&amp;"><img alt="United Federation of Planets 1000px.png" data-pagespeed-lazy-src="/w/images/thumb/e/e5/United_Federation_of_Planets_1000px.png/x100px-United_Federation_of_Planets_1000px.png.pagespeed.ic.XwvVXuWfjd.png" data-pagespeed-lazy-srcset="/w/images/thumb/e/e5/United_Federation_of_Planets_1000px.png/x150px-United_Federation_of_Planets_1000px.png.pagespeed.ic.xVOFxqh5nZ.png 1.5x, /w/images/thumb/e/e5/United_Federation_of_Planets_1000px.png/x200px-United_Federation_of_Planets_1000px.png.pagespeed.ic.6wmqtSbsvM.png 2x" data-pagespeed-url-hash="3148045464" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="98" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="100"/></a>
</p><p><a data-href="/wiki/Official_Whonix_Online_Profiles" href="../Official_Whonix_Online_Profiles.html" title="Official Whonix Online Profiles">Share</a>: <a data-href="https://twitter.com/intent/tweet?url=../Tunnels/Connecting_to_a_VPN_before_Tor&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Tunnels/Connecting_to_a_VPN_before_Tor&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Tunnels/Connecting_to_a_VPN_before_Tor" href="https://facebook.com/sharer.php?u=../Tunnels/Connecting_to_a_VPN_before_Tor">Facebook</a>
</p>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;">
<p>Please <a class="external text" data-href="/wiki/Contribute" href="../Contribute" rel="noreferrer noopener" target="_blank">contribute</a> <sup><a data-href="https://web.archive.org/web/../Contribute" href="https://web.archive.org/web/../Contribute" rel="noreferrer noopener" target="_blank">[archive]</a></sup> by helping to <a class="external text" data-href="/wiki/Contribute#Answer_Questions" href="../Contribute" rel="noreferrer noopener" target="_blank">answer Whonix questions</a> <sup><a data-href="https://web.archive.org/web/../Contribute#Answer_Questions" href="https://web.archive.org/web/../Contribute" rel="noreferrer noopener" target="_blank">[archive]</a></sup>.
</p>
</div>
<p><a data-href="Connecting_to_a_VPN_before_Tor" href="../Tunnels/Connecting_to_a_VPN_before_Tor" rel="noreferrer noopener" target="_blank"><img alt="https link" data-pagespeed-lazy-src="/w/images/thumb/2/24/Https_long.png/50px-Https_long.png" data-pagespeed-lazy-srcset="/w/images/2/24/xHttps_long.png.pagespeed.ic.fyMhLB8JR4.jpg 1.5x" data-pagespeed-url-hash="2451531401" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="12" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="50"/></a> <a data-href="http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Tunnels/Connecting_to_a_VPN_before_Tor" href="http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Tunnels/Connecting_to_a_VPN_before_Tor" rel="noreferrer noopener" target="_blank"><img alt="onion link" data-pagespeed-lazy-src="/w/images/thumb/0/05/Iconfinder_tor_386502.svg/25px-Iconfinder_tor_386502.svg.png" data-pagespeed-lazy-srcset="/w/images/thumb/0/05/Iconfinder_tor_386502.svg/38px-Iconfinder_tor_386502.svg.png 1.5x, /w/images/thumb/0/05/Iconfinder_tor_386502.svg/50px-Iconfinder_tor_386502.svg.png 2x" data-pagespeed-url-hash="3726897143" data-src="/pagespeed_static/1.JiBnMqyl6S.gif" decoding="async" height="25" onerror="this.onerror=null;pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" onload="pagespeed.lazyLoadImages.loadIfVisibleAndMaybeBeacon(this);" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH+BnBzYV9sbAAh+QQBCgABACwAAAAAAQABAAACAkwBADs=" width="25"/></a>
</p><p><font size="-1">
This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix_.E2.84.A2" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix ™</a>, then <a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;action=edit">Edit</a>! Edits are held for moderation. <a data-href="/wiki/Policy_of_Whonix_Website_and_Whonix_Chat" href="../Policy_of_Whonix_Website_and_Whonix_Chat.html" title="Policy of Whonix Website and Whonix Chat">Policy of Whonix Website and Whonix Chat</a> and <a data-href="/wiki/Policy_On_Nonfreedom_Software" href="../Policy_On_Nonfreedom_Software.html" title="Policy On Nonfreedom Software">Policy On Nonfreedom Software</a> applies.
</font></p><p><font size="-1">Copyright (C) 2012 - 2020 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="../Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix ™ is a trademark.</a> Whonix ™ is a <a class="external text" data-href="https://www.openinventionnetwork.com/licensees.php" href="https://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> <sup><a data-href="https://web.archive.org/web/https://www.openinventionnetwork.com/licensees.php" href="https://web.archive.org/web/https://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">[archive]</a></sup> of the <a class="external text" data-href="https://www.openinventionnetwork.com" href="https://www.openinventionnetwork.com" rel="noreferrer noopener" target="_blank">Open Invention Network</a> <sup><a data-href="https://web.archive.org/web/https://www.openinventionnetwork.com" href="https://web.archive.org/web/https://www.openinventionnetwork.com" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix ™ itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="../Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">Whonix ™ is a derivative of and not affiliated with <a class="external text" data-href="https://www.debian.org" href="https://www.debian.org" rel="noreferrer noopener" target="_blank">Debian</a> <sup><a data-href="https://web.archive.org/web/https://www.debian.org" href="https://web.archive.org/web/https://www.debian.org" rel="noreferrer noopener" target="_blank">[archive]</a></sup>. <a class="external text" data-href="https://www.debian.org/trademark" href="https://www.debian.org/trademark" rel="noreferrer noopener" target="_blank">Debian is a registered trademark</a> <sup><a data-href="https://web.archive.org/web/https://www.debian.org/trademark" href="https://web.archive.org/web/https://www.debian.org/trademark" rel="noreferrer noopener" target="_blank">[archive]</a></sup> owned by <a class="external text" data-href="https://www.spi-inc.org/" href="https://www.spi-inc.org/" rel="noreferrer noopener" target="_blank">Software in the Public Interest, Inc</a> <sup><a data-href="https://web.archive.org/web/https://www.spi-inc.org/" href="https://web.archive.org/web/https://www.spi-inc.org/" rel="noreferrer noopener" target="_blank">[archive]</a></sup>.
</font></p><p><font size="-1">Whonix ™ is produced independently from the Tor<a class="external text" data-href="https://2019.www.torproject.org/docs/trademark-faq.html.en" href="https://2019.www.torproject.org/docs/trademark-faq.html.en" rel="noreferrer noopener" target="_blank">®</a> <sup><a data-href="https://web.archive.org/web/https://2019.www.torproject.org/docs/trademark-faq.html.en" href="https://web.archive.org/web/https://2019.www.torproject.org/docs/trademark-faq.html.en" rel="noreferrer noopener" target="_blank">[archive]</a></sup> anonymity software and carries no guarantee from <a class="external text" data-href="https://www.torproject.org" href="https://www.torproject.org" rel="noreferrer noopener" target="_blank">The Tor Project</a> <sup><a data-href="https://web.archive.org/web/https://www.torproject.org" href="https://web.archive.org/web/https://www.torproject.org" rel="noreferrer noopener" target="_blank">[archive]</a></sup> about quality, suitability or anything else.
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix ™ is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>, <a data-href="/wiki/Contact" href="../Contact.html" title="Contact">Contact</a>.
</font>
</p>
</div></div><div class="printfooter">
Retrieved from "<a data-href="/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;oldid=58127" dir="ltr" href="https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;oldid=58127">https://www.whonix.org/w/index.php?title=Tunnels/Connecting_to_a_VPN_before_Tor&amp;oldid=58127</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Documentation" href="../Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 19 June 2020, at 14:37.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="../DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
<li class="copyright"> </li>
</ul>
</div>
</div>
</footer>
</div>

</body>
</html>
