<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Dev/anon-ws-disable-stacked-tor - Whonix
 url: ../Dev/Dummy_Tor
 date: Thu Feb 14 07:44:04 2019
-->
<head>
<meta charset="utf-8"/>
<title>Dev/anon-ws-disable-stacked-tor - Whonix</title>
<link rel="stylesheet" type="text/css" href="../style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="image"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="Preventing Tor over Tor for Tor Browser, TorChat and others." name="description"/>
<meta content="Preventing Tor over Tor for Tor Browser, TorChat and others." name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="https://www.whonix.org/favicon.ico" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<link data-href="../Dev/anon-ws-disable-stacked-tor" href="../Dev/anon-ws-disable-stacked-tor" rel="canonical"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Dev/anon-ws-disable-stacked-tor" property="og:title"/>
<meta content="../Dev/anon-ws-disable-stacked-tor" property="og:url"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" property="og:image"/>
<meta content="Preventing Tor over Tor for Tor Browser, TorChat and others." property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dev_anon-ws-disable-stacked-tor rootpage-Dev skin-foreground action-view"><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAArCAYAAAA65tviAAANxklEQVRo3rWae3Ad1X3HP2d3r65elmz5KcvyA0u2MQYbcIyhNgNI40wcHAdKIDjM5EFC0oaB0nTS0Jl22ukj09CmnaRNJ7QpTMorpQWSQoITiRjimNi4NTa2ZVvGT0m2JEuWru5D997d8+sf5+zdvZJsnHS6M5rV2bv39/t9f+/zO1cxxdUGdJp7nYKPAXcLrAEWAnkFx4E3gVc74KcA7UAHV3a12bvlMVfBBoGNClYCswFf4CSwD9ip4JcdoC/HQ031sN3cPifwPftIAKViC0AUKPv/VmVA6SsF1AazgBcUtEmMx4TX4s++ADzdCX6o6EsCCV9oNxpfKoCL4VgD1NYkmdEwjZHRDCdSOUZBHAtQ4JyClg7IXs4S1gqdwO1WEQKoGZZHwkpfAMbsX+zKKVjRAWcuaZFQk+3QDbRooAlomlHDnffdQuPCWVTVJEELIkIhm2fw/Agdb3Wx/cCZUABfwbYOeHEqrbXBastmlg/SXFWhPr7uKhbOrqW2sgLXUSjR5Md9xtLj9A2k2LHvDKNaOAcikdAPdMBzk4CEINqgU8EdClgErFvfyub7bkGs8IhAoBGtES2gBc9RnD45wJM/fIczF9LiGpqPdMC32ywDq6C7gJc0SLXnqE/d3MJNKxopFAMkCOkZ2mhBtEZpcBB2vtfDO8cH6QfS1qWBrR3wo1BhcYt8FHhVLIgbb1jC1gc2orUxvmEQAQjXBOb/hOvwrWd38t8nBnAMycc64O+tJTYreE2DLG6oVX/8iQ8ZACEtMSDQIBICMYoTLagg4PxgipffPkEvkDJgAoEZnZAGUDawqwVGgMQcYHnjDB786laUgNaC0trcRaM1pTWWWSiM0gE/+Mk+fvruaVEmdr4osNtmH3XT0jl89o5rEMczfhIqRkIwEoHQgkIsf0EXCwz1D/GDX52iBxOIAqMYMBK61j0CL7rAEuAP/vx+KuumWUEjZsQ0KFaDaF0SQkRw/IDnfryb7QfOigdFBa6Ae9vVjXxyw9VQWRvRjLuspuRWEIKJ0RfQmTF27TvO3p5RjofCw291wtvKmj4FTGsC1t+4hLse3IwOiAlcrjWxWgqFmChUopDlb5/bwf4zwyigdW4dj915A279bBCrgDg9kUk8jDsbRZZ4APT38a87DtNb0NJvQqO3ExaoNlim4KiALAL1xUe3sODqlijgxPit6BiDmE9PLRDI0Dm+9tTPyRV8/vq+dVQ0LkIpJxKqRKfcPc3nhm75c/MsyKTZt2svO86m5ERU21pUG9wDvOgBS4E/ffIxiiRQlogWo/0yAGHsxC1S0pplHmgGDu7DVTB98TLcZFUkUJlLWR4SKUVKtGN8LN3ssS4yg4M89V4/p8EPwAPuUW3wd8CjM0FtWNnE/Y9/nmIhiOLDMii5lAiC1VqoTSItx10kGB0m33uaqmWrSxoWGw9l67LvESkj5A3oXJb0u3vR2QyegmcPDnLa18EQuAq+pdpsCVkM3Pup21nzkXa07xuBY24wyX9DjYYgofRZFDcayY+jKipj7xMJiZQDiNEUAeW4+BeHyR49SHHgHIICLTgi7OpL8+7FcX0KHOAN1Q6nBBYtAx78w200r15t0yI20JhCiNhayn14olCircBhZiq5CdaSsc/F1GjRmuJgP7ljhyj09YByI7cOTPB3j+TlF/1ZjpkY6VVtMKqgrgX48l/8LnNbW21miQnIhAAsgZta+Agg5WvibgSClJot8X2kWCB79DDZg/tCj40KZKCjVBwIg7kir/VlpdsAyag28B1wlwKPfOMxZi9tMSlXImZl2itxIEqJZaBCoSc/FxHTSihT+8X3yR0/QrbrAH4qBcWCLbQ25etY6xLoMpcdzPm81j8u3da+qt3WkBbg4b96hMY1NyK+T5BNQ7GI9ouGsOOilAuuh/ISKC8BjhMJGsZJ6Cl+ET2eQ+dyBOkU/uhFgpGLFEcuojNjBOkxdDYTKaOs9bH3QGItS9QOIZqBXMBPLhSwFrmo2swGZnEr8NnPtTGzvpIgO2aratQHSSCgTX8kQWCaR+vTSimjdN83nxV9xA/KqrYxUMyScW3HG8aSsBMa1NgaLZzOaXaMFEMgx1QbbAc2LQK2fewGFi1oQIcNYhBv5MK1BRcjOnEdarC0tt3tRH/H+nvIL/pe6F7lTWpIz1WKPakiezOaHgPkZdUOTwh8pQHUh1cv5LabW/F9P2pBAo3WGhVmMh2tdWDrimVatg50qeGMgEosYCPBDL1yt5JYrEj4LgqlwFPw7/0FugNhzPRcf6Ta4eMCLzvA6soEX/7MRvL5YlmrLjoKMuNSsVY7ZCJi3U+X/FiCqP0vuadE75i1pR/o8iY1iIFCULHNbF4Lz/QXOBltqm5TbbBAwVkBaQb1O7+9lrqaihITYkxEYj5sgcWzzCRNxvJ+6bMy4LH3YlYr21wRnxaYxHIsq3kz5XM6AlIZtvFngQVzgU3XNbPu2qYyJhN9dvJurnw9dUxMVMTkTZoBbmJSiZQDsMki4SheGSjQ5Qsp8/j7HfDpEMhGgbcc4Lqkx5c+sZZCvoiUNlGRayixwWmFDdcqiKwjsc3YxLWJLR19T8uk9UQAIQg3WUFfpsB/XShwygw+RGC+gn5l99VJgRzAHFCbr23i+ta5UUxom2qDmOaEqNpewjIywcWiLjm+jqw8lRXiV8OmtTz1zC6OBsYaCo53QOvEKcrDwLcdYJXn8IUt1+H7QVlMXFJAmZgM4rVHXzobaX1FACTQ1K5azClVwX90HqLHWANgVgcMl4DE5lm9Ao11oDY01rFpTbN1o8jfQwHD2lIW/GJS8AfVBDfQjAaaM55mSU6hqgKCGo3ruUhRcMcdvHEHsw/TVC2dT2L5Qr7z9E7eFyEwIJ7tgAemnGsJtCv4mYBcBWrb+iU01FbYGhHb8gaxAhZbhxlHTWoton19Rgf8W33AS+th0eKAh+bUcO/tH6a+ehEnuodQY/0Mv/8e+aODsF2Y0dxMdUsTz7y6n/8ZTDFuhO7vgHmXHZm2wz8LfN4BrgI+fctiqjynlE0+qCZQEAb8AskV4+STASrr4A079J1x+UarT9PmDaxddyNVlZVsa/guS5s2QDpF14FBBntS1JMnfSFPX1+BG2a4nOtqYs/eAXafHmIoEnhlB3R94Mi0zUwbl1aAWlXhsm1tc6kah5U5KlpmrQrC6Kocrb+3glmt13C8u0CtCiiOpRjuOU/63FlSmSSvL7+J/MxqChmfx5v/k2leLe54kQt9gjMODY5LrXZpUB6jvT5/9p0Mp/qD0ngWuKsDXvnAIbbNYjOBfgG3BlhdneCuVXPLKnB54Gvy84p86McuycJGcoMj+OkM3YeGkGweP1VgdCigSmBa1ueha6+hKqlZevYEH6kfYdEMl+uaPLycS5BSDPcJR44GPH80zytKqDwJc0agZoQn3oKvXvE03rpYo8BpIFENLE843LtyDo5M0RCKMNRU4OZnAsZ6k1T4PvmLmvSwIp9ymFPh0lTjQdph554MW1oqSSQ0dZWaRE4z60SOm6qEGRqCPLw7BscbwFsCugqyBeh/H0lfROkxzjHOz+jlbXz208WviGZck48V7Lx2OXBEQCpAtTqKbcsbcEVKk8fQxfJFYfvmDNs+6VAvCZqmuZB2IOtAxmGgJ2DnngzfPKv55a2gqmB6JdQloaYCqj2o8MCz/iNiDknyPmSLkC4io+Oo1Lgd1x/G53VaSXPqshaJxctKBYcEJAFqmaPYvKCWhoQzqf0eKWoOJjUXmjXzlgvzZgEZuNAD/3hSOFMJ2fnA9YZHpQczqmBaAqoroNKFhGv2a5gOn2IAOR8yRUjlYfQCFE4BDfTzHL/PKNuBEXUlJ0zt0GLnt7WANIHaNKuS5TUuxVjqVUoRCGS1kCpC1u50k47R7gsP+Lx6UEPSzGad2VBfC/UVUJuAqgRUuOCGVsEMrvIBZAMYPGuUQjNQARziNC9xPwHdVwTEJgAHOGrPTmQmqNVJh1uneyQcs0O8THFmZExo2ac43zWdh54foGtAoA4qF0PDfKithOoEVFn3KllFQ1HDuRNwpgej0jzQhzAdxZPcTZbdVwRkQvX/EbBFMCO+RcBHGxLMSSozyhFjmUkNX6DYf2+RNZshWXAZueiw5fk8qWpQLjSvhbrp1ioOePagRRR07YKBgmXWC0zHbJ8HKfIid5L7NYBMOBC6XcEbYg9dpgPXJBTtMxN4qtw6IoJyHZyqJIHn0eWNs2dBhqXL4I6Vis7DIo8fQWkXKucizU2oucvMLlAVYPebkJ0N1GE2G/OB83a9nb/kKE9R5MSvBWQCqOnA08BWAfFAzQLWV7tcX+fhKTsScx2cigSugsMX8+wfydOt4YI9J3SAcfj6gXUo6vkajeZMscaF3Djoq8zJDg5QQHBRnOUX/JBvAnuBPkD/X4CEKfo+gX9QMEuDVIFqAG6d5tFS7eB6Lj3jATuGCgwBw7EDVODnHtz9ujlkgnpWsJ4dNDKXuTag+4F6hGEUVfTyPb5OjjeAc4Tfu1z6/Q1i52+AR8WEDgnrBa71hGx09idihLi+EwbKDk0TQJF6NrOHFpYhCEUUHgHbeYJu/gVjzNErruy/CRj7A4M/EfhKnLhEIN7B/Pigp5NL/MigGTiLyx28wGru4Qjf5xgP8z5piGaA/y9ApgA2D/gSBlAS+K6Cf+qAw1dE4GngM0ArK+nm8JQ/JZhw/S9dtEONwVO5dQAAAABJRU5ErkJggg==);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Payments" href="../Payments.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires money to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Dev/anon-ws-disable-stacked-tor" href="../Dev/anon-ws-disable-stacked-tor.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=history" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Dev/anon-ws-disable-stacked-tor</h1>
<h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a class="mw-redirect" data-href="/wiki/Dev" href="../Dev.html" title="Dev">Dev</a></span><span class="mw-redirectedfrom">(Redirected from <a class="mw-redirect" data-href="/w/index.php?title=Dev/Dummy_Tor&amp;redirect=no" href="https://www.whonix.org/w/index.php?title=Dev/Dummy_Tor&amp;redirect=no.html" title="Dev/Dummy Tor">Dev/Dummy Tor</a>)</span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Why.3F"><span class="tocnumber">1</span> <span class="toctext">Why?</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Implementation"><span class="tocnumber">2</span> <span class="toctext">Implementation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#providing_virtual_Tor_package"><span class="tocnumber">2.1</span> <span class="toctext">providing virtual Tor package</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Tor_binary_replacement"><span class="tocnumber">2.2</span> <span class="toctext">Tor binary replacement</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#systemd-socket-proxyd_listening_port_redirection"><span class="tocnumber">2.3</span> <span class="toctext">systemd-socket-proxyd listening port redirection</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Unix_Domain_Socket_File_Redirection"><span class="tocnumber">2.4</span> <span class="toctext">Unix Domain Socket File Redirection</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Tor_state_file_creation"><span class="tocnumber">2.5</span> <span class="toctext">Tor state file creation</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#bindp"><span class="tocnumber">2.6</span> <span class="toctext">bindp</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#socat"><span class="tocnumber">2.7</span> <span class="toctext">socat</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Debugging"><span class="tocnumber">3</span> <span class="toctext">Debugging</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Debugging_with_curl"><span class="tocnumber">4</span> <span class="toctext">Debugging with curl</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#To_use_curl"><span class="tocnumber">4.1</span> <span class="toctext">To use curl</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Using_curl_in_Whonix_14"><span class="tocnumber">4.2</span> <span class="toctext">Using curl in Whonix 14</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Application_Developers"><span class="tocnumber">5</span> <span class="toctext">Application Developers</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#See_Also"><span class="tocnumber">6</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Footnotes"><span class="tocnumber">7</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span id="Why?"></span><span class="mw-headline" id="Why.3F">Why?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=1.html" title="Edit section: Why?">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>See <a data-href="/wiki/DoNot#Prevent_Tor_over_Tor_scenarios." href="../DoNot.html" title="DoNot">DoNot#Prevent_Tor_over_Tor_scenarios.</a>
</p>
<h1><span class="mw-headline" id="Implementation">Implementation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=2.html" title="Edit section: Implementation">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="providing_virtual_Tor_package">providing virtual Tor package</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=3.html" title="Edit section: providing virtual Tor package">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Implemented in <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor" href="https://github.com/Whonix/anon-ws-disable-stacked-tor" rel="noreferrer noopener" target="_blank">anon-ws-disable-stacked-tor</a>, <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/debian/control" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/debian/control" rel="noreferrer noopener" target="_blank"><span style="border:1px dotted #005cb9">debian/control</span></a>. The package uses the <code>Provides: tor</code> field<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>, which should avoid any kinds of conflicts, in case upstream releases a higher version of Tor. This won't work for packages, which depend on an explicit version of Tor (such as TorChat). This is non-ideal, since for example the <span style="border:1px dotted #005cb9">torchat</span> package will install Tor, but still acceptable, because of the following additional implementations.
</p>
<h2><span class="mw-headline" id="Tor_binary_replacement">Tor binary replacement</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=4.html" title="Edit section: Tor binary replacement">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Tor's binary was replaced (dpkg-diverted using config-package-dev) with dummy executables, so even if the real <span style="border:1px dotted #005cb9">tor</span> package gets installed, it won't be automatically started.
</p>
<ul><li><a class="external free" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/bin/tor.anondist" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/bin/tor.anondist" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/bin/tor.anondist</a></li>
<li><a class="external free" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/sbin/tor.anondist" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/sbin/tor.anondist" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/sbin/tor.anondist</a></li></ul>
<h2><span class="mw-headline" id="systemd-socket-proxyd_listening_port_redirection">systemd-socket-proxyd listening port redirection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=5.html" title="Edit section: systemd-socket-proxyd listening port redirection">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/systemd-unit-files-generator" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/systemd-unit-files-generator" rel="noreferrer noopener" target="_blank">Listening</a> using <code>systemd-socket-proxyd</code> on the following listening ports:
</p>
<ul><li><ul><li>Tor's default listening ports. I.e.:
<ul><li>system <a data-href="/wiki/Tor" href="../Tor.html" title="Tor">Tor</a>'s <span style="border:1px dotted #005cb9">127.0.0.1:9050</span>, <span style="border:1px dotted #005cb9">127.0.0.1:9051</span> and,</li>
<li><a data-href="/wiki/Tor_Browser" href="../Tor_Browser.html" title="Tor Browser">Tor Browser</a>'s <span style="border:1px dotted #005cb9">127.0.0.1:9150</span>, <span style="border:1px dotted #005cb9">127.0.0.1:9051</span>,</li>
<li><a class="mw-redirect" data-href="/wiki/Tor_Messenger" href="../Tor_Messenger.html" title="Tor Messenger">Tor Messenger</a>'s <span style="border:1px dotted #005cb9">127.0.0.1:9152</span>, <span style="border:1px dotted #005cb9">127.0.0.1:9153</span></li></ul></li>
<li>and others, see <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/etc/anon-ws-disable-stacked-tor.d/30_anon-dist.conf" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/etc/anon-ws-disable-stacked-tor.d/30_anon-dist.conf" rel="noreferrer noopener" target="_blank">full list</a></li>
<li>Those listening ports forwarded to Whonix-Gateway.</li>
<li>This prevents the default Tor Browser, Tor Messenger and/or Tor package by The Tor Project from opening these default ports, which will result in Tor failing to open its listening port and therefore exiting, thus preventing Tor over Tor.</li></ul></li></ul>
<p>TODO: describe
</p>
<ul><li>systemd socket activation</li>
<li><a class="external free" data-href="https://phabricator.whonix.org/T357" href="https://phabricator.whonix.org/T357" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/T357</a></li></ul>
<h2><span class="mw-headline" id="Unix_Domain_Socket_File_Redirection">Unix Domain Socket File Redirection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=6.html" title="Edit section: Unix Domain Socket File Redirection">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Since Tor Browser, <a data-href="/wiki/OnionShare" href="../OnionShare.html" title="OnionShare">OnionShare</a> (<a class="external text" data-href="https://cloud.githubusercontent.com/assets/156128/21556064/8ead0338-cdd2-11e6-918c-d4ca61724b52.png" href="https://cloud.githubusercontent.com/assets/156128/21556064/8ead0338-cdd2-11e6-918c-d4ca61724b52.png" rel="noreferrer noopener" target="_blank">screenshot</a>) among more and more other applications require <a class="external text" data-href="https://phabricator.whonix.org/T192" href="https://phabricator.whonix.org/T192" rel="noreferrer noopener" target="_blank">SocksSocket</a> <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>, anon-ws-disable-stacked-tor is also providing:
</p>
<ul><li>Tor Control Unix Domain Socket file: /var/run/tor/control, which is redirected to Control Port Filter Proxy on Whonix-Gateway.</li>
<li><a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/share/anon-ws-disable-stacked-tor/control.authcookie" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/share/anon-ws-disable-stacked-tor/control.authcookie" rel="noreferrer noopener" target="_blank">Tor Control Auth Cookie</a>: a functional /var/run/tor/control.authcookie that works with <a data-href="/wiki/Dev/Control_Port_Filter_Proxy" href="../Dev/Control_Port_Filter_Proxy.html" title="Dev/Control Port Filter Proxy">Control Port Filter Proxy</a>.</li>
<li>Tor Socks Unix Domain Socket file: /var/run/tor/socks that is redirected to Whonix-Gateway Tor port 9050
<ul><li><a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/etc/anon-ws-disable-stacked-tor.d/30_anon-dist.conf" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/etc/anon-ws-disable-stacked-tor.d/30_anon-dist.conf" rel="noreferrer noopener" target="_blank">full list</a></li></ul></li></ul>
<h2><span class="mw-headline" id="Tor_state_file_creation">Tor state file creation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=7.html" title="Edit section: Tor state file creation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>All required state files which Tor would normally create in <code>/var/run/tor</code> and <code>/var/lib/tor</code> are being created by <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/state-files" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/state-files" rel="noreferrer noopener" target="_blank">/usr/lib/anon-ws-disable-stacked-tor/state-files</a>.
</p>
<h2><span class="mw-headline" id="bindp">bindp</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=8.html" title="Edit section: bindp">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>TODO: describe
</p>
<ul><li>bindp</li>
<li><a class="external free" data-href="https://phabricator.whonix.org/T561" href="https://phabricator.whonix.org/T561" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/T561</a></li></ul>
<h2><span class="mw-headline" id="socat">socat</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=9.html" title="Edit section: socat">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are no <code>socat</code> redirections by default in Whonix 14 and above.
</p><p>Advanced setups such as <a class="external text" data-href="https://getmonero.org/resources/user-guides/cli_wallet_daemon_isolation_qubes_whonix.html" href="https://getmonero.org/resources/user-guides/cli_wallet_daemon_isolation_qubes_whonix.html" rel="noreferrer noopener" target="_blank">Monero CLI Wallet/Daemon Isolation with Qubes-Whonix</a> are using things like <code>EXEC</code>. From that example.
</p>
<pre>socat TCP-LISTEN:18081,fork,bind=127.0.0.1 EXEC:"qrexec-client-vm monerod-ws user.monerod"
</pre>
<p><code>systemd-socket-proxyd</code> does not support <code>EXEC</code>, hence <code>socat</code> is useful here.
</p>
<h1><span class="mw-headline" id="Debugging">Debugging</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=10.html" title="Edit section: Debugging">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>echo "$TOR_SOCKS_IPC_PATH"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">echo "$TOR_SOCKS_IPC_PATH"</textarea>
</div>
</div>
<p>Should show the following.
</p>
<pre>/var/run/anon-ws-disable-stacked-tor/127.0.0.1_9150.sock
</pre>
<hr/>
<p>Run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>echo "$TOR_CONTROL_IPC_PATH"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">echo "$TOR_CONTROL_IPC_PATH"</textarea>
</div>
</div>
<p>Should show the following.
</p>
<pre>/var/run/anon-ws-disable-stacked-tor/127.0.0.1_9151.sock
</pre>
<p>Also please run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>UWT_DEV_PASSTHROUGH=1 curl 127.0.0.1:9150</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">UWT_DEV_PASSTHROUGH=1 curl 127.0.0.1:9150</textarea>
</div>
</div>
<p>Should show the following.
</p>
<pre>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Tor is not an HTTP Proxy&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;Tor is not an HTTP Proxy&lt;/h1&gt;
&lt;p&gt;
It appears you have configured your web browser to use Tor as an HTTP proxy.
This is not correct: Tor is a SOCKS proxy, not an HTTP proxy.
Please configure your client accordingly.
&lt;/p&gt;
&lt;p&gt;
See &lt;a href="https://www.torproject.org/documentation.html"&gt;https://www.torproject.org/documentation.html&lt;/a&gt; for more information.
&lt;!-- Plus this comment, to make the body response more than 512 bytes, so      IE will be willing to display it. Comment comment comment comment      comment comment comment comment comment comment comment comment.--&gt;
&lt;/p&gt;
&lt;/body&gt;
&lt;/html
</pre>
<p>Run a similar command.
</p>
<pre>echo GET | socat - UNIX-CONNECT:/var/run/anon-ws-disable-stacked-tor/127.0.0.1_9150.sock
</pre>
<p>Should show the same as above.
</p>
<hr/>
<p>Next one to try.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>UWT_DEV_PASSTHROUGH=1 curl 127.0.0.1:9151</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">UWT_DEV_PASSTHROUGH=1 curl 127.0.0.1:9151</textarea>
</div>
</div>
<p>Should show the following.
</p>
<pre>510 Request filtered
...
</pre>
<p>Run a similar command.
</p>
<pre>echo GET | socat - UNIX-CONNECT:/var/run/anon-ws-disable-stacked-tor/127.0.0.1_9151.sock
</pre>
<p>Should show.
</p>
<pre>510 Request filtered
</pre>
<h1><span class="mw-headline" id="Debugging_with_curl">Debugging with curl</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=11.html" title="Edit section: Debugging with curl">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Trying to use <code>curl</code> rather than <code>curl.anondist-org</code> is a common mistake when debugging Whonix network issues.
</p><p><code>curl</code> is a symlink to <code>curl.anondist-orig</code>. In turn, this symlinks to <code>uwtwrapper</code> which runs <code>curl</code> under <code>torsocks</code>. <code>torsocks</code> then forces Tor to run on <code>localhost</code> for stream isolation.
</p>
<h4><span class="mw-headline" id="To_use_curl">To use curl</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=12.html" title="Edit section: To use curl">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<ul><li>The <code>uwt</code> steam isolation wrapper must be circumvented or disabled.</li>
<li>The command must be run under user <code>clearnet</code></li></ul>
<p><br/>
In Whonix-Gateway or <code>sys-whonix</code> <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix</a>
</p><p><b>1.</b> Change to user <code>clearnet</code>
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo -su clearnet</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo -su clearnet</textarea>
</div>
</div>
<p><b>2.</b> Circumvent <code>uwt</code> stream isolation wrapper by appending <code>.anondist-orig</code> to <code>curl</code>
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>curl.anondist-orig &lt;your_url&gt;</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">curl.anondist-orig &lt;your_url&gt;</textarea>
</div>
</div>
<h4><span class="mw-headline" id="Using_curl_in_Whonix_14">Using curl in Whonix 14</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=13.html" title="Edit section: Using curl in Whonix 14">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>In the following examples, the <code>exec</code> calls from the command output shows the difference between running <code>curl</code> with the <code>uwtwrapper</code> both enabled and disabled. 
</p><p><b><i>Example 1</i></b>
</p><p><code>curl</code> is run with the <code>uwtwrapper</code> enabled. 
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>uwtwrapper_verbose=1 curl &lt;your_url&gt;</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">uwtwrapper_verbose=1 curl &lt;your_url&gt;</textarea>
</div>
</div>
<p>This results in the following <code>exec</code> calls. Only the latest (most recent) call matters which shows <code>torsocks</code> is prepended before running <code>curl</code>. 
</p>
<pre>exec torsocks /usr/lib/uwtexec something &lt;your_url&gt;
exec -a /usr/bin/curl /usr/bin/curl.anondist-orig &lt;your_url&gt;
</pre>
<p><b><i>Example 2</i></b>
</p><p><code>curl</code> is run with the <code>uwtwrapper</code> disabled.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>uwtwrapper_verbose=1 UWT_DEV_PASSTHROUGH=1 curl &lt;your_url&gt;</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">uwtwrapper_verbose=1 UWT_DEV_PASSTHROUGH=1 curl &lt;your_url&gt;</textarea>
</div>
</div>
<p>This command results in the following <code>exec</code> calls which show <code>torsocks</code> does not get prepended before <code>curl</code>. Since <code>curl</code> does not run under <code>torsocks</code>, local connections are not hindered and there is no stream isolation.
</p>
<pre> exec /usr/lib/uwtexec &lt;your_url&gt;
 exec -a /usr/bin/curl /usr/bin/curl.anondist-orig &lt;your_url&gt;
</pre>
<p><b>The output from the previous commands establish the following</b>.
</p>
<ul><li><code>/usr/bin/curl</code> is symbolically linked to <code>/usr/bin/curl.anondist-orig</code>. This demonstrates <code>/usr/bin/curl.anondist-orig</code> is the actual (real) <code>curl</code> binary.</li></ul>
<ul><li>When <code>/usr/bin/curl.anondist-orig</code> is run with the <code>uwtwrapper</code> disabled all <code>uwt</code> logic is circumvented.</li></ul>
<p><br/>
Users can either circumvent the <code>uwt</code> stream isolation wrapper or disabled it either permanently or temporary.
</p><p>Links:
</p>
<ul><li><a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a></li>
<li><a data-href="/wiki/Stream_Isolation/Disable_Easy" href="../Stream_Isolation/Disable_Easy.html" title="Stream Isolation/Disable Easy">Stream Isolation/Disable Easy</a></li></ul>
<hr/>
<h1><span class="mw-headline" id="Application_Developers">Application Developers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=14.html" title="Edit section: Application Developers">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a data-href="/wiki/Dev/Whonix_friendly_applications_best_practices" href="../Dev/Whonix_friendly_applications_best_practices.html" title="Dev/Whonix friendly applications best practices">Dev/Whonix friendly applications best practices</a>
</p>
<h1><span class="mw-headline" id="See_Also">See Also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=15.html" title="Edit section: See Also">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a class="mw-redirect" data-href="/wiki/Template:Systemd-socket-proxyd" href="../Template:Systemd-socket-proxyd.html" title="Template:Systemd-socket-proxyd">Template:Systemd-socket-proxyd</a></li></ul>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit&amp;section=16.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text">See "7.5 Virtual packages - Provides" on <a class="external free" data-href="http://www.debian.org/doc/debian-policy/ch-relationships.html" href="http://www.debian.org/doc/debian-policy/ch-relationships.html" rel="noreferrer noopener" target="_blank">http://www.debian.org/doc/debian-policy/ch-relationships.html</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text">
<ul><li><a class="external free" data-href="https://trac.torproject.org/projects/tor/ticket/14272#comment:3" href="https://trac.torproject.org/projects/tor/ticket/14272" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/ticket/14272#comment:3</a></li>
<li><a class="external free" data-href="https://trac.torproject.org/projects/tor/ticket/20111#comment:5" href="https://trac.torproject.org/projects/tor/ticket/20111" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/ticket/20111#comment:5</a></li></ul>
</span></li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="../Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="../Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="../Special:UserLogin/signup" href="../Special:UserLogin/signup">register</a> or <a data-href="../Special:UserLogin" href="../Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="278"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Please consider a <a class="external text" data-href="../Payment" href="../Payment" rel="noreferrer noopener" target="_blank">recurring payment</a> for your Priority Support!
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="../Dev/anon-ws-disable-stacked-tor" href="../Dev/anon-ws-disable-stacked-tor" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="../Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/anon-ws-disable-stacked-tor" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/anon-ws-disable-stacked-tor" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=../Dev/anon-ws-disable-stacked-tor&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Dev/anon-ws-disable-stacked-tor&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Dev/anon-ws-disable-stacked-tor" href="https://facebook.com/sharer.php?u=../Dev/anon-ws-disable-stacked-tor">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! See <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" rel="noreferrer noopener" target="_blank">Conditions for Contributions to Whonix</a>, then <a data-href="/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;action=edit">Edit</a>! IP addresses are scrubbed, but editing over Tor is recommended. Edits are held for moderation.</font>
</p><p><font size="-1">Whonix is a <a class="external text" data-href="http://www.openinventionnetwork.com/licensees.php" href="http://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the Open Invention Network. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Libre Software <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" rel="noreferrer noopener" target="_blank">license</a> as Whonix itself. (<a data-href="/wiki/Why_Whonix_is_Free_Software" href="../Why_Whonix_is_Free_Software.html" title="Why Whonix is Free Software">Why?</a>)</font>
</p><p><font size="-1">Whonix is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>.</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190214064400
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.080 seconds
Real time usage: 0.081 seconds
Preprocessor visited node count: 388/1000000
Preprocessor generated node count: 1240/1000000
Post‐expand include size: 3788/2097152 bytes
Template argument size: 384/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4721/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   48.087      1 -total
 39.10%   18.804      8 Template:CodeSelect
 28.81%   13.856      1 Template:Footer
  8.57%    4.123      1 Template:Reflist
  7.83%    3.763      1 Template:Header
  7.21%    3.469      1 Template:Share
  6.34%    3.048      1 Template:Edit_it
  3.69%    1.774      9 Template:Code
  3.43%    1.651      1 Template:RandomNews
  1.81%    0.871      1 Template:Whonix_onion
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;oldid=40785" dir="ltr" href="https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;oldid=40785">https://www.whonix.org/w/index.php?title=Dev/anon-ws-disable-stacked-tor&amp;oldid=40785</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Design" href="../Category:Design.html" title="Category:Design">Design</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 3 February 2019, at 08:43.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a class="mw-redirect" data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a class="mw-redirect" data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
</html>
