<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation - Whonix
 url: ../Dev/CPFP
 date: Tue Apr 23 07:33:20 2019
-->
<head>
<meta charset="utf-8"/>
<title>onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation - Whonix</title>
<link rel="stylesheet" type="text/css" href="../style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="image"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation" name="description"/>
<meta content="onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<link data-href="../Dev/Control_Port_Filter_Proxy" href="../Dev/Control_Port_Filter_Proxy" rel="canonical"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Dev/Control Port Filter Proxy" property="og:title"/>
<meta content="../Dev/Control_Port_Filter_Proxy" property="og:url"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" property="og:image"/>
<meta content="onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dev_Control_Port_Filter_Proxy rootpage-Dev skin-foreground action-view"><div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>Last update: March 17, 2019. This website uses cookies. By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span>Â <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,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);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="../Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires Donations to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Dev/Control_Port_Filter_Proxy" href="../Dev/Control_Port_Filter_Proxy.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=history" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">onion-grater, a Tor Control Port Filter Proxy - filtering dangerous Tor Control Port commands - Design Documentation</h1>
<h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a class="mw-redirect" data-href="/wiki/Dev" href="../Dev.html" title="Dev">Dev</a></span><span class="mw-redirectedfrom">(Redirected from <a class="mw-redirect" data-href="/w/index.php?title=Dev/CPFP&amp;redirect=no" href="https://www.whonix.org/w/index.php?title=Dev/CPFP&amp;redirect=no.html" title="Dev/CPFP">Dev/CPFP</a>)</span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Whonix-Workstation_.E2.84.A2"><span class="tocnumber">2</span> <span class="toctext">Whonix-Workstation â¢</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Whonix-Gateway_.E2.84.A2"><span class="tocnumber">3</span> <span class="toctext">Whonix-Gateway â¢</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Attack_Scenarios"><span class="tocnumber">4</span> <span class="toctext">Attack Scenarios</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Imitating_real_Tor_Control_Connection"><span class="tocnumber">5</span> <span class="toctext">Imitating real Tor Control Connection</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#TorButton"><span class="tocnumber">6</span> <span class="toctext">TorButton</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#TorButton_Network_Settings"><span class="tocnumber">7</span> <span class="toctext">TorButton Network Settings</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#TorLauncher"><span class="tocnumber">8</span> <span class="toctext">TorLauncher</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Debugging_Inspiration"><span class="tocnumber">9</span> <span class="toctext">Debugging Inspiration</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Talking_to_the_real_Tor_Control_Port"><span class="tocnumber">10</span> <span class="toctext">Talking to the real Tor Control Port</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Indicator_for_current_Circuit_Status_and_Exit_IP"><span class="tocnumber">11</span> <span class="toctext">Indicator for current Circuit Status and Exit IP</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#UI_for_ExitNode_country_selection_in_tor-launcher"><span class="tocnumber">12</span> <span class="toctext">UI for ExitNode country selection in tor-launcher</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#feedback_mechanism_for_clock-skew_and_other_bad_problems"><span class="tocnumber">13</span> <span class="toctext">feedback mechanism for clock-skew and other bad problems</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Whonix_.E2.84.A2_Forum_Discussion"><span class="tocnumber">14</span> <span class="toctext">Whonix â¢ Forum Discussion</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Comparison_of_Control_Port_Filters"><span class="tocnumber">15</span> <span class="toctext">Comparison of Control Port Filters</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#roflcoptor_by_subgraph_os"><span class="tocnumber">15.1</span> <span class="toctext">roflcoptor by subgraph os</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#surrogate.go_by_Yawning_Angel"><span class="tocnumber">15.2</span> <span class="toctext">surrogate.go by Yawning Angel</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#onion-grater_by_Tails"><span class="tocnumber">15.3</span> <span class="toctext">onion-grater by Tails</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#onion-grater_by_Tails_forked_by_Whonix_.E2.84.A2"><span class="tocnumber">15.4</span> <span class="toctext">onion-grater by Tails forked by Whonix â¢</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#legacy_control-port-filter-python_by_Whonix_.E2.84.A2"><span class="tocnumber">15.5</span> <span class="toctext">legacy control-port-filter-python by Whonix â¢</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#legacy2_control-port-filter_by_Whonix_.E2.84.A2"><span class="tocnumber">15.6</span> <span class="toctext">legacy2 control-port-filter by Whonix â¢</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-22"><a href="#See_Also"><span class="tocnumber">16</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-23"><a href="#Footnotes"><span class="tocnumber">17</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=1.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a class="external free" data-href="https://github.com/Whonix/onion-grater" href="https://github.com/Whonix/onion-grater" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/onion-grater</a><br/>
<a class="external free" data-href="https://phabricator.whonix.org/project/view/72/" href="https://phabricator.whonix.org/project/view/72/" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/project/view/72/</a>
</p><p>Tor's control port has in context of Whonix â¢, dangerous features. The answer to the Tor control command <i><span style="background-color:#FBFBFB">GETINFO address</span></i> will be the real external IP of the Tor client. Other dangerous commands include <i><span style="background-color:#FBFBFB">SETCONF</span></i>, <i><span style="background-color:#FBFBFB">LOADCONF</span></i> and <i><span style="background-color:#FBFBFB">GETCONF</span></i>. This can not be limited any other way, since the feature request <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/8369" href="https://trac.torproject.org/projects/tor/ticket/8369" rel="noreferrer noopener" target="_blank">Option to limit information Tor's control port discloses</a> against Tor has not been implemented. By the way, this Tor control port feature makes also a <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/BridgeFirewall" href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/BridgeFirewall" rel="noreferrer noopener" target="_blank">Bridge Firewall</a> impossible. Therefore before Whonix â¢ 6, Whonix-Workstation â¢ had no access to Tor's control port. This was because, Whonix-Workstation â¢ is not supposed to have an way of finding out its own external IP address.
</p><p>Before Whonix â¢ 6, this also broke Tor Button's New Identity feature, which essentially sends <i><span style="background-color:#FBFBFB">SIGNAL NEWNYM</span></i> to Tor's control port. While Tor Button's New Identity is still the only feature that was not available when using Tor Browser in Whonix â¢, Tor Button in future will get more and more dependent on Tor's control port.
</p><p>Tor Browser <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/6546#comment:33" href="https://trac.torproject.org/projects/tor/ticket/6546" rel="noreferrer noopener" target="_blank">by default performs its own control port verification</a>. It checks using Tor's control port(!), that the socks port Tor reports, is the same one as Tor Browser is configured to use. If it fails, and it would fail in Whonix â¢ 0.5.6, Tor Button would look like disabled and show a failure message. (To see how this would look like,  see <a class="external text" data-href="https://forums.whonix.org/uploads/default/original/1X/c2c9bb5dc7efee7a933dd00d3bf0c30c29c99daa.png" href="https://forums.whonix.org/uploads/default/original/1X/c2c9bb5dc7efee7a933dd00d3bf0c30c29c99daa.png" rel="noreferrer noopener" target="_blank">this screenshot</a>.) (To see how this generates user confusion, see <a class="external text" data-href="https://forums.whonix.org/t/something-went-wrong/2080" href="https://forums.whonix.org/t/something-went-wrong/2080" rel="noreferrer noopener" target="_blank">this forum thread</a>.) Since Whonix â¢ 6 this check is disabled using <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/13079" href="https://trac.torproject.org/projects/tor/ticket/13079" rel="noreferrer noopener" target="_blank">environment variable to skip TorButton control port verification</a> (<code>export TOR_SKIP_CONTROLPORTTEST=1</code>) by package <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" rel="noreferrer noopener" target="_blank">anon-ws-disable-stacked-tor</a>. <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>
</p><p>In future, Tor Button will likely also use something like <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/3652" href="https://trac.torproject.org/projects/tor/ticket/3652" rel="noreferrer noopener" target="_blank"><i><span style="background-color:#FBFBFB">GETINFO clockskew</span></i></a>. Tor Browser developer <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/8032" href="https://trac.torproject.org/projects/tor/ticket/8032" rel="noreferrer noopener" target="_blank">rejected</a> the idea of not adding the statement <i><span style="background-color:#FBFBFB">require no access to Tor's control port</span></i> to Tor Browser's design.
</p><p>Therefore all requirements, Whonix-Workstation â¢ having no way of finding its own external IP address, joining Tor Browser's fingerprint for Whonix â¢ users, having no access for Whonix-Workstation â¢ to Tor's control port with Tor Buttons new requirement to have access to Tor's control port contradicted itself.
</p><p>onion-grater has been implemented as a solution. It gives Whonix-Workstation â¢ access to a limited selection of Tor's control port commands, using white listing (not blacklisting). For example, it allows <i><span style="background-color:#FBFBFB">SIGNAL NEWNYM</span></i> to make Tor Buttons New Identity feature available for users who use Tor Browser in Whonix-Workstation â¢.
</p><p>Therefore when onion-grater gets asked <i><span style="background-color:#FBFBFB">GETINFO net/listeners/socks</span></i>, it lies, and answers '250-net/listeners/socks="127.0.0.1:9150"'. This makes Tor Button happy and therefore it shows a "Congratulations!" (success) welcome page on its default homepage about:tor and not the failure page, which would confuse users. Since bug <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/9224" href="https://trac.torproject.org/projects/tor/ticket/9224" rel="noreferrer noopener" target="_blank">TorButton about:tor fails when using additional socks listeners</a> has been fixed by Tor Tor Project, it that lie wouldn't be necessary anymore. <font size="-3">We're keeping it, because it is not necessary for Tor Button get a full list of all ports Tor is listening on. If an attacker compromised Whonix-Workstation â¢, hiding that list has an advantage. The attacker can probe what ports are available to that Whonix-Workstation â¢, but if the user added extra ports not available to the compromised Whonix-Workstation â¢ (only available to another Whonix-Workstation â¢ listening on another IP), at least those remain secret. (This is a bit theoretical, because a compromised Whonix-Workstation â¢ can spoof its LAN IP and most likely very few users are using ARP spoofing defenses. Should we add ARP spoofing defenses by default at some point, we at least don't have to worry about this point.)</font>
</p><p>For eventual further Tor control port access requirements by Tor Button, the configuration file of accepted commands has to be extended. If Tor Button would ever ask for anything which violates Whonix â¢ design (Whonix-Workstation â¢ has no way of finding out its own external IP address in particular), such as <i><span style="background-color:#FBFBFB">GETINFO address</span></i>, for example if Tor Button wanted to ensure, that the user is not using its own external IP address, a new lie would have to be added to the onion-grater script. In case many more lies are required, lies should go into the config file as well, for now, hard coding is sufficient.
</p><p><a data-href="/wiki/Whonixcheck" href="../Whonixcheck.html" title="Whonixcheck">whonixcheck</a> asks onion-grater <i><span style="background-color:#FBFBFB">status/bootstrap-phase</span></i> <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup> as well as <i><span style="background-color:#FBFBFB">status/circuit-established</span></i> <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup> in Tor Bootstrap Status Check <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup> (usability feature).
</p><p>onion-grater limits maximum accepted command string length to 128 (configurable) (credits: <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup> <sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup>) for better security.
</p><p>Advanced users who do not wish to use onion-grater can disable it, see <a data-href="/wiki/Advanced_Security_Guide#Disable_Control_Port_Filter_Proxy" href="../Advanced_Security_Guide.html" title="Advanced Security Guide">Advanced Security Guide#Disable Control Port Filter Proxy</a>.
</p><p>TODO: expand - required for onionshare <a class="external free" data-href="../Next#onionshare" href="../Next" rel="noreferrer noopener" target="_blank">../Next#onionshare</a> / ricochet
</p>
<h1><span id="Whonix-Workstation_â¢"></span><span class="mw-headline" id="Whonix-Workstation_.E2.84.A2">Whonix-Workstation â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=2.html" title="Edit section: Whonix-Workstation â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Whonix sets appropriate environment variables for control port (9051), control port ip (127.0.0.1) and control port password "password". The latter is not really in use, its just to make Tor Button happy, because it doesn't default to some password. Tor Button sends it, but its ignored by onion-grater.
</p><p>This functionality is implemented by the <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor" href="https://github.com/Whonix/anon-ws-disable-stacked-tor" rel="noreferrer noopener" target="_blank">anon-ws-disable-stacked-tor</a> package. See also <a data-href="/wiki/Dev/anon-ws-disable-stacked-tor" href="../Dev/anon-ws-disable-stacked-tor.html" title="Dev/anon-ws-disable-stacked-tor">Dev/anon-ws-disable-stacked-tor</a>.
</p><p><s>Tor Browser (running in Whonix-Workstation â¢) is configured by default (not changed by Whonix) to connect to Tor control port 127.0.0.1:9151.</s> TODO: document unix domain socket files
</p>
<h1><span id="Whonix-Gateway_â¢"></span><span class="mw-headline" id="Whonix-Gateway_.E2.84.A2">Whonix-Gateway â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=3.html" title="Edit section: Whonix-Gateway â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>onion-grater listens on Whonix â¢ internal network interface <sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup>, port <code>9051</code>, filters (white list) incoming control port messages and forwards them to the real Tor Control Port listening on <code>ControlSocket</code> <code>/run/tor/control</code>. onion-grater itself uses cookies authentication to authenticate Tor's control port. The latter is not important, since Whonix-Gateway â¢ only purpose is running Tor, its not a multi user operating system, and if it were compromised, cookie authentication wouldn't be of help anymore either.
</p>
<h1><span class="mw-headline" id="Attack_Scenarios">Attack Scenarios</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=4.html" title="Edit section: Attack Scenarios">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Once Whonix-Workstation â¢ has been compromised, the adversary could continuously and/or using a pattern, send white listed commands to Tor. At the moment, only <i><span style="background-color:#FBFBFB">NEWNYM</span></i> would be of interest. When the adversary is also an ISP level adversary, the adversary might be able to see the pattern being produced. This however is not a big risk, since once Whonix-Workstation â¢ is compromised, more powerful attacks are available - An adversary could also use "Morse Code", i.e. limit the victims traffic for a few seconds to zero or close to zero, then push the traffic to its maximum. 
</p><p>More worrying is the extended attack surface.
</p>
<h1><span class="mw-headline" id="Imitating_real_Tor_Control_Connection">Imitating real Tor Control Connection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=5.html" title="Edit section: Imitating real Tor Control Connection">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Should Tor close the connection, onion-grater will also close client connection. (Same for a real Tor control connection.)
</p><p>Both real Tor control connection and onion-grater close the connection if commands are sent when the client is not yet authenticated. (With the exception of authenticate, authchallenge and protocolinfo so there is parity.)
</p><p>Should Tor authentication fail, this is logged and onion-grater closes client connection.
</p>
<h1><span class="mw-headline" id="TorButton">TorButton</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=6.html" title="Edit section: TorButton">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>To get a list of Tor ControlPort commands, that TorButton uses, get into TorButton source code, extract TorButton, then run.
</p>
<pre>grep -r -i torbutton_send_ctrl_cmd *
</pre>
<pre>grep -r -i sendCommand *
</pre>
<h1><span class="mw-headline" id="TorButton_Network_Settings">TorButton Network Settings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=7.html" title="Edit section: TorButton Network Settings">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<pre>TorButton -&gt; Open Network Settings...
</pre>
<p>Is using.
</p>
<pre>   "GETCONF Socks4Proxy"
   "GETCONF Socks5Proxy"
   "GETCONF HTTPSProxy"
   "GETCONF ReachableAddresses"
   "GETCONF ReachableAddresses"
   "GETCONF UseBridges"
   "GETCONF Bridge"
</pre>
<p>As the next logical step by the way, they are likely going to add.
</p>
<pre>   "GETCONF HTTPProxy"
</pre>
<p>We are <a class="external text" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" rel="noreferrer noopener" target="_blank">setting</a> environment variable <code><a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/14100" href="https://trac.torproject.org/projects/tor/ticket/14100" rel="noreferrer noopener" target="_blank">export TOR_NO_DISPLAY_NETWORK_SETTINGS=1</a></code> to disable the "TorButton" -&gt; "Open Network Settings..." menu item. It is not useful and confusing to have on a workstation, because Tor must be configured on the gateway, which is for security reasons forbidden from the workstation.
</p>
<h1><span class="mw-headline" id="TorLauncher">TorLauncher</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=8.html" title="Edit section: TorLauncher">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>To get a list of Tor ControlPort commands, that TorLauncher uses, get into TorLauncher source code, extract TorLauncher, then run.
</p>
<pre>grep -r -i getconf
</pre>
<h1><span class="mw-headline" id="Debugging_Inspiration">Debugging Inspiration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=9.html" title="Edit section: Debugging Inspiration">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Quickly install files from package to system.
</p>
<pre>sudo make install
</pre>
<p>Restart onion-grater after making changes to it.
</p>
<pre>sudo service onion-grater restart
</pre>
<p>Watch onion-grater's log on Whonix-Gateway â¢ while using it.
</p>
<pre>sudo journalctl -f -u onion-grater
</pre>
<p>Watch kern.log for eventual iptables log messages, run this on Whonix-Gateway â¢.
</p>
<pre>tail -f /var/log/kern.log
</pre>
<p>To see what's being send to onion-grater's port, run this on Whonix-Gateway â¢.
</p>
<pre>sudo tcpdump -i eth1 -l -s0 -w - tcp dst port 9051 | strings
</pre>
<p>To connect to onion-grater from a <a data-href="/wiki/Non-Qubes-Whonix" href="../Non-Qubes-Whonix.html" title="Non-Qubes-Whonix">Non-Qubes-Whonix â¢</a>-Gateway.
</p>
<pre>nc 10.152.152.10 9051
</pre>
<p>To connect to onion-grater from a <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a>-Gateway.
</p>
<pre>nc $(qubesdb-read /qubes-netvm-gateway) 9051
</pre>
<p>On the Whonix-Workstation â¢ you should be able to run.
</p>
<pre>nc 127.0.0.1 9051
</pre>
<p>Type "something". Enter. Should reply "510 Command filtered".
</p><p>Command.
</p>
<pre>authenticate                                                                                                                                                                        
</pre>
<p>Output.
</p>
<pre>250 OK
</pre>
<p>Command.
</p>
<pre>GETINFO net/listeners/socks
</pre>
<p>Output.
</p>
<pre>250-net/listeners/socks="127.0.0.1:9150"
</pre>
<p>Command.
</p>
<pre>GETINFO address
</pre>
<p>Output.
</p>
<pre>510 Prohibited command "GETINFO address"
</pre>
<p>Command.
</p>
<pre>QUIT
</pre>
<h1><span class="mw-headline" id="Talking_to_the_real_Tor_Control_Port">Talking to the real Tor Control Port</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=10.html" title="Edit section: Talking to the real Tor Control Port">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>On Whonix-Gateway â¢. (<i><span style="background-color:#FBFBFB">test</span></i> is the example password being used. Feel free to use a different/stronger one.
</p>
<pre>tor --hash-password test
</pre>
<p>Will show something like this.
</p>
<pre>16:1CEAF6E6A08E0CF460AFD71772461C5F56BD9738FA8824B882FCA4A785
</pre>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">From Whonix 14 onwards, all user unique Tor configurations should be stored in <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> and not anywhere else. Note that Whonix will <u>not</u> modify <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> once it is created, therefore the user is responsible for adding or removing specific configurations in this file.</div></td></tr></tbody></table>
<p><br/>
Open <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> -&gt; <code>Whonix-Gateway â¢ ProxyVM (commonly named sys-whonix)</code> -&gt; <code>Tor User Config (Torrc)</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> -&gt; <code>Applications</code> -&gt; <code>Settings</code> -&gt; <code>/usr/local/etc/torrc.d/50_user.conf
</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, complete the following steps.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /usr/local/etc/torrc.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /usr/local/etc/torrc.d/50_user.conf</textarea>
</div>
</div>
</div>
<pre>HashedControlPassword 16:1CEAF6E6A08E0CF460AFD71772461C5F56BD9738FA8824B882FCA4A785
</pre>
<p>Reload Tor.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>After editing <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>, Tor must be reloaded for changes to take effect. 
</p><p><b>Note:</b> If Tor does not connect after completing all these steps, then a user mistake is the most likely explanation. Recheck <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> and repeat the steps outlined in the sections above. If Tor then connects successfully, all the necessary changes have been made.
</p><p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> -&gt; <code>Whonix-Gateway â¢ ProxyVM (commonly named 'sys-whonix')</code> -&gt; <code>Reload Tor</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> -&gt; <code>Applications</code> -&gt; <code>Settings</code> -&gt; <code>Reload Tor
</code>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, press on Expand on the right.
</p>
<div class="mw-collapsible-content">
<p>Complete the following steps.
</p><p>Reload Tor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default reload</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default reload</textarea>
</div>
</div>
<p>Check Tor's daemon status.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default status</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default status</textarea>
</div>
</div>
<p>It should include a a message saying.
</p>
<pre>Active: active (running) since ...
</pre>
<p>In case of issues, try the following debugging steps.
</p><p>Check Tor's config.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo -u debian-tor tor --verify-config</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo -u debian-tor tor --verify-config</textarea>
</div>
</div>
<p>The output should be similar to the following.
</p>
<pre>Sep 17 17:40:41.416 [notice] Read configuration file "/usr/local/etc/torrc.d/50_user.conf".
Configuration was valid</pre>
</div>
</div>
</div>
<pre>sudo service tor reload
</pre>
<p>Connect to Tor's ControlPort.
</p>
<pre>sudo --non-interactive -u debian-tor socat - UNIX-CONNECT:/var/run/tor/control
</pre>
<p>Authenticate.
</p>
<pre>authenticate "test"
</pre>
<p>Should reply.
</p>
<pre>250 OK
</pre>
<p>Test your commands. For example.
</p>
<pre>setevents stream
</pre>
<p>Will do nothing after this, but when you start using Tor (i.e. by running Tor Browser, apt-get or so), it will show something like this (events).
</p>
<pre>650 STREAM 211 NEW 0 pop.riseup.net:995 SOURCE_ADDR=10.152.152.11:47036 PURPOSE=USER
...
</pre>
<h1><span class="mw-headline" id="Indicator_for_current_Circuit_Status_and_Exit_IP">Indicator for current Circuit Status and Exit IP</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=11.html" title="Edit section: Indicator for current Circuit Status and Exit IP">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>The Tor Project Ticket: <a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/8641" href="https://trac.torproject.org/projects/tor/ticket/8641" rel="noreferrer noopener" target="_blank">Create Browser UI indication for current circuit status and exit IP </a></li>
<li>Screenshots:
<ul><li><a class="external free" data-href="https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/tor_circuit_diagram_screenshot.png" href="https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/tor_circuit_diagram_screenshot.png" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/tor_circuit_diagram_screenshot.png</a></li>
<li><a class="external free" data-href="https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/mockup_torCircuitStatus.png" href="https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/mockup_torCircuitStatus.png" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/raw-attachment/ticket/8641/mockup_torCircuitStatus.png</a></li></ul></li>
<li>The Tor Project source code: <a class="external free" data-href="https://gitweb.torproject.org/torbutton.git/tree/src/chrome/content/tor-circuit-display.js" href="https://gitweb.torproject.org/torbutton.git/tree/src/chrome/content/tor-circuit-display.js" rel="noreferrer noopener" target="_blank">https://gitweb.torproject.org/torbutton.git/tree/src/chrome/content/tor-circuit-display.js</a></li>
<li>Requires "setevents stream" which we do not want because we do not wish the workstation to know its Tor entry and/or Tor middle relay.</li></ul>
<h1><span class="mw-headline" id="UI_for_ExitNode_country_selection_in_tor-launcher">UI for ExitNode country selection in tor-launcher</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=12.html" title="Edit section: UI for ExitNode country selection in tor-launcher">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a class="external free" data-href="https://trac.torproject.org/projects/tor/ticket/11406" href="https://trac.torproject.org/projects/tor/ticket/11406" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/ticket/11406</a>
</p>
<h1><span class="mw-headline" id="feedback_mechanism_for_clock-skew_and_other_bad_problems">feedback mechanism for clock-skew and other bad problems</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=13.html" title="Edit section: feedback mechanism for clock-skew and other bad problems">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a class="external free" data-href="https://trac.torproject.org/projects/tor/ticket/9675" href="https://trac.torproject.org/projects/tor/ticket/9675" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/ticket/9675</a>
</p>
<h1><span id="Whonix_â¢_Forum_Discussion"></span><span class="mw-headline" id="Whonix_.E2.84.A2_Forum_Discussion">Whonix â¢ Forum Discussion</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=14.html" title="Edit section: Whonix â¢ Forum Discussion">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><a class="external text" data-href="https://forums.whonix.org/t/new-tor-controlport-commands-wanted-by-tbb-4-5-and-above" href="https://forums.whonix.org/t/new-tor-controlport-commands-wanted-by-tbb-4-5-and-above" rel="noreferrer noopener" target="_blank">new Tor ControlPort commands wanted by TBB 4.5 and above</a>
</p>
<h1><span class="mw-headline" id="Comparison_of_Control_Port_Filters">Comparison of Control Port Filters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=15.html" title="Edit section: Comparison of Control Port Filters">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="roflcoptor_by_subgraph_os">roflcoptor by subgraph os</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=16.html" title="Edit section: roflcoptor by subgraph os">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external text" data-href="https://github.com/subgraph/roflcoptor" href="https://github.com/subgraph/roflcoptor" rel="noreferrer noopener" target="_blank">roflcoptor</a> by subgraph os
</p>
<ul><li>Many golang dependencies that are not packaged for Debian.</li>
<li>Event support.</li>
<li>Wildcard support.</li>
<li>TODO: expand</li></ul>
<hr/>
<h2><span class="mw-headline" id="surrogate.go_by_Yawning_Angel">surrogate.go by Yawning Angel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=17" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=17.html" title="Edit section: surrogate.go by Yawning Angel">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external text" data-href="https://gitweb.torproject.org/tor-browser/sandboxed-tor-browser.git/tree/src/cmd/sandboxed-tor-browser/internal/tor/surrogate.go" href="https://gitweb.torproject.org/tor-browser/sandboxed-tor-browser.git/tree/src/cmd/sandboxed-tor-browser/internal/tor/surrogate.go" rel="noreferrer noopener" target="_blank">surrogate.go (tor project gitweb)</a> by Yawning Angel
</p>
<ul><li>golang (build dep, not run dep)</li>
<li>AGPL (Achtung!)</li>
<li>Part of new/upcoming <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorBrowser/Sandbox/Linux" href="https://trac.torproject.org/projects/tor/wiki/doc/TorBrowser/Sandbox/Linux" rel="noreferrer noopener" target="_blank">Sandboxed Tor Browser</a></li>
<li>"Tor control/socks port surrogates." (quoting top comment) Intended to proxy/filter both ControlPort and SOCKSPort of tor process in one bubblewrapped sandbox, while actual Tor Browser runs in another bubblewrapped sandbox.</li>
<li>Observed version: <a class="external text" data-href="https://gitweb.torproject.org/tor-browser/sandboxed-tor-browser.git/commit/src/cmd/sandboxed-tor-browser/internal/tor/surrogate.go?id=6ff4802a9f4b76c791c2bf864b5446170474215f" href="https://gitweb.torproject.org/tor-browser/sandboxed-tor-browser.git/commit/src/cmd/sandboxed-tor-browser/internal/tor/surrogate.go?id=6ff4802a9f4b76c791c2bf864b5446170474215f" rel="noreferrer noopener" target="_blank">6ff4802</a></li>
<li>So, official TPO Tor Browser variant also has this problem. Oops!</li></ul>
<hr/>
<h2><span class="mw-headline" id="onion-grater_by_Tails">onion-grater by Tails</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=18" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=18.html" title="Edit section: onion-grater by Tails">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external text" data-href="https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/lib/onion-grater" href="https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/lib/onion-grater" rel="noreferrer noopener" target="_blank">onion-grater</a> by Tails (<a class="external text" data-href="https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/onion-grater.d/" href="https://git-tails.immerda.ch/tails/tree/config/chroot_local-includes/etc/onion-grater.d/" rel="noreferrer noopener" target="_blank">config folder</a>)
</p>
<ul><li>Written in python3.</li>
<li>All dependencies already inside Debian.</li>
<li>Wildcard / regex support.</li>
<li>Supports rewriting client requests.</li>
<li>Supports rewriting Tor replies.</li>
<li>Parallel connections support.</li>
<li>Can reply to <i><span style="background-color:#FBFBFB">getinfo net/listeners/socks</span></i> with the lie '250-net/listeners/socks="127.0.0.1:9150"'.</li>
<li>Logs to journal.</li>
<li>Honors signals sigterm, sigint.</li>
<li>Supports subscribing Tor ControlPort events (<i><span style="background-color:#FBFBFB">setevent</span></i>).</li></ul>
<hr/>
<h2><span id="onion-grater_by_Tails_forked_by_Whonix_â¢"></span><span class="mw-headline" id="onion-grater_by_Tails_forked_by_Whonix_.E2.84.A2">onion-grater by Tails forked by Whonix â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=19" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=19.html" title="Edit section: onion-grater by Tails forked by Whonix â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external text" data-href="https://github.com/Whonix/onion-grater" href="https://github.com/Whonix/onion-grater" rel="noreferrer noopener" target="_blank">onion-grater</a> (<a class="external text" data-href="https://github.com/Whonix/onion-grater/tree/master/etc/onion-grater-merger.d" href="https://github.com/Whonix/onion-grater/tree/master/etc/onion-grater-merger.d" rel="noreferrer noopener" target="_blank">config folder</a>) (<a class="external text" data-href="https://github.com/Whonix/onion-grater/tree/master/usr/share/onion-grater-merger/examples" href="https://github.com/Whonix/onion-grater/tree/master/usr/share/onion-grater-merger/examples" rel="noreferrer noopener" target="_blank">additional onion-grater-<b>merger</b> example profiles</a>) (<a class="external text" data-href="https://phabricator.whonix.org/project/view/72/" href="https://phabricator.whonix.org/project/view/72/" rel="noreferrer noopener" target="_blank">issue tracker</a>)
</p>
<ul><li>mostly same as <a href="#onion-grater_by_Tails">#onion-grater by Tails</a></li>
<li>different config parsing mechanism
<ul><li><a data-href="/wiki/Dev/Control_Port_Filter_Proxy/tor-controlport-filter/config" href="../Dev/Control_Port_Filter_Proxy/tor-controlport-filter/config.html" title="Dev/Control Port Filter Proxy/tor-controlport-filter/config">description</a></li>
<li><a data-href="/wiki/Dev/Control_Port_Filter_Proxy/tor-controlport-filter/config#Whonix_fork_commits" href="../Dev/Control_Port_Filter_Proxy/tor-controlport-filter/config.html" title="Dev/Control Port Filter Proxy/tor-controlport-filter/config">commits</a></li></ul></li>
<li>Debian packaging</li>
<li>systemd unit file</li>
<li>systemd-notify support - <a class="external text" data-href="https://mailman.boum.org/pipermail/tails-dev/2017-March/011327.html" href="https://mailman.boum.org/pipermail/tails-dev/2017-March/011327.html" rel="noreferrer noopener" target="_blank">submitted patch upstream</a></li>
<li>AppArmor profile</li>
<li>seccomp hardening soon - <a class="external free" data-href="https://phabricator.whonix.org/T631" href="https://phabricator.whonix.org/T631" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/T631</a> - <a class="external free" data-href="https://phabricator.whonix.org/T362" href="https://phabricator.whonix.org/T362" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/T362</a></li></ul>
<hr/>
<h2><span id="legacy_control-port-filter-python_by_Whonix_â¢"></span><span class="mw-headline" id="legacy_control-port-filter-python_by_Whonix_.E2.84.A2">legacy control-port-filter-python by Whonix â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=20" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=20.html" title="Edit section: legacy control-port-filter-python by Whonix â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>legacy <a class="external text" data-href="https://github.com/Whonix/control-port-filter-python" href="https://github.com/Whonix/control-port-filter-python" rel="noreferrer noopener" target="_blank">control-port-filter-python</a> (<a class="external text" data-href="https://github.com/Whonix/control-port-filter-python/blob/master/usr/sbin/cpfpd" href="https://github.com/Whonix/control-port-filter-python/blob/master/usr/sbin/cpfpd" rel="noreferrer noopener" target="_blank">main script</a>) [Whonix 10 to Whonix â¢ 13 (<a class="external text" data-href="https://github.com/Whonix/control-port-filter-python/releases/tag/1.7-1" href="https://github.com/Whonix/control-port-filter-python/releases/tag/1.7-1" rel="noreferrer noopener" target="_blank">version 1.7-1</a>] (last git commit <a class="external text" data-href="https://github.com/Whonix/control-port-filter-python/commit/99e8395fbafcb7789c7d1b5cbf7410ed65192e9a" href="https://github.com/Whonix/control-port-filter-python/commit/99e8395fbafcb7789c7d1b5cbf7410ed65192e9a" rel="noreferrer noopener" target="_blank">up to 99e8395fbafcb7789c7d1b5cbf7410ed65192e9a</a>) (<a class="external text" data-href="https://phabricator.whonix.org/tag/control-port-filter-python/" href="https://phabricator.whonix.org/tag/control-port-filter-python/" rel="noreferrer noopener" target="_blank">issue tracker</a>) [deprecated]
</p>
<ul><li>A fork of (very early) <a class="external text" data-href="https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter" href="https://git-tails.immerda.ch/tails/plain/config/chroot_local-includes/usr/local/sbin/tor-controlport-filter" rel="noreferrer noopener" target="_blank">tor-controlport-filter</a> by Tails. (See above.)</li>
<li>Written in python2.7.</li>
<li>Configurable by dropping .d-style<sup class="reference" id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup> configuration snippets into <i><span style="background-color:#FBFBFB">/etc/cpfpy.d</span></i>.</li>
<li>Support to answer <i><span style="background-color:#FBFBFB">getinfo net/listeners/socks</span></i> with the lie '250-net/listeners/socks="127.0.0.1:9150"'.</li>
<li>Supports logging.</li>
<li>Honors signals sigterm, sigint, keyboard interrupt.</li>
<li>Supports parallel connections.</li>
<li>Supports wildcards, which is for tools such as <a data-href="/wiki/Next#onionshare" href="../Next.html" title="Next">onionshare</a> that are using <code>add_onion *</code>.</li>
<li>Injects workstation IP into <code>add_onion</code>. For example will transform from / to:
<ul><li><code>add_onion new:best port=80,17600</code></li>
<li><code>add_onion new:best port=80,10.137.6.41:17600</code></li></ul></li>
<li>Support subscribing Tor ControlPort events (<i><span style="background-color:#FBFBFB">setevent</span></i>). (Whonix 14 and above.) <sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup></li>
<li>Complete systemd unit file.</li>
<li>Lintian clean <i><span style="background-color:#FBFBFB">/debian</span></i> packaging folder.</li>
<li>Will be deprecated when Whonix â¢ 14 get released.</li></ul>
<hr/>
<h2><span id="legacy2_control-port-filter_by_Whonix_â¢"></span><span class="mw-headline" id="legacy2_control-port-filter_by_Whonix_.E2.84.A2">legacy2 control-port-filter by Whonix â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=21" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=21.html" title="Edit section: legacy2 control-port-filter by Whonix â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>legacy^2 control-port-filter [up to Whonix â¢ 9.x] [deprecated]
</p>
<ul><li>Supports parallel connections.</li>
<li>Written in bash. (<a class="external text" data-href="https://github.com/adrelanos/control-port-filter" href="https://github.com/adrelanos/control-port-filter" rel="noreferrer noopener" target="_blank">github</a>) (archive only)</li>
<li><a class="external text" data-href="https://github.com/Whonix/control-port-filter/blob/master/etc/controlportfilt.d/30_controlportfilt_default" href="https://github.com/Whonix/control-port-filter/blob/master/etc/controlportfilt.d/30_controlportfilt_default" rel="noreferrer noopener" target="_blank">White lists multiple useful Tor ControlPort commands</a>.</li>
<li>Configurable using /etc/controlportfilt.d drop-in files.</li>
<li>Support to answer <i><span style="background-color:#FBFBFB">getinfo net/listeners/socks</span></i> with the lie '250-net/listeners/socks="127.0.0.1:9150"'.</li>
<li>Supports logging.</li>
<li>Honors signals sigterm, sigint.</li>
<li>Does not support wildcards.</li>
<li>Does not support subscribing Tor ControlPort events (<i><span style="background-color:#FBFBFB">setevent</span></i>).</li>
<li>Complete sysvinit script.</li>
<li>Lintian clean <i><span style="background-color:#FBFBFB">/debian</span></i> packaging folder.</li>
<li>Deprecated since the release of Whonix â¢ 10.</li></ul>
<h1><span class="mw-headline" id="See_Also">See Also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=22" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=22.html" title="Edit section: See Also">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a class="external text" data-href="https://gitweb.torproject.org/torspec.git?a=blob_plain;hb=HEAD;f=control-spec.txt" href="https://gitweb.torproject.org/torspec.git?a=blob_plain;hb=HEAD;f=control-spec.txt" rel="noreferrer noopener" target="_blank">Tor Control Protocol</a></li></ul>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=23" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit&amp;section=23.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" href="https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/anon-ws-disable-stacked-tor/blob/master/usr/lib/anon-ws-disable-stacked-tor/torbrowser.sh</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">â</a></span> <span class="reference-text">
Find out what <i><span style="background-color:#FBFBFB">status/bootstrap-phase</span></i> answers yourself in Whonix-Gateway â¢.
<pre>/usr/lib/anon-shared-helper-scripts/tor_bootstrap_check.py 127.0.0.1 9051 1
</pre>
<p>Example answer.
</p>
<pre>NOTICE BOOTSTRAP PROGRESS=100 TAG=done SUMMARY="Done"
</pre></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">â</a></span> <span class="reference-text">
Find out what <i><span style="background-color:#FBFBFB">status/circuit-established</span></i> answers yourself in Whonix-Gateway â¢.
<pre>/usr/lib/anon-shared-helper-scripts/tor_circuit_established_check.py 127.0.0.1 9051 1
</pre>
<p>Example answer.
</p>
<pre>1
</pre></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_bootstrap" href="https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_bootstrap" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/whonixcheck/blob/master/usr/lib/whonixcheck/check_tor_bootstrap</a>
<pre>whonixcheck --function check_tor_bootstrap
</pre>
<pre>whonixcheck --function check_tor_bootstrap --verbose --debug
</pre></span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">â</a></span> <span class="reference-text"><a class="external text" data-href="https://mailman.boum.org/pipermail/tails-dev/2014-February/005041.html" href="https://mailman.boum.org/pipermail/tails-dev/2014-February/005041.html" rel="noreferrer noopener" target="_blank">As done by Tails.</a></span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">â</a></span> <span class="reference-text">Thanks to <a class="external text" data-href="https://www.whonix.org/old-forum/index.php?action=profile;u=87" href="https://www.whonix.org/old-forum/index.php?action=profile;u=87" rel="noreferrer noopener" target="_blank">HulaHoop</a> for <a class="external text" data-href="https://www.whonix.org/old-forum/index.php/topic,342.0.html" href="https://www.whonix.org/old-forum/index.php/topic,342.0.html" rel="noreferrer noopener" target="_blank">suggesting this</a>.</span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://github.com/Whonix/whonix-gw-network-conf/blob/master/lib/systemd/system/onion-grater.service.d/30_cpfpy.conf" href="https://github.com/Whonix/whonix-gw-network-conf/blob/master/lib/systemd/system/onion-grater.service.d/30_cpfpy.conf" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/whonix-gw-network-conf/blob/master/lib/systemd/system/onion-grater.service.d/30_cpfpy.conf</a></span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite_ref-8">â</a></span> <span class="reference-text"><a data-href="/wiki/Whonix_Configuration_Files#.d_Style_Configuration_Folders" href="../Whonix_Configuration_Files.html" title="Whonix Configuration Files">Whonix_Configuration_Files#.d_Style_Configuration_Folders</a></span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">â</a></span> <span class="reference-text">
<a class="external free" data-href="https://phabricator.whonix.org/T448" href="https://phabricator.whonix.org/T448" rel="noreferrer noopener" target="_blank">https://phabricator.whonix.org/T448</a></span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="../Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="../Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="../Special:UserLogin/signup" href="../Special:UserLogin/signup">register</a> or <a data-href="../Special:UserLogin" href="../Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="303"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>We are looking for <a data-href="/wiki/Contribute#Videos" href="../Contribute.html" title="Contribute">video production specialists</a> to help create demonstration, promotional and conceptual videos or tutorials.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="https://www.Whonix.org/wiki/Dev/Control_Port_Filter_Proxy" href="https://www.Whonix.org/wiki/Dev/Control_Port_Filter_Proxy" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="../Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/Control_Port_Filter_Proxy" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/Control_Port_Filter_Proxy" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=../Dev/Control_Port_Filter_Proxy&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Dev/Control_Port_Filter_Proxy&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Dev/Control_Port_Filter_Proxy" href="https://facebook.com/sharer.php?u=../Dev/Control_Port_Filter_Proxy">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix_.E2.84.A2" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix â¢</a>, then <a data-href="/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;action=edit">Edit</a>! Edits are held for moderation.
</font></p><p><font size="-1">Copyright (C) 2012 - 2019 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="../Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix â¢ is a trademark.</a> Whonix â¢ is a <a class="external text" data-href="http://www.openinventionnetwork.com/licensees.php" href="http://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the Open Invention Network. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix â¢ itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="../Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix â¢ is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>.
</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190423053319
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.073 seconds
Real time usage: 0.092 seconds
Preprocessor visited node count: 1033/1000000
Preprocessor generated node count: 2932/1000000
Postâexpand include size: 13222/2097152 bytes
Template argument size: 2984/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 0/100
Unstrip recursion depth: 1/20
Unstrip postâexpand size: 8511/5000000 bytes
Lua time usage: 0.010/7.000 seconds
Lua virtual size: 7.47 MB/50 MB
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   63.195      1 -total
 42.05%   26.571      1 Template:Open_/usr/local/etc/torrc.d/50_user.conf
 35.92%   22.698      1 Template:Mbox
 15.16%    9.578      1 Template:Footer
 12.07%    7.629      2 Template:Box
  9.39%    5.935      4 Template:CodeSelect
  8.31%    5.252      1 Template:Reload_Tor
  7.37%    4.658      1 Template:Reflist
  3.49%    2.206      1 Template:Header
  3.36%    2.122      1 Template:Share
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;oldid=45016" dir="ltr" href="https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;oldid=45016">https://www.whonix.org/w/index.php?title=Dev/Control_Port_Filter_Proxy&amp;oldid=45016</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Design" href="../Category:Design.html" title="Category:Design">Design</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 22 April 2019, at 22:10.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="../DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
</html>
