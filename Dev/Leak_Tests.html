<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Dev/Leak Tests - Whonix
 url: ../Dev/Leak_Tests
 date: Sat May 25 07:35:37 2019
-->
<head>
<meta charset="utf-8"/>
<title>Dev/Leak Tests - Whonix</title>
<link rel="stylesheet" type="text/css" href="../style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="image"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="Testing for IP/DNS Leaks" name="description"/>
<meta content="Testing for IP/DNS Leaks" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="https://www.whonix.org/w/api.php?action=rsd" href="https://www.whonix.org/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Dev/Leak Tests" property="og:title"/>
<meta content="../Dev/Leak_Tests" property="og:url"/>
<meta content="https://www.whonix.org/w/images/4/47/Whonix_Facebook_Social_Share.png" property="og:image"/>
<meta content="Testing for IP/DNS Leaks" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Dev_Leak_Tests rootpage-Dev skin-foreground action-view"><div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>Last update: March 17, 2019. This website uses cookies. By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span>Â <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,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);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="../Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires Donations to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Dev/Leak_Tests" href="../Dev/Leak_Tests.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Dev/Leak_Tests&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Dev/Leak_Tests&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=history" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Dev/Leak Tests</h1>
<h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a class="mw-redirect" data-href="/wiki/Dev" href="../Dev.html" title="Dev">Dev</a></span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output">
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Knowledge_assumed"><span class="tocnumber">2</span> <span class="toctext">Knowledge assumed</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Leak_Testing_Websites"><span class="tocnumber">3</span> <span class="toctext">Leak Testing Websites</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#DNS_Leak_Tests"><span class="tocnumber">4</span> <span class="toctext">DNS Leak Tests</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Online"><span class="tocnumber">4.1</span> <span class="toctext">Online</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Deactivate_host_DNS"><span class="tocnumber">4.2</span> <span class="toctext">Deactivate host DNS</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Deactivate_Whonix-Gateway_.E2.84.A2_DNS"><span class="tocnumber">4.3</span> <span class="toctext">Deactivate Whonix-Gateway â¢ DNS</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Using_dig"><span class="tocnumber">4.4</span> <span class="toctext">Using dig</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Using_nslookup"><span class="tocnumber">4.5</span> <span class="toctext">Using nslookup</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Leaks_through_the_host_or_VM"><span class="tocnumber">5</span> <span class="toctext">Leaks through the host or VM</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Ping_Test"><span class="tocnumber">6</span> <span class="toctext">Ping Test</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#FIN_ACK_.2F_RST_ACK_-_Leak_Test"><span class="tocnumber">7</span> <span class="toctext">FIN ACK / RST ACK - Leak Test</span></a></li>
<li class="toclevel-1 tocsection-13"><a href="#Integrated_tshark_leaktest"><span class="tocnumber">8</span> <span class="toctext">Integrated tshark leaktest</span></a></li>
<li class="toclevel-1 tocsection-14"><a href="#Integreated_whonixcheck_leaktest"><span class="tocnumber">9</span> <span class="toctext">Integreated whonixcheck leaktest</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Torrent_Leak_Tests"><span class="tocnumber">10</span> <span class="toctext">Torrent Leak Tests</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#UDP_Leak_Tests"><span class="tocnumber">11</span> <span class="toctext">UDP Leak Tests</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Other_Leak_Tests"><span class="tocnumber">12</span> <span class="toctext">Other Leak Tests</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#Qubes_specific"><span class="tocnumber">13</span> <span class="toctext">Qubes specific</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#TemplateVM_Update_Proxy_Leak_Test"><span class="tocnumber">13.1</span> <span class="toctext">TemplateVM Update Proxy Leak Test</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#See_Also"><span class="tocnumber">14</span> <span class="toctext">See Also</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Footnotes"><span class="tocnumber">15</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=1.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>In past Whonix â¢ documentation stated "in your own interest you should do the leak tests". That was from a time, where Whonix â¢ was only useful for very advanced end users, because only textual instructions existed; there were no scripts, no source code and the Whonix â¢ concept was brand new. It is unrealistic, that all download users do and understand the leak tests. That's why it was removed from the Readme.
</p><p>You are still invited and encouraged to do the leak tests, in fact, at the moment, there are probably not many people auditing Whonix â¢ security.
</p><p>Unfortunately, leak testing is as complicated as programming. You can not learn it overnight and you won't find someone online, willing to teach you for free. That's really something you have to do on your own. We continue to list and document all leak tests we are aware of, but we can not educate everyone in the depths of networking.
</p>
<h1><span class="mw-headline" id="Knowledge_assumed">Knowledge assumed</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=2.html" title="Edit section: Knowledge assumed">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff#Expectedissueswithpopulartestpages" href="https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff" rel="noreferrer noopener" target="_blank">Expected issues with popular test pages</a></li>
<li>Search for previous discussions before reporting.</li></ul>
<h1><span class="mw-headline" id="Leak_Testing_Websites">Leak Testing Websites</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=3.html" title="Edit section: Leak Testing Websites">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Read first! -&gt; <a data-href="/wiki/Browser_Tests" href="../Browser_Tests.html" title="Browser Tests">Browser Tests</a>
</p><p>There are too many websites for leak testing. (Some are offline.)
</p>
<ul><li><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff#TestPagestoUse" href="https://trac.torproject.org/projects/tor/wiki/doc/build/BuildSignoff" rel="noreferrer noopener" target="_blank">List 1</a></li>
<li><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/Testing/Tools#Sites" href="https://trac.torproject.org/projects/tor/wiki/doc/Testing/Tools" rel="noreferrer noopener" target="_blank">List 2</a></li></ul>
<p>None of the Leak Testing Websites running inside Whonix-Workstation â¢ is able to find out the real external clearnet IP address, no matter if plugins, flash and/or java are activated.
</p>
<h1><span class="mw-headline" id="DNS_Leak_Tests">DNS Leak Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=4.html" title="Edit section: DNS Leak Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Online">Online</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=5.html" title="Edit section: Online">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li><a class="external free" data-href="http://www.dnsleaktest.com/" href="http://www.dnsleaktest.com/" rel="noreferrer noopener" target="_blank">http://www.dnsleaktest.com/</a></li>
<li><a class="external free" data-href="http://dnsleak.com/" href="http://dnsleak.com/" rel="noreferrer noopener" target="_blank">http://dnsleak.com/</a></li>
<li><a class="external free" data-href="https://dns-leak.com/" href="https://dns-leak.com/" rel="noreferrer noopener" target="_blank">https://dns-leak.com/</a></li>
<li><a class="external free" data-href="http://check2ip.com/" href="http://check2ip.com/" rel="noreferrer noopener" target="_blank">http://check2ip.com/</a></li>
<li><a class="external free" data-href="https://anonymster.com/dns-leak-test/" href="https://anonymster.com/dns-leak-test/" rel="noreferrer noopener" target="_blank">https://anonymster.com/dns-leak-test/</a></li></ul>
<h2><span class="mw-headline" id="Deactivate_host_DNS">Deactivate host DNS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=6.html" title="Edit section: Deactivate host DNS">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Deactivating the DNS on your host should result in not being be able to nslookup anymore, but Whonix-Workstation â¢ nslookup should still be functional.
</p><p>Theoretical background: Whonix-Workstation â¢ requests should always be resolved by Whonix-Gateway â¢. In the case of a DNS leak, the host operating system is resolving DNS queries for the Whonix-Workstation â¢. Deactivating the host's DNS would make Whonix-Workstation â¢ DNS queries non-functional, breaking functionality. This is confirmation of a DNS leak.
</p>
<h2><span id="Deactivate_Whonix-Gateway_â¢_DNS"></span><span class="mw-headline" id="Deactivate_Whonix-Gateway_.E2.84.A2_DNS">Deactivate Whonix-Gateway â¢ DNS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=7.html" title="Edit section: Deactivate Whonix-Gateway â¢ DNS">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>On the Whonix-Gateway â¢. 
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/resolv.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/resolv.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/resolv.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/resolv.conf</textarea>
</div>
</div>
</div>
<p>comment out everything (# before every line so everything is ignored).
</p>
<pre>#nameserver 127.0.0.1
</pre>
<p>As a test's result the DNS requests in the Whonix-Workstation â¢ should still work while the DNS requests in the Whonix-Gateway â¢ no longer work.
</p>
<h2><span class="mw-headline" id="Using_dig">Using dig</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=8.html" title="Edit section: Using dig">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Another very poor manish leak test: Because Tor's DNS resolver does not handle AAAA records this will not return any google hostnames if run on Whonix-Workstation â¢ and DNS requests aren't leaking. Running.
</p>
<pre>dig AAAA check.torproject.org</pre>
<p>Should reply.
</p>
<pre>; &lt;&lt;&gt;&gt; DiG 9.8.1-P1 &lt;&lt;&gt;&gt; AAAA check.torproject.org
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOTIMP, id: 42383
;; flags: qr rd ra; QUERY: 1, ANSWER: 0, AUTHORITY: 0, ADDITIONAL: 0

;; QUESTION SECTION:
;check.torproject.org.          IN      AAAA

;; Query time: 0 msec
;; SERVER: 10.152.152.10#53(10.152.152.10)
;; WHEN: [date]
;; MSG SIZE  rcvd: 38
</pre>
<p>Tor also does not support DNSSEC yet. Running.
</p>
<pre>dig +dnssec check.torproject.org @localhost</pre>
<p>Should reply.
</p>
<pre>; &lt;&lt;&gt;&gt; DiG 9.8.1-P1 &lt;&lt;&gt;&gt; +dnssec check.torproject.org @localhost
;; global options: +cmd
;; connection timed out; no servers could be reached
</pre>
<h2><span class="mw-headline" id="Using_nslookup">Using nslookup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=9.html" title="Edit section: Using nslookup">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Running.
</p>
<pre>nslookup -type=mx check.torproject.org</pre>
<p>Should reply.
</p>
<pre>Server:         10.152.152.10
Address:        10.152.152.10#53

** server can't find check.torproject.org: NOTIMP
</pre>
<p>Running
</p>
<pre>nslookup -type=AAAA check.torproject.org</pre>
<p>Should reply.
</p>
<pre>Server:         10.152.152.10
Address:        10.152.152.10#53

** server can't find check.torproject.org: NOTIMP
</pre>
<h1><span class="mw-headline" id="Leaks_through_the_host_or_VM">Leaks through the host or VM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=10.html" title="Edit section: Leaks through the host or VM">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Shut down the Whonix-Gateway â¢ and start the Whonix-Workstation â¢. The Whonix-Workstation â¢ shouldn't be able to exchange data with any outside target.
</p>
<h1><span class="mw-headline" id="Ping_Test">Ping Test</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=11.html" title="Edit section: Ping Test">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>First, make sure both VMs are online. Since ICMP is not supported by Tor and filtered by Whonix â¢ firewall, you should not be able to ping any servers.
</p>
<h1><span id="FIN_ACK_/_RST_ACK_-_Leak_Test"></span><span class="mw-headline" id="FIN_ACK_.2F_RST_ACK_-_Leak_Test">FIN ACK / RST ACK - Leak Test</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=12.html" title="Edit section: FIN ACK / RST ACK - Leak Test">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><font size="-3">Credit for FIN ACK / RST ACK - Leak Test (coined by Whonix â¢): Originally written by Mike Perry on the tor-talk mailing list, he found a transparent proxy leak without references to Whonix â¢. (<a class="external text" data-href="https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html" href="https://lists.torproject.org/pipermail/tor-talk/2014-March/032503.html" rel="noreferrer noopener" target="_blank">source</a>) The test has been adapted for Whonix â¢.</font>
</p><p>Note, the following IP 74.125.28.104 points to www.google.com and should be seen as an example.
</p><p>On the host.
</p><p>Close your browser and cease all other non-Whonix â¢ online activity to avoid contaminating the following test.
</p><p>Install tcpdump.
</p>
<pre>sudo apt-get update
sudo apt-get install tcpdump
</pre>
<p>Run tcpdump. Replace <code>-i wlan0</code> with your network interface. If you use <code>-i any</code>, you will also see transproxied packets (which are not normally leaked).
</p>
<pre>sudo tcpdump -n -i wlan0 host 74.125.28.104 and tcp port 80
</pre>
<p>For testing/learning, connect to 74.125.28.104 (ping, open in a browser, use curl, scurl or similar) and see how it looks like when a connection to that IP is being made.
</p><p>Close the connection. Stop tcpdump. Start tcpdump again.
</p><p>In Whonix-Workstation â¢.
</p><p>Create a socket connection.
</p>
<pre>python

import socket

s = socket.create_connection(("74.125.28.104", 80))
</pre>
<p>On Whonix-Gateway â¢.
</p><p>Stop Tor.
</p>
<pre>sudo service tor@default stop
</pre>
<p>In Whonix-Workstation â¢.
</p><p>Close the socket connection.
</p>
<pre>s.close()
</pre>
<p>On the host.
</p><p>Check, that you can not see any connections to 74.125.28.104 in tcpdump.
</p><p>Variations of this test:
</p>
<ul><li>You could also run tcpdump in Whonix-Workstation â¢ or on Whonix-Gateway â¢.</li>
<li>You could also <a data-href="/wiki/Whonix-Gateways_Own_Traffic_Transparent_Proxy" href="../Whonix-Gateways_Own_Traffic_Transparent_Proxy.html" title="Whonix-Gateways Own Traffic Transparent Proxy">enable transparent proxying for Whonix-Gateway â¢ own traffic</a> and create the socket connection on Whonix-Gateway â¢.</li></ul>
<p><font size="-3">
Forum discussion:
</font></p><font size="-3"><ul><li><a class="external text" data-href="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test/229" href="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test/229" rel="noreferrer noopener" target="_blank">Part 1</a></li>
<li><a class="external text" data-href="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test-part-2/313" href="https://forums.whonix.org/t/testers-wanted-new-fin-ack-rst-ack-leak-test-part-2/313" rel="noreferrer noopener" target="_blank">Part 2</a></li></ul></font><font size="-3"></font><p><font size="-3"></font>
</p>
<h1><span class="mw-headline" id="Integrated_tshark_leaktest">Integrated tshark leaktest</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=13.html" title="Edit section: Integrated tshark leaktest">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>On Whonix-Gateway â¢ start looking for leaks.
</p><p>You need to install the anon-gw-leaktest package.
</p>
<pre>## Login as user, open a shell as user or su user.
## /usr/bin/leaktest
sudo leaktest
</pre>
<p>On Whonix-Workstation â¢ try to produce a leak.
</p><p>You need to install the anon-ws-leaktest package.
</p>
<pre>## Login as user, open a shell as user or su user.
## /usr/bin/leaktest
sudo leaktest
</pre>
<p>If you are wondering, how this works and what that does, the old article, <a data-href="/wiki/Dev/Leak_Tests_Old" href="../Dev/Leak_Tests_Old.html" title="Dev/Leak Tests Old">Dev/Leak Tests Old</a> is still being kept.
</p>
<ul><li>Original article.</li>
<li>As copy and paste tutorial.</li>
<li>For better understanding with more comments.</li>
<li>Perhaps useful for similar projects.</li>
<li>Optional additional tests.</li></ul>
<h1><span class="mw-headline" id="Integreated_whonixcheck_leaktest">Integreated whonixcheck leaktest</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=14.html" title="Edit section: Integreated whonixcheck leaktest">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>Please also run <a data-href="/wiki/Whonixcheck" href="../Whonixcheck.html" title="Whonixcheck">whonixcheck</a> on Whonix-Gateway â¢ and Whonix-Workstation â¢. whonixcheck's Tor SocksPort and Tor TransPort test (the latter only on Whonix-Workstation â¢ <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>) are also doing leak testing. If <code>whonixcheck</code> would report a big warning, if check.torproject.org couldn't detect Tor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>whonixcheck --leak-tests</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">whonixcheck --leak-tests</textarea>
</div>
</div>
<h1><span class="mw-headline" id="Torrent_Leak_Tests">Torrent Leak Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=15.html" title="Edit section: Torrent Leak Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a class="external free" data-href="https://www.doileak.com" href="https://www.doileak.com" rel="noreferrer noopener" target="_blank">https://www.doileak.com</a></li>
<li>Please add more to the list if you know other tests.</li></ul>
<h1><span class="mw-headline" id="UDP_Leak_Tests">UDP Leak Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=16.html" title="Edit section: UDP Leak Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>Same as above.</li>
<li>Please add more to the list if you know other tests.</li></ul>
<h1><span class="mw-headline" id="Other_Leak_Tests">Other Leak Tests</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=17" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=17.html" title="Edit section: Other Leak Tests">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a class="external text" data-href="https://www.whonix.org/blog/corridor-a-clearnet-leak-tester" href="https://www.whonix.org/blog/corridor-a-clearnet-leak-tester" rel="noreferrer noopener" target="_blank">corridor, a Tor traffic whitelisting gateway, a clearnet leak tester</a></li>
<li><a class="external text" data-href="https://www.whonix.org/blog/using-corridor-tor-traffic-whitelisting-gateway-qubes-whonix" href="https://www.whonix.org/blog/using-corridor-tor-traffic-whitelisting-gateway-qubes-whonix" rel="noreferrer noopener" target="_blank">Using corridor, a Tor traffic whitelisting gateway with Qubes-Whonix â¢</a></li>
<li>A similar project published another leak test. Read <a class="external text" data-href="https://github.com/ra--/Tor-gateway/wiki/Faq" href="https://github.com/ra--/Tor-gateway/wiki/Faq" rel="noreferrer noopener" target="_blank">How can I test if there is a leak in the setup respectively all traffic goes through Tor?</a>. Has not been tested with Whonix â¢ yet. If you do it, please share your results.</li></ul>
<h1><span class="mw-headline" id="Qubes_specific">Qubes specific</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=18" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=18.html" title="Edit section: Qubes specific">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="TemplateVM_Update_Proxy_Leak_Test">TemplateVM Update Proxy Leak Test</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=19" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=19.html" title="Edit section: TemplateVM Update Proxy Leak Test">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Start a your Whonix-Gateway â¢ TemplateVM (commonly called <code>whonix-gw-14</code>). <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</p><p>In your TempalteVM.
</p><p>Start downloading some big<sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup> package. <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup> Example.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>apt-get download firefox-esr</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">apt-get download firefox-esr</textarea>
</div>
</div>
<p>Now switch to your Whonix-Gateway â¢ ProxyVM (commonly called <code>sys-whonix</code>) and stop Tor. <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup>
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default stop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default stop</textarea>
</div>
</div>
<p>The <i>expected result</i> in the TemplateVM a functional download, that stops as soon as Tor is stopped.
</p>
<pre>Get:1 http://security.debian.org/ jessie/updates/main firefox-esr amd64 52.5.2esr-1~deb8u1 [44.7 MB]
Err http://security.debian.org/ jessie/updates/main firefox-esr amd64 52.5.2esr-1~deb8u1
  500  Unable to connect
E: Failed to fetch http://security.debian.org/pool/updates/main/i/firefox/firefox-esr amd64 52.5.2esr-1~deb8u1_amd64.deb  500  Unable to connect
</pre>
<p>You can now start Tor in your Whonix-Gateway â¢ ProxyVM again. 
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default start</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default start</textarea>
</div>
</div>
<p>Repeat this test with your Whonix-Workstation â¢ TemplateVM (commonly called <code>whonix-ws-14</code>).
</p>
<h1><span class="mw-headline" id="See_Also">See Also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=20" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=20.html" title="Edit section: See Also">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a data-href="/wiki/Browser_Tests" href="../Browser_Tests.html" title="Browser Tests">Browser Tests</a></li>
<li><a data-href="/wiki/Test" href="../Test.html" title="Test">Test</a></li>
<li><a class="external free" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/BridgeFirewall" href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/BridgeFirewall" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/BridgeFirewall</a></li>
<li><a class="external free" data-href="https://github.com/rustybird/corridor" href="https://github.com/rustybird/corridor" rel="noreferrer noopener" target="_blank">https://github.com/rustybird/corridor</a></li></ul>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=21" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit&amp;section=21.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">â</a></span> <span class="reference-text">Because Whonix-Gateway â¢ does not have a TransPort by default.</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">â</a></span> <span class="reference-text">
Those are assumed to be torified, i.e. having their NetVM set to sys-whonix.</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">â</a></span> <span class="reference-text">With a small package you would not have a chance to easily and quickly disable Tor while it is downloading.</span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">â</a></span> <span class="reference-text">
Alternatively, you could also run <code>sudo apt-get update</code> instead of downloading a big package and interrupt that. However, it would be less conclusive, because then apt-get updating may only break due to broken DNS. A long running transfer that no longer depends on functional DNS resolution would be far easier to spot. (If the download was non-torified, it should not matter if we stop Tor during the transfer.)</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">â</a></span> <span class="reference-text">
Alternately, although with less conclusive, instead of stopping Tor, you could also stop qubes-updates-proxy during the transfer.

<div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service qubes-updates-proxy stop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service qubes-updates-proxy stop</textarea>
</div>
</div>

This should lead to the same <i>expected result</i>.</span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="../Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="../Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="../Special:UserLogin/signup" href="../Special:UserLogin/signup">register</a> or <a data-href="../Special:UserLogin" href="../Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="264"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Please <a class="external text" data-href="../Contribute" href="../Contribute" rel="noreferrer noopener" target="_blank">contribute</a> by helping to <a class="external text" data-href="../Contribute#Answer_Questions" href="../Contribute" rel="noreferrer noopener" target="_blank">answer Whonix questions</a>.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="https://www.Whonix.org/wiki/Dev/Leak_Tests" href="https://www.Whonix.org/wiki/Dev/Leak_Tests" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="../Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/Leak_Tests" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Dev/Leak_Tests" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=../Dev/Leak_Tests&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Dev/Leak_Tests&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Dev/Leak_Tests" href="https://facebook.com/sharer.php?u=../Dev/Leak_Tests">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix_.E2.84.A2" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix â¢</a>, then <a data-href="/w/index.php?title=Dev/Leak_Tests&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;action=edit">Edit</a>! Edits are held for moderation.
</font></p><p><font size="-1">Copyright (C) 2012 - 2019 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="../Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix â¢ is a trademark.</a> Whonix â¢ is a <a class="external text" data-href="https://www.openinventionnetwork.com/licensees.php" href="https://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the <a class="external text" data-href="https://www.openinventionnetwork.com" href="https://www.openinventionnetwork.com" rel="noreferrer noopener" target="_blank">Open Invention Network</a>. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix â¢ itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="../Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">Whonix â¢ is a derivative of and not affiliated with <a class="external text" data-href="https://www.debian.org" href="https://www.debian.org" rel="noreferrer noopener" target="_blank">Debian</a>. <a class="external text" data-href="https://www.debian.org/trademark" href="https://www.debian.org/trademark" rel="noreferrer noopener" target="_blank">Debian is a registered trademark</a> owned by <a class="external text" data-href="https://www.spi-inc.org/" href="https://www.spi-inc.org/" rel="noreferrer noopener" target="_blank">Software in the Public Interest, Inc</a>.
</font></p><p><font size="-1">Whonix â¢ is produced independently from the Tor<a class="external text" data-href="https://2019.www.torproject.org/docs/trademark-faq.html.en" href="https://2019.www.torproject.org/docs/trademark-faq.html.en" rel="noreferrer noopener" target="_blank">Â®</a> anonymity software and carries no guarantee from <a class="external text" data-href="https://www.torproject.org" href="https://www.torproject.org" rel="noreferrer noopener" target="_blank">The Tor Project</a> about quality, suitability or anything else.
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix â¢ is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>.
</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190511090524
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.052 seconds
Real time usage: 0.057 seconds
Preprocessor visited node count: 655/1000000
Preprocessor generated node count: 1871/1000000
Postâexpand include size: 6117/2097152 bytes
Template argument size: 701/2097152 bytes
Highest expansion depth: 7/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postâexpand size: 6309/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   40.214      1 -total
 26.22%   10.543      8 Template:CodeSelect
 22.20%    8.928      1 Template:Footer
 18.47%    7.427      1 Template:Open_with_root_rights
 15.43%    6.207      1 Template:Box
 10.25%    4.122      1 Template:Reflist
  6.66%    2.678      1 Template:Header
  4.50%    1.811      1 Template:Share
  4.26%    1.715      1 Template:Edit_it
  3.02%    1.215      1 Template:Whonix-gw
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;oldid=46405" dir="ltr" href="https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;oldid=46405">https://www.whonix.org/w/index.php?title=Dev/Leak_Tests&amp;oldid=46405</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a data-href="/wiki/Category:Development" href="../Category:Development.html" title="Category:Development">Development</a></li><li><a data-href="/wiki/Category:Design" href="../Category:Design.html" title="Category:Design">Design</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 25 April 2019, at 15:56.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="../DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20190511090524 -->
</html>
