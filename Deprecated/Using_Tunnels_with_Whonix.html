<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Deprecated/Using Tunnels with Whonix - Whonix
 url: ../Deprecated/Using_Tunnels_with_Whonix
 date: Sat Jun  8 07:33:36 2019
-->
<head>
<meta charset="utf-8"/>
<title>Deprecated/Using Tunnels with Whonix - Whonix</title>
<link rel="stylesheet" type="text/css" href="../style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="noindex,follow" name="robots"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOPj4wC5q6j/xba0/8W2tP+3qab/4+PiBQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+6rKr/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALyurP/Ku7n/yru5/8CohP/VnhL/1Z4S/8CohP/Ku7n/yru5/7mrqf8AAAAAAAAAAAAAAAAAAAAAAAAAAI6Mi//Ku7n/yru5/8GRHP/iqhL/////////////////wJEd/8q7uf/Ku7n/xsXE/wAAAAAAAAAAAAAAAAAAAAC5q6n/yru5/8q7uf/hqRH//////0bcy/9G3Mv//////+GpEf/Ku7n/yru5/7qsqv8AAAAAAAAAAAAAAAAAAAAAxLW0/8q7uf/Ku7n/4qoS/////////////////0bcy//iqhL/yru5/8q7uf/Gt7T/AAAAAAAAAAAAAAAAAAAAAMKzsP/Ku7n/yru5/96lFf//////RtzL/0bcy///////3qUV/8q7uf/Ku7n/wrWy/wAAAAAAAAAAAAAAAAAAAACvo6D/yru5/8q7uf/Ku7n/4akQ//fnvP/57tD/4akQ/8q7uf/Ku7n/yru5/7Gkov8AAAAAAAAAAAAAAAAAAAAAAAAAAMq7uf/Ku7n/yru5/8q7uf/hqRD/4akQ/8q7uf/Ku7n/yru5/8q7uf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACOjIv/yru5/8q7uf/Ku7n/yru5/8q7uf/Ku7n/yru5/8q7uf+Mioj/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAISDgf/Iurj/yru5/8q7uf/Ku7n/yru5/8i5uP+EgoH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC6rKr/q56c/wAAAACOjIv/joyL/wAAAACom5r/taim/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuqyp/66hnv8AAAAAAAAAAAAAAAAAAAAAqp2b/7SnpP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKmcm/+9r6z/AAAAAAAAAAAAAAAAAAAAALmrqf+jl5b/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwLOw/6uenP8AAAAAAAAAAKqenP+/sq//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACtoJ7/vK2r/72vrP+sn57/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/D8AAPAPAADgBwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA4AcAAPAPAADyTwAA888AAPPPAAD5nwAA/D8AAA==" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="http://kkkkkkkkkk63ava6.onion/w/api.php?action=rsd" href="http://kkkkkkkkkk63ava6.onion/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Deprecated/Using Tunnels with Whonix" property="og:title"/>
<meta content="http://kkkkkkkkkk63ava6.onion/wiki/Deprecated/Using_Tunnels_with_Whonix" property="og:url"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Deprecated_Using_Tunnels_with_Whonix rootpage-Deprecated skin-foreground action-view"><div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>Last update: March 17, 2019. This website uses cookies. By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span>Â <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service">More information</a><form method="POST"><input class="mw-cookiewarning-dismiss" name="disablecookiewarning" type="submit" value="OK"/></form></div></div><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,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);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Donate" href="../Donate.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires Donations to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up">Â Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Deprecated/Using_Tunnels_with_Whonix" href="../Deprecated/Using_Tunnels_with_Whonix.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=history" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Deprecated/Using Tunnels with Whonix</h1>
<h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a data-href="/wiki/Deprecated" href="../Deprecated.html" title="Deprecated">Deprecated</a></span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p><br/>
</p>
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Comparison_Table"><span class="tocnumber">2</span> <span class="toctext">Comparison Table</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Connecting_to_a_tunnel-link_.28proxy.2FVPN.2FSSH.29_before_Tor_.28User_-.3E_proxy.2FVPN.2FSSH_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3</span> <span class="toctext">Connecting to a tunnel-link (proxy/VPN/SSH) before Tor (User -&gt; proxy/VPN/SSH -&gt; Tor -&gt; Internet)</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Connecting_to_a_VPN_before_Tor_.28User_-.3E_VPN_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3.1</span> <span class="toctext">Connecting to a VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Setting_up_VPN_before_Tor_.28User_-.3E_VPN_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3.1.1</span> <span class="toctext">Setting up VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)</span></a>
<ul>
<li class="toclevel-4 tocsection-6"><a href="#Use_a_Fail_Closed_Mechanism"><span class="tocnumber">3.1.1.1</span> <span class="toctext">Use a Fail Closed Mechanism</span></a></li>
<li class="toclevel-4 tocsection-7"><a href="#How_to_add_the_VPN_on_the_host"><span class="tocnumber">3.1.1.2</span> <span class="toctext">How to add the VPN on the host</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#How_to_add_the_VPN_in_Whonix-Gateway_.E2.84.A2"><span class="tocnumber">3.1.1.3</span> <span class="toctext">How to add the VPN in Whonix-Gateway â¢</span></a></li>
<li class="toclevel-4 tocsection-9"><a href="#Additional_Tweaks_.2F_Recommendations_.2F_Troubleshooting"><span class="tocnumber">3.1.1.4</span> <span class="toctext">Additional Tweaks / Recommendations / Troubleshooting</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="#Connecting_to_a_proxy_before_Tor_.28User_-.3E_proxy_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3.2</span> <span class="toctext">Connecting to a proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Proxy_Warning"><span class="tocnumber">3.2.1</span> <span class="toctext">Proxy Warning</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#How_to_setup_proxy_before_Tor_.28User_-.3E_proxy_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3.2.2</span> <span class="toctext">How to setup proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-13"><a href="#Connecting_to_SSH_before_Tor_.28User_-.3E_SSH_-.3E_Tor_-.3E_Internet.29"><span class="tocnumber">3.3</span> <span class="toctext">Connecting to SSH before Tor (User -&gt; SSH -&gt; Tor -&gt; Internet)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Connecting_to_Tor_before_a_tunnel-link_.28proxy.2FVPN.2FSSH.29_.28User_-.3E_Tor_-.3E_proxy.2FVPN.2FSSH_-.3E_Internet.29"><span class="tocnumber">4</span> <span class="toctext">Connecting to Tor before a tunnel-link (proxy/VPN/SSH) (User -&gt; Tor -&gt; proxy/VPN/SSH -&gt; Internet)</span></a>
<ul>
<li class="toclevel-2 tocsection-15"><a href="#Things_to_keep_in_mind_when_connecting_to_Tor_before_a_tunnel-link"><span class="tocnumber">4.1</span> <span class="toctext">Things to keep in mind when connecting to Tor before a tunnel-link</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Connecting_to_Tor_before_a_VPN_.28User_-.3E_Tor_-.3E_VPN_-.3E_Internet.29"><span class="tocnumber">4.2</span> <span class="toctext">Connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Important_things_to_consider_when_connecting_to_Tor_before_a_VPN"><span class="tocnumber">4.2.1</span> <span class="toctext">Important things to consider when connecting to Tor before a VPN</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#How_to_setup_connecting_to_Tor_before_a_VPN_.28User_-.3E_Tor_-.3E_VPN_-.3E_Internet.29"><span class="tocnumber">4.2.2</span> <span class="toctext">How to setup connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)</span></a>
<ul>
<li class="toclevel-4 tocsection-19"><a href="#Using_TransPort_instead_of_SocksPort_is_required_for_Tor_-.3E_VPN"><span class="tocnumber">4.2.2.1</span> <span class="toctext">Using TransPort instead of SocksPort is required for Tor -&gt; VPN</span></a></li>
<li class="toclevel-4 tocsection-20"><a href="#Use_a_Fail_Closed_Mechanism_2"><span class="tocnumber">4.2.2.2</span> <span class="toctext">Use a Fail Closed Mechanism</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#Connecting_to_Tor_before_a_proxy_.28User_-.3E_Tor_-.3E_proxy_-.3E_Internet.29"><span class="tocnumber">4.3</span> <span class="toctext">Connecting to Tor before a proxy (User -&gt; Tor -&gt; proxy -&gt; Internet)</span></a>
<ul>
<li class="toclevel-3 tocsection-22"><a href="#Proxy_Warning_2"><span class="tocnumber">4.3.1</span> <span class="toctext">Proxy Warning</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#Proxy_Settings_Method"><span class="tocnumber">4.3.2</span> <span class="toctext">Proxy Settings Method</span></a>
<ul>
<li class="toclevel-4 tocsection-24"><a href="#Generally"><span class="tocnumber">4.3.2.1</span> <span class="toctext">Generally</span></a></li>
<li class="toclevel-4 tocsection-25"><a href="#Tor_Browser_Proxy_Configuration"><span class="tocnumber">4.3.2.2</span> <span class="toctext">Tor Browser Proxy Configuration</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-26"><a href="#Proxyfier_Method"><span class="tocnumber">4.3.3</span> <span class="toctext">Proxyfier Method</span></a>
<ul>
<li class="toclevel-4 tocsection-27"><a href="#General"><span class="tocnumber">4.3.3.1</span> <span class="toctext">General</span></a></li>
<li class="toclevel-4 tocsection-28"><a href="#uwt"><span class="tocnumber">4.3.3.2</span> <span class="toctext">uwt</span></a></li>
<li class="toclevel-4 tocsection-29"><a href="#proxychains"><span class="tocnumber">4.3.3.3</span> <span class="toctext">proxychains</span></a>
<ul>
<li class="toclevel-5 tocsection-30"><a href="#Warnings"><span class="tocnumber">4.3.3.3.1</span> <span class="toctext">Warnings</span></a></li>
<li class="toclevel-5 tocsection-31"><a href="#Instructions"><span class="tocnumber">4.3.3.3.2</span> <span class="toctext">Instructions</span></a>
<ul>
<li class="toclevel-6 tocsection-32"><a href="#General_2"><span class="tocnumber">4.3.3.3.2.1</span> <span class="toctext">General</span></a></li>
<li class="toclevel-6 tocsection-33"><a href="#test_uwt_wrapped_application"><span class="tocnumber">4.3.3.3.2.2</span> <span class="toctext">test uwt wrapped application</span></a></li>
<li class="toclevel-6 tocsection-34"><a href="#Tor_Browser"><span class="tocnumber">4.3.3.3.2.3</span> <span class="toctext">Tor Browser</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-3 tocsection-35"><a href="#Transparent_Proxying_.28Advanced_users_only.21.29"><span class="tocnumber">4.3.4</span> <span class="toctext">Transparent Proxying (<b>Advanced users only!</b>)</span></a>
<ul>
<li class="toclevel-4 tocsection-36"><a href="#Tools"><span class="tocnumber">4.3.4.1</span> <span class="toctext">Tools</span></a></li>
<li class="toclevel-4 tocsection-37"><a href="#DNS_resolution"><span class="tocnumber">4.3.4.2</span> <span class="toctext">DNS resolution</span></a></li>
<li class="toclevel-4 tocsection-38"><a href="#How_to_setup_proxy_tunnel-link_after_Tor_.28User-.3ETor-.3EProxy-.3EInternet.29"><span class="tocnumber">4.3.4.3</span> <span class="toctext">How to setup proxy tunnel-link after Tor (User-&gt;Tor-&gt;Proxy-&gt;Internet)</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-39"><a href="#Connecting_to_Tor_before_a_SSH_.28User_-.3E_Tor_-.3E_SSH_-.3E_Internet.29"><span class="tocnumber">4.4</span> <span class="toctext">Connecting to Tor before a SSH (User -&gt; Tor -&gt; SSH -&gt; Internet)</span></a></li>
<li class="toclevel-2 tocsection-40"><a href="#User_-.3E_Tor_-.3E_VPN_-.3E_proxy_-.3E_Internet"><span class="tocnumber">4.5</span> <span class="toctext">User -&gt; Tor -&gt; VPN -&gt; proxy -&gt; Internet</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-41"><a href="#Examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2"><span class="tocnumber">5</span> <span class="toctext">Examples of setting up VPNs to work with Whonix â¢</span></a>
<ul>
<li class="toclevel-2 tocsection-42"><a href="#Riseup.net"><span class="tocnumber">5.1</span> <span class="toctext">Riseup.net</span></a>
<ul>
<li class="toclevel-3 tocsection-43"><a href="#Riseup.net_Quick_VPN_Command_Line_Test"><span class="tocnumber">5.1.1</span> <span class="toctext">Riseup.net Quick VPN Command Line Test</span></a></li>
<li class="toclevel-3 tocsection-44"><a href="#Riseup.net_riseup.conf"><span class="tocnumber">5.1.2</span> <span class="toctext">Riseup.net riseup.conf</span></a></li>
<li class="toclevel-3 tocsection-45"><a href="#Riseup_DNS"><span class="tocnumber">5.1.3</span> <span class="toctext">Riseup DNS</span></a>
<ul>
<li class="toclevel-4 tocsection-46"><a href="#Setup"><span class="tocnumber">5.1.3.1</span> <span class="toctext">Setup</span></a></li>
<li class="toclevel-4 tocsection-47"><a href="#Testing"><span class="tocnumber">5.1.3.2</span> <span class="toctext">Testing</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-48"><a href="#securityKISS.com"><span class="tocnumber">5.2</span> <span class="toctext">securityKISS.com</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#usaip.eu"><span class="tocnumber">5.3</span> <span class="toctext">usaip.eu</span></a></li>
<li class="toclevel-2 tocsection-50"><a href="#Using_a_graphical_user_interface"><span class="tocnumber">5.4</span> <span class="toctext">Using a graphical user interface</span></a>
<ul>
<li class="toclevel-3 tocsection-51"><a href="#KDE_Network_Manager"><span class="tocnumber">5.4.1</span> <span class="toctext">KDE Network Manager</span></a></li>
<li class="toclevel-3 tocsection-52"><a href="#GNOME_Network_Manager"><span class="tocnumber">5.4.2</span> <span class="toctext">GNOME Network Manager</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-53"><a href="#Footnotes"><span class="tocnumber">6</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=1.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>All kinds of tunnels are possible and tested to work with Whonix â¢. With Whonix â¢ you can route a connection through a VPN, SSH, or proxy before Tor, after Tor, or both.
</p><p>Read first: 
</p>
<ul><li><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a></li>
<li><a class="mw-redirect" data-href="/wiki/Whonix:General_disclaimer#Whonix_.E2.84.A2_VPN_disclaimer" href="../Whonix:General_disclaimer.html" title="Whonix:General disclaimer">Whonix â¢ VPN disclaimer</a>.</li></ul>
<h1><span class="mw-headline" id="Comparison_Table">Comparison Table</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=2.html" title="Edit section: Comparison Table">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<table class="wikitable" style="background-color: #fff;text-align: center">
<tbody><tr>
<th>
</th>
<th>USER -&gt; PROXY -&gt; TOR -&gt; INTERNET
</th>
<th>USER -&gt; VPN/SSH -&gt; TOR -&gt; INTERNET
</th>
<th>USER -&gt; TOR -&gt; PROXY/VPN/SSH -&gt; INTERNET
</th></tr>
<tr>
<th>configuration modification applied where
</th>
<td>Whonix-Gateway â¢
</td>
<td>Whonix-Gateway â¢ [or host (<a data-href="/wiki/FAQ#What.27s_the_difference_of_installing_a_VPN_on_the_host_versus_installing_on_Whonix-Gateway_.E2.84.A2.3F" href="../FAQ.html" title="FAQ">FAQ</a>)]
</td>
<td>Whonix-Workstation â¢
</td></tr>
<tr>
<th>evade Tor bans by websites
</th>
<td style="background-color: #FF9090">No
</td>
<td style="background-color: #FF9090">No
</td>
<td style="background-color: #90FF90">possibly
</td></tr>
<tr>
<th>evade Tor bans by network censors
</th>
<td style="background-color: #FFFB85">maybe <sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup>
</td>
<td style="background-color: #FFFB85">maybe <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>
</td>
<td style="background-color: #FF9090">No
</td></tr>
<tr>
<th><a data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">Hide Tor and Whonix â¢ from your ISP</a>
</th>
<td style="background-color: #FF9090">very weak <sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</td>
<td style="background-color: #FFFB85">maybe <sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup>
</td>
<td style="background-color: #FF9090">No
</td></tr>
<tr>
<th>no loss of <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>
</th>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #FF9090">No
</td></tr>
<tr>
<th>no <i><span style="background-color:#FBFBFB">reconfiguration</span></i><sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup> of pre-configured software <i><span style="background-color:#FBFBFB">required</span></i><sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup> in order to use extra tunnel-link
</th>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #FF9090">No
</td></tr>
<tr>
<th>no permanent exit relay
</th>
<td style="background-color: #90FF90">unaffected
</td>
<td style="background-color: #90FF90">unaffected
</td>
<td style="background-color: #FF9090">No
</td></tr>
<tr>
<th>increased tunnel length
</th>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #90FF90">Yes
</td>
<td style="background-color: #90FF90">Yes
</td></tr>
<tr>
<th>effects on anonymity
</th>
<td style="background-color: #FFFB85">disputed <sup class="reference" id="cite_ref-torplusvpn_8-0"><a href="#cite_note-torplusvpn-8">[8]</a></sup>
</td>
<td style="background-color: #FFFB85">disputed <sup class="reference" id="cite_ref-torplusvpn_8-1"><a href="#cite_note-torplusvpn-8">[8]</a></sup>
</td>
<td style="background-color: #FFFB85">disputed <sup class="reference" id="cite_ref-torplusvpn_8-2"><a href="#cite_note-torplusvpn-8">[8]</a></sup>
</td></tr>
<tr>
<th><a data-href="/wiki/Tunnel_UDP_over_Tor" href="../Tunnel_UDP_over_Tor.html" title="Tunnel UDP over Tor">Tunnel UDP over Tor</a>
</th>
<td style="background-color: #FF9090">No
</td>
<td style="background-color: #FF9090">No
</td>
<td>Proxy: <a data-href="/wiki/Tunnel_UDP_over_Tor#socks5_proxy_method_.28FAILED.29" href="../Tunnel_UDP_over_Tor.html" title="Tunnel UDP over Tor"><span style="background:#FF9090">No</span></a><br/>
<p>VPN: <a data-href="/wiki/Tunnel_UDP_over_Tor#VPN_method_.28WORKING.29" href="../Tunnel_UDP_over_Tor.html" title="Tunnel UDP over Tor"><span style="background:#90FF90">Yes</span></a><br/>
ssh: <a data-href="/wiki/Tunnel_UDP_over_Tor#SSH_method_.28NOT_DOCUMENTED.29" href="../Tunnel_UDP_over_Tor.html" title="Tunnel UDP over Tor"><span style="background:#FFFB85">undocumented</span></a>
</p>
</td></tr></tbody></table>
<h1><span id="Connecting_to_a_tunnel-link_(proxy/VPN/SSH)_before_Tor_(User_-&gt;_proxy/VPN/SSH_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_a_tunnel-link_.28proxy.2FVPN.2FSSH.29_before_Tor_.28User_-.3E_proxy.2FVPN.2FSSH_-.3E_Tor_-.3E_Internet.29">Connecting to a tunnel-link (proxy/VPN/SSH) before Tor (User -&gt; proxy/VPN/SSH -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=3.html" title="Edit section: Connecting to a tunnel-link (proxy/VPN/SSH) before Tor (User -&gt; proxy/VPN/SSH -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><b>DESCRIPTION: (USER -&gt; PROXY/VPN/SSH -&gt; TOR -&gt; INTERNET)</b>
</p><p><b>When to use a tunnel-link before Tor</b>
</p><p>Sometimes you have to use a tunnel-link to make outgoing connections to the internet because some ISP's censor your ability to access the full internet (e.g. the Great Firewall of China), or you are linked within a LAN (such as in an educational or corporate environment).
</p><p>A proxy, VPN or SSH can also be possibly
</p>
<ul><li>Used to circumvent Tor blocks by network censors or to</li>
<li>Hide the fact you are using Tor from your Internet Service Provider
<ul><li>In that case make sure you have read <a data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">Hide Tor and Whonix from your ISP</a>.</li>
<li>You may also want to check out <a data-href="/wiki/Bridges" href="../Bridges.html" title="Bridges">Using Tor bridges</a></li></ul></li></ul>
<p><br/>
<b>Safety issues to consider when connecting to a tunnel-link before Tor</b>
</p><p>In determining whether to use a tunnel-link before Tor, the question basically is how much you can trust the server / connecting tunnel-link provider (a VPN host being an example). The server will be able to see that you are using Tor, but thanks to Tor, they won't see what you are doing. However, note that when connecting directly to a tunnel-link before connecting to Tor, the server (for example the VPN hosting service) will know and *may* log your IP Address, the times when you log on, etc. If you have paid for the tunnel-link provider's service (thereby establishing a "money trail") this could be of additional concern and more easily enable a third-party (the government for example) to specifically identify you. For these reasons alone, it may be ill-advised to use a tunnel-link before connecting to Tor. Still, if it is incredibly unsafe for your ISP to see that you are using Tor in any way and you use your own server in a safe country, while you are in a dangerous country, connecting to a tunnel-link before Tor may be your best bet. Note: not many people seem to use a tunnel before they connect to Tor, therefore it is safety in providing anonymity and privacy have not been fully tested. *Do not rely on this too much to protect your anonymity*
</p>
<h2><span id="Connecting_to_a_VPN_before_Tor_(User_-&gt;_VPN_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_a_VPN_before_Tor_.28User_-.3E_VPN_-.3E_Tor_-.3E_Internet.29">Connecting to a VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=4.html" title="Edit section: Connecting to a VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>There are many different VPN protocols (too many for this guide). However, OpenVPN, which is open-source and free software, has been vetted by multiple Tor users and is the recommended VPN protocol to use (not pptp).
</p>
<h3><span id="Setting_up_VPN_before_Tor_(User_-&gt;_VPN_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="Setting_up_VPN_before_Tor_.28User_-.3E_VPN_-.3E_Tor_-.3E_Internet.29">Setting up VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=5.html" title="Edit section: Setting up VPN before Tor (User -&gt; VPN -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you are forced to use a VPN server or if you are already using a VPN server, you most likely know how you can connect to it. When your VPN is properly set up, all your connections are forced through the VPN first. If you start Tor on top of that, you will now connecting to the VPN, then to Tor, then to the Internet. In other words, your connection will be the following: (User -&gt; VPN -&gt; Tor -&gt; Internet).
</p><p>There are two ways of setting up the VPN:<br/>
1. You can either add the VPN on the host, in which Whonix-Gateway â¢ will be tunneled through it.<br/>
2. Or you can add the VPN into Whonix-Gateway â¢.
</p><p>See also <a data-href="/wiki/FAQ#What.27s_the_difference_of_installing_a_VPN_on_the_host_versus_installing_on_Whonix-Gateway_.E2.84.A2.3F" href="../FAQ.html" title="FAQ">What's the difference of installing a VPN on the host versus installing on Whonix-Gateway â¢?</a>
</p><p>See also <a href="#Examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2">#Examples_of_setting_up_VPNs_to_work_with_Whonix â¢examples of setting up VPNs to work with Whonix â¢</a>.
</p>
<h4><span class="mw-headline" id="Use_a_Fail_Closed_Mechanism">Use a Fail Closed Mechanism</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=6.html" title="Edit section: Use a Fail Closed Mechanism">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A general problem with VPNs is that connections often fail to remain open. This means the VPN connection suddenly closes, leaving the user directly connected to the Internet (without first tunneling through the VPN). This is not a Whonix â¢-specific problem. VPN servers and software can occasionally fail without prior notice. Therefore, if the VPN is unreachable or the connection breaks down for whatever reason, in most cases the user will continue to connect to the Internet without the VPN.
</p><p>One of the key benefits of Whonix is that when a VPN connection fails, protection is still provided by the Tor process. In this instance, the Whonix-Workstation â¢ will seamlessly continue to make "direct" connections through Tor. Failure of the VPN tunnel may be inconsequential if a VPN is only used to circumvent Tor censorship. On the other hand, if VPN use is intended to improve security, then it must be configured so that if/when the VPN connection fails, all connections between the outside world and the computer are halted.
</p>
<h4><span class="mw-headline" id="How_to_add_the_VPN_on_the_host">How to add the VPN on the host</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=7.html" title="Edit section: How to add the VPN on the host">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Just as you would if you were not using Whonix â¢. (Consider the security precautions and links to examples discussed above.)
</p>
<h4><span id="How_to_add_the_VPN_in_Whonix-Gateway_â¢"></span><span class="mw-headline" id="How_to_add_the_VPN_in_Whonix-Gateway_.E2.84.A2">How to add the VPN in Whonix-Gateway â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=8.html" title="Edit section: How to add the VPN in Whonix-Gateway â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>After installing Whonix-Gateway â¢, do the following steps before activating Tor in <span style="border:1px dotted #005cb9">Whonix â¢ Setup Wizard</span>.
</p><p>1. <b>Modify Whonix User Firewall Settings</b>
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>Note</b>: If no changes have yet been made to Whonix Firewall Settings, then the Whonix User Firewall Settings File <i><span style="background-color:#FBFBFB">/etc/whonix_firewall.d/50_user.conf</span></i> appears empty (because it does not exist). This is expected.
</p><p><u>If using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete these steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Template:</code> <code>whonix-gw-14</code> â <code>Whonix User Firewall Settings</code>
</p><p><u>If using a graphical Whonix-Gateway â¢</u>, complete these steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>Settings</code> â <code>User Firewall Settings</code>
</p><p><u>If using a terminal-only Whonix-Gateway â¢</u>, complete these steps.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/whonix_firewall.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/whonix_firewall.d/50_user.conf</textarea>
</div>
</div>
<div class="toccolours mw-collapsible mw-collapsed">
<p>For more help, press on Expand on the right.
</p>
<div class="mw-collapsible-content">
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><b>Note</b>: The Whonix Global Firewall Settings File <i><span style="background-color:#FBFBFB">/etc/whonix_firewall.d/30_default.conf</span></i> contains default settings and explanatory comments about their purpose. By default, the file is opened read-only and is not meant to be directly edited. Below, it is recommended to open the file without root rights. The file contains an explanatory comment on how to change firewall settings.
</p>
<pre>## Please use "/etc/whonix_firewall.d/50_user.conf" for your custom configuration,
## which will override the defaults found here. When Whonix is updated, this
## file may be overwritten.
</pre>
<p>See also <a data-href="/wiki/Configuration_Files" href="../Configuration_Files.html" title="Configuration Files">Whonix modular flexible .d style configuration folders</a>.
</p><p>To view the file, follow these instructions.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete these steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Template:</code> <code>whonix-gw-14</code> â <code>Whonix Global Firewall Settings</code>
</p><p><u>If using a graphical Whonix-Gateway â¢</u>, complete these steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>Settings</code> â <code>Global Firewall Settings</code>
</p><p><u>If using a terminal-only Whonix-Gateway â¢</u>, complete these steps.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>nano /etc/whonix_firewall.d/30_default.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">nano /etc/whonix_firewall.d/30_default.conf</textarea>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<p>2. Add the following settings. You can skip comments (starting with <span style="border:1px dotted #005cb9">#</span>). Note: make sure to adjust the <span style="border:1px dotted #005cb9">VPN_SERVERS</span> variable in your config (unless you are using <span style="border:1px dotted #005cb9">seattle.vpn.riseup.net</span> as your VPN service).
</p>
<pre>###########################
## VPN-Firewall Settings ##
###########################
## Make sure Tor always connects through the VPN.
## Enable: 1
## Disable: 0
## DISABELD BY DEFAULT, because it requires a VPN provider.
VPN_FIREWALL=1

## IP address of the VPN server.
## Get the IP using: nslookup vpn-example-server.org
## Example: seattle.vpn.riseup.net
## Some providers provide multiple VPN servers.
## You can enter multiple IP addresses, separated by spaces.
VPN_SERVERS="198.252.153.26"

## For OpenVPN.
VPN_INTERFACE=tun0

## Destinations you don not want routed through the VPN.
## 10.0.2.2/24: VirtualBox DHCP
LOCAL_NET="192.168.1.0/24 192.168.0.0/24 127.0.0.0/8 10.152.152.0/24 10.0.2.2/24"
</pre>
<p>3. Exit and save the file.
</p>
<pre>&lt;CTRL-X&gt; --&gt; Press Y --&gt; &lt;ENTER&gt;
</pre>
<p>4. Reload Whonix-Gateway â¢ Firewall.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Whonix-Gateway â¢ ProxyVM (commonly named sys-whonix)</code> â <code>Reload Whonix Firewall</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>System</code> â <code>Reload Whonix Firewall</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, run.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo whonix_firewall</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo whonix_firewall</textarea>
</div>
</div>
</div>
<p>5. Now setup OpenVPN. It should be able to connect. You find some help in chapter <a href="#Examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2">#Examples_of_setting_up_VPNs_to_work_with_Whonix â¢</a>.
</p><p>6. Enable Tor using Whonix â¢ Setup Wizard.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Whonix-Gateway â¢ ProxyVM (commonly named 'sys-whonix')</code> â <code>Whonix Setup</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>System</code> â <code>Whonix Setup Wizard</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, complete the following steps.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo whonixsetup</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo whonixsetup</textarea>
</div>
</div>
</div>
<h4><span id="Additional_Tweaks_/_Recommendations_/_Troubleshooting"></span><span class="mw-headline" id="Additional_Tweaks_.2F_Recommendations_.2F_Troubleshooting">Additional Tweaks / Recommendations / Troubleshooting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=9.html" title="Edit section: Additional Tweaks / Recommendations / Troubleshooting">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>If having problems with the connection / Tor is not fully bootstrapped</b>
</p><p>You have may have to manually restart Tor. This is because the VPN may not be ready when Tor is attempting to connect, because the VPN connection initialization takes too long. Due to a bug in Tor, it won't keep trying to connect. To fix this, you may have to manually restart Tor after boot, if whonixcheck reports that Tor is not fully bootstrapped. The same may be necessary if your VPN software or connection temporarily broke down.
</p><p><b>To Manually restart Tor:</b>
</p><p>Reload Tor.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>After editing <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>, Tor must be reloaded for changes to take effect. 
</p><p><b>Note:</b> If Tor does not connect after completing all these steps, then a user mistake is the most likely explanation. Recheck <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> and repeat the steps outlined in the sections above. If Tor then connects successfully, all the necessary changes have been made.
</p><p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Whonix-Gateway â¢ ProxyVM (commonly named 'sys-whonix')</code> â <code>Reload Tor</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>Settings</code> â <code>Reload Tor
</code>
</p>
<div class="toccolours mw-collapsible mw-collapsed">
<p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, press on Expand on the right.
</p>
<div class="mw-collapsible-content">
<p>Complete the following steps.
</p><p>Reload Tor.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default reload</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default reload</textarea>
</div>
</div>
<p>Check Tor's daemon status.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo service tor@default status</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo service tor@default status</textarea>
</div>
</div>
<p>It should include a a message saying.
</p>
<pre>Active: active (running) since ...
</pre>
<p>In case of issues, try the following debugging steps.
</p><p>Check Tor's config.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo -u debian-tor tor --verify-config</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo -u debian-tor tor --verify-config</textarea>
</div>
</div>
<p>The output should be similar to the following.
</p>
<pre>Sep 17 17:40:41.416 [notice] Read configuration file "/usr/local/etc/torrc.d/50_user.conf".
Configuration was valid</pre>
</div>
</div>
</div>
<p><b>Leak Tests</b>
</p><p>When you shut down the VPN, neither Tor, nor Whonix-Gateway â¢ whonixcheck/apt-get/etc. nor Whonix-Workstation â¢ should be able to connect anywhere anymore.
</p><p><b> Force Tor to wait for OpenVPN </b>
</p><p>sysvinit: (Legacy. Prefer the systemd method below.) <sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup>
</p><p>systemd (Whonix â¢ 11 and above):
</p><p>Create a folder /etc/systemd/system/tor.service.d.
</p><p><code>
sudo mkdir /etc/systemd/system/tor.service.d
</code>
</p><p>Create a file /etc/systemd/system/tor.service.d/50_user.conf.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/systemd/system/tor.service.d/50_user.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/systemd/system/tor.service.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/systemd/system/tor.service.d/50_user.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/systemd/system/tor.service.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/systemd/system/tor.service.d/50_user.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/systemd/system/tor.service.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/systemd/system/tor.service.d/50_user.conf</textarea>
</div>
</div>
</div>
<p>Add the following content.
</p><p><code>
[Unit]
After=openvpn.service
</code>
</p><p>Save.
</p><p>At next boot, the Tor daemon will be started after the OpenVPN daemon.
</p><p>Debugging: <sup class="reference" id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup>
</p><p><b>Limitations</b>
</p>
<ul><li>Only tested with OpenVPN. Most other VPN's have deficiencies anyway.</li>
<li>DNS (IP address) of VPN server has to be manually resolved. There is technically no way to automatically resolve DNS without making the setup much more complex. The VPN server's IP address should not be resolved over Tor, because that's what you wanted to hide in the first place. Since outside observers will know, that you are connecting to the VPN IP anyway, it is probably safe to resolve the DNS over clearnet or by asking the VPN provider if they don't already document their IPs on their website anyway.</li>
<li>No support for IPv6 yet.</li></ul>
<p><b>Troubleshooting VPN -&gt; Tor</b>
</p>
<ul><li>If not connecting, see above to manually restart Tor</li>
<li>Check your VPN software's logs.</li></ul>
<ul><li><b>Test if you are able to connect using your VPN</b></li></ul>
<p>1. Login as user <span style="border:1px dotted #005cb9">clearnet</span>.
</p><p><code>
sudo su clearnet
</code>
</p><p>2. Try connecting to check.tpo. Note, at time of writing, it looked like usaip free trial is probably blocking SSL, therefore it might not work.
</p><p><code>
UWT_DEV_PASSTHROUGH=1 curl --tlsv1.2 --proto =https --silent -H 'Host: check.torproject.org' -k <a class="external free" data-href="https://38.229.72.22" href="https://38.229.72.22" rel="noreferrer noopener" target="_blank">https://38.229.72.22</a>
</code>
</p><p>Should show something along: <i><span style="background-color:#FBFBFB">Your IP address appears to be: xxx.xxx.xxx.xxx</span></i>
</p><p>3. Get back to normal user.
</p><p><code>
exit
</code>
</p>
<h2><span id="Connecting_to_a_proxy_before_Tor_(User_-&gt;_proxy_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_a_proxy_before_Tor_.28User_-.3E_proxy_-.3E_Tor_-.3E_Internet.29">Connecting to a proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=10.html" title="Edit section: Connecting to a proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Proxy_Warning">Proxy Warning</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=11.html" title="Edit section: Proxy Warning">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;"><img alt="Whonix â¢ first time users warning" data-src="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/40px-Ambox_warning_pn.svg.png" data-srcset="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/60px-Ambox_warning_pn.svg.png 1.5x, /w/images/thumb/f/f7/Ambox_warning_pn.svg.png/80px-Ambox_warning_pn.svg.png 2x" height="35" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span"><b><u>Warning!</u></b>
<p>There are issues you should be aware of when using standard, common http(s)/socks4(a)/5 proxies. (Anonymizers, that only use http(s)/socks4(a)/5 as an interface<sup class="reference" id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> are exempt.)
</p>
<ul><li>Most problems with these proxies are not caused by Whonix â¢.</li>
<li>ISP-level adversaries can still determine that the user is connecting to the Tor network.</li>
<li>Be especially careful with http(s) proxies. Some of them send the "<a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN#VPNSSHversusProxy" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">http forwarded for</a>" header which discloses your IP. Http(s) proxies that do not send this header are sometimes called "elite" or "anonymous" proxies.</li>
<li>When using "http forwarded for" http(s) proxies, Tor entry guards and Tor <a data-href="/wiki/Bridges" href="../Bridges.html" title="Bridges">bridges</a> can determine your IP.</li></ul>
See also: <a data-href="/wiki/Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services" href="../Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services.html" title="Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN Services">Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN_Services</a>.</div></td></tr></tbody></table>
<h3><span id="How_to_setup_proxy_before_Tor_(User_-&gt;_proxy_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="How_to_setup_proxy_before_Tor_.28User_-.3E_proxy_-.3E_Tor_-.3E_Internet.29">How to setup proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=12.html" title="Edit section: How to setup proxy before Tor (User -&gt; proxy -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Tor natively supports proxy settings.
</p><p><b>On Whonix-Gateway â¢:</b>
</p>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">From Whonix 14 onwards, all user unique Tor configurations should be stored in <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> and not anywhere else. Note that Whonix will <u>not</u> modify <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> once it is created, therefore the user is responsible for adding or removing specific configurations in this file.</div></td></tr></tbody></table>
<p><br/>
Open <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Whonix-Gateway â¢ ProxyVM (commonly named sys-whonix)</code> â <code>Tor User Config (Torrc)</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>Settings</code> â <code>/usr/local/etc/torrc.d/50_user.conf
</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, complete the following steps.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /usr/local/etc/torrc.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /usr/local/etc/torrc.d/50_user.conf</textarea>
</div>
</div>
</div>
<p>Depending on your proxy configuration, add the settings you'll need to your <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>. For more information on these settings, have a look in the <a class="external text" data-href="https://www.torproject.org/docs/tor-manual.html.en" href="https://www.torproject.org/docs/tor-manual.html.en" rel="noreferrer noopener" target="_blank">Tor manual</a> and read the <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorFAQ#MyInternetconnectionrequiresanHTTPorSOCKSproxy." href="https://trac.torproject.org/projects/tor/wiki/doc/TorFAQ" rel="noreferrer noopener" target="_blank">FAQ</a>.
</p>
<pre>HTTPProxy host[:port]
HTTPProxyAuthenticator username:password
HTTPSProxy host[:port]
HTTPSProxyAuthenticator username:password

Socks4Proxy host[:port]

Socks5Proxy host[:port]
Socks5ProxyUsername username
Socks5ProxyPassword password

FascistFirewall 0|1 

ReachableAddresses ADDR[/MASK][:PORT]â¦ 
ReachableDirAddresses ADDR[/MASK][:PORT]â¦ 
ReachableORAddresses ADDR[/MASK][:PORT]â¦ 
</pre>
<p><b>Note:</b> You need to use the IP instead of the hostname (proxy.example.com). If you don't know the IP of your proxy, please run <span style="border:1px dotted #005cb9">nslookup proxy.example.com</span> (replace proxy.example.com with the hostname of your actual proxy) in a terminal (Konsole) on your host operating system. Using IP instead of hostname might cause subtle fingerprinting issues, see <sup class="reference" id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup> for more information.
</p>
<h2><span id="Connecting_to_SSH_before_Tor_(User_-&gt;_SSH_-&gt;_Tor_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_SSH_before_Tor_.28User_-.3E_SSH_-.3E_Tor_-.3E_Internet.29">Connecting to SSH before Tor (User -&gt; SSH -&gt; Tor -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=13.html" title="Edit section: Connecting to SSH before Tor (User -&gt; SSH -&gt; Tor -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>This chapter is not fully tested/complete. Please give feedback if it worked for you.</b> This doesn't seem to be very popular, no one ever asked about it in over one year.
</p><p>Setting up the SSH tunnel could be either done on the host or inside Whonix-Gateway â¢.
</p><p>1. First we have to install the ssh client.
</p><p><code>
sudo apt-get update
</code>
</p><p><code>
sudo apt-get install ssh
</code>
</p><p>2. Then be sure that your SSH connection itself is working well. SSH to your ssh server using.
</p><p><code>
ssh yourusername@your.ssh.server
</code>
</p><p>3. It is recommended to set up public key authentication.
(TODO: how to create a private and public key)
</p><p><code>
cd /home/yourusername
</code>
</p><p><code>
mkdir .ssh
</code>
</p><p><code>
nano authorized_keys
</code>
</p><p>Paste line beginning with <span style="border:1px dotted #005cb9">ssh-rsa ...</span> (your public key) (TODO: how to create that line).
</p><p>4.
Terminate SSH connection.
</p><p><code>
exit
</code>
</p><p>Login again using public key authentication. (TODO: how to do that)
</p><p>5. When that is working install your favorite text mode browser, for example.
</p><p><code>
apt-get install lynx
</code>
</p><p>And test if the shell's external internet connection is working. Try.
</p><p><code>
lynx check.torproject.org
</code>
</p><p>You're done with the per-requisets. Exit your shell.
</p><p><code>
exit
</code>
</p><p>6. Now we will tell the SSH client to start a socks5 proxy server listening on localhost 127.0.0.1 port 1080. The following command has to be run in background (TODO: add line how to do that) on each start up, before Tor starts (TODO: to which file, to do that). It would be wise to activate public key authentication (TODO: how to add private key to use public key authentication).
</p><p><code>
ssh -D 1080 your.ssh.server
</code>
</p><p>Now we have to tell Tor to use the new local ssh server.
</p>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_notice.png&amp;filetimestamp=20130717195411&amp;"><img alt="Info" data-src="/w/images/c/c8/Ambox_notice.png" height="40" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span">From Whonix 14 onwards, all user unique Tor configurations should be stored in <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> and not anywhere else. Note that Whonix will <u>not</u> modify <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i> once it is created, therefore the user is responsible for adding or removing specific configurations in this file.</div></td></tr></tbody></table>
<p><br/>
Open <i><span style="background-color:#FBFBFB">/usr/local/etc/torrc.d/50_user.conf</span></i>.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u>, complete the following steps.
</p><p><code>Qubes App Launcher (blue/grey "Q")</code> â <code>Whonix-Gateway â¢ ProxyVM (commonly named sys-whonix)</code> â <code>Tor User Config (Torrc)</code>
</p><p><u>If you are using a graphical Whonix-Gateway â¢</u>, complete the following steps.
</p><p><code>Start Menu</code> â <code>Applications</code> â <code>Settings</code> â <code>/usr/local/etc/torrc.d/50_user.conf
</code>
</p><p><u>If you are using a terminal-only Whonix-Gateway â¢</u>, complete the following steps.
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /usr/local/etc/torrc.d/50_user.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /usr/local/etc/torrc.d/50_user.conf</textarea>
</div>
</div>
</div>
<p>And add.
</p><p>(In case SSH tunnel has been setup from Whonix-Gateway â¢.)
</p><p><code>
Socks5Proxy 127.0.0.1:1080
</code>
</p><p>(Or in case SSH tunnel has been setup on the host.)
</p>
<pre>#Socks5Proxy IP:PORT
</pre>
<p>7. (TODO: if running inside Whonix-Gateway â¢, probably new firewall rules are required.)
</p><p>8. We are done, from now on, Tor will connect through the SSH server.
</p>
<h1><span id="Connecting_to_Tor_before_a_tunnel-link_(proxy/VPN/SSH)_(User_-&gt;_Tor_-&gt;_proxy/VPN/SSH_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_Tor_before_a_tunnel-link_.28proxy.2FVPN.2FSSH.29_.28User_-.3E_Tor_-.3E_proxy.2FVPN.2FSSH_-.3E_Internet.29">Connecting to Tor before a tunnel-link (proxy/VPN/SSH) (User -&gt; Tor -&gt; proxy/VPN/SSH -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=14.html" title="Edit section: Connecting to Tor before a tunnel-link (proxy/VPN/SSH) (User -&gt; Tor -&gt; proxy/VPN/SSH -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p><b>DESCRIPTION: (USER -&gt; TOR -&gt; PROXY/VPN/SSH -&gt; INTERNET)</b>
</p><p>You can tunnel through Tor first and add a tunnel-link (proxy/SSH/VPN) as your "exit relay". When setting up your tunnel-chain in this way, services (such as websites, etc.) that you connect to will not know that you are using Tor <sup class="reference" id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup>. This can be useful to <b>evade Tor bans</b>, for example, to be able to visit websites or IRC networks who blacklisted Tor. Beware of the risks, this adds a "permanent exit relay", read <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a>.
</p><p>To do that, go to your Whonix-Workstation â¢ and add the proxy, SSH or VPN normally, just like you would do, if you wouldn't use the Whonix-Gateway â¢. Adding your proxy, SSH or VPN inside Whonix-Workstation â¢ will, thanks to Whonix-Gateway â¢, result in them getting tunneled over Tor.
</p><p>Protocol leaks<sup class="reference" id="cite_ref-14"><a href="#cite_note-14">[14]</a></sup> still apply, though to a lesser extent. Leaks would <i>only</i> leak through Tor and you have best possible <a data-href="/wiki/Protocol-Leak-Protection_and_Fingerprinting-Protection" href="../Protocol-Leak-Protection_and_Fingerprinting-Protection.html" title="Protocol-Leak-Protection and Fingerprinting-Protection">Protocol-Leak-Protection and Fingerprinting-Protection</a>.
</p>
<h2><span class="mw-headline" id="Things_to_keep_in_mind_when_connecting_to_Tor_before_a_tunnel-link">Things to keep in mind when connecting to Tor before a tunnel-link</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=15.html" title="Edit section: Things to keep in mind when connecting to Tor before a tunnel-link">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>uwt and Tor Browser</b>
</p><p>There are two special cases in Whonix: (1) applications using uwt and (2) Tor Browser.
</p><p>Applications using uwt are pre-configured to use Socks Proxy settings. <sup class="reference" id="cite_ref-15"><a href="#cite_note-15">[15]</a></sup> You may have to disable the affected uwt wrapper, in case there is one, for the application you want to tunnel. See <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a> to learn what uwt and uwt wrappers are. You could <a data-href="/wiki/Stream_Isolation#Deactivate_uwt_Stream_Isolation_Wrapper" href="../Stream_Isolation.html" title="Stream Isolation">disable</a> them.
</p><p>If you want to do it with Tor Browser, read <a data-href="/wiki/Tor_Browser#Change.2FRemove_Proxy_Settings" href="../Tor_Browser.html" title="Tor Browser">Change/Remove Proxy Settings</a>.
</p><p><b>Malware</b>
</p><p>Also note that once Whonix-Workstation â¢ gets rooted by malware, the VPN/SSH/proxy can be easily circumvented by the attacker and you are left to the protections by Whonix â¢ and Tor.
</p><p><b>Leaks</b>
</p><p>If setting up socksifier, proxy settings, transparent proxy with local redirection, SSH tunnel or a VPN in a leak free manner were easy, this means while ensuring nothing will bypass the VPN, SSH or proxy, there would have been no reason to develop Whonix â¢ in the first place.
</p><p>The methods described on this page are all tested and should all more or less work. Should there be any misconfiguration or leak bug, you are left to the protections by Whonix â¢ and Tor. This means, the leak will still go through Whonix-Gateway â¢ and therefore forced through Tor. The methods on this page are not as safe as a Whonix-Gateway â¢. There were development discussions and some progress<sup class="reference" id="cite_ref-16"><a href="#cite_note-16">[16]</a></sup>, about chaining multiple Gateways, VPNBOX, JonDoBOX, I2PBOX, FreenetBOX and ProxyBOX, but nothing was finished due to the lack of community interest, support and developers.
</p><p><b>Web Browser</b>
</p><p>It is unknown how anonymous it is to use (proxy/VPN/SSH -&gt;) Tor -&gt; Proxy/VPN/SSH -&gt; Tor Browser -&gt; website. How many people show up with a proxy, VPN or SSH IP using Tor Browser? This setup is so special that probably only very few people are doing it. For this reason, recommend against.
</p><p>On the other hand, due to browser fingerprinting, it can't be recommend using any browser other than Tor Browser either.
</p><p><b>Loss of Onion Services Connectivity</b>
</p><p>When using USER -&gt; TOR -&gt; PROXY/VPN/SSH -&gt; INTERNET, i.e. if the last server is not a Tor relay, you will be no longer able to connect to <a data-href="/wiki/Onion_Services" href="../Onion_Services.html" title="Onion Services">Onion Services</a>. (Unless you would run another Tor client on top, but this would lead to <a data-href="/wiki/DoNot#Prevent_Tor_over_Tor_scenarios." href="../DoNot.html" title="DoNot">Tor over Tor, which is discouraged for security reasons</a>.
</p>
<h2><span id="Connecting_to_Tor_before_a_VPN_(User_-&gt;_Tor_-&gt;_VPN_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_Tor_before_a_VPN_.28User_-.3E_Tor_-.3E_VPN_-.3E_Internet.29">Connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=16.html" title="Edit section: Connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Important_things_to_consider_when_connecting_to_Tor_before_a_VPN">Important things to consider when connecting to Tor before a VPN</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=17" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=17.html" title="Edit section: Important things to consider when connecting to Tor before a VPN">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><b>Loss of stream isolation</b>
</p><p>While you are connecting to Tor before a VPN, you probably will not be able to make use of the stream isolation feature <sup class="reference" id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup>, which is planned for Tor Browser. This is because Tor Browser would not talk to Tor directly anymore. Tor Browser would connect to the VPN instead.
</p><p><b>Possible increased threat of identity correlation</b>
</p><p>By design, a VPN routes all your applications (those without any proxy settings, as explained above) through the VPN. You may not want this, as explained above (<a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>). To circumvent that, you should use this Whonix-Workstation â¢ only for the particular application you want to route through the VPN. You are advised to read <a data-href="/wiki/Multiple_Whonix-Workstation" href="../Multiple_Whonix-Workstation.html" title="Multiple Whonix-Workstation">Multiple Whonix-Workstation â¢</a>.
</p>
<h3><span id="How_to_setup_connecting_to_Tor_before_a_VPN_(User_-&gt;_Tor_-&gt;_VPN_-&gt;_Internet)"></span><span class="mw-headline" id="How_to_setup_connecting_to_Tor_before_a_VPN_.28User_-.3E_Tor_-.3E_VPN_-.3E_Internet.29">How to setup connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=18" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=18.html" title="Edit section: How to setup connecting to Tor before a VPN (User -&gt; Tor -&gt; VPN -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Note: that you have to choose TCP transport, because Tor does not support UDP.
</p><p>Just use general instructions on doing so and of course do it inside Whonix-Workstation â¢. Don't forget to read all the notes above. Since everything is routed through Tor, the VPN can be easily tunneled through Tor.
</p><p>See also section at the bottom of this page <a href="#Examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2">#Examples_of_setting_up_VPNs_to_work_with_Whonix â¢</a>.
</p>
<h4><span id="Using_TransPort_instead_of_SocksPort_is_required_for_Tor_-&gt;_VPN"></span><span class="mw-headline" id="Using_TransPort_instead_of_SocksPort_is_required_for_Tor_-.3E_VPN">Using TransPort instead of SocksPort is required for Tor -&gt; VPN</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=19" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=19.html" title="Edit section: Using TransPort instead of SocksPort is required for Tor -&gt; VPN">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>For applications configured to use SocksPort, instead of TransPort, which is the default setting for most Whonix â¢ default applications, such as <a data-href="/wiki/Tor_Browser" href="../Tor_Browser.html" title="Tor Browser">Tor Browser</a>.
</p><p>SocksPort is configured for <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>. As <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a> explains, you have to keep in mind, a VPN behind Tor adds a permanent exit relay.
</p><p>Rather, all applications, which are configured to use SocksPort, will not be tunneled through the VPN. They will be "only" tunneled through Tor. This is because, the VPN will not touch connections to <i><span style="background-color:#FBFBFB">10.152.152.10</span></i>, which is the Whonix-Gateway â¢. For example, if you wish to tunnel Tor Browser through Tor -&gt; VPN, you have to remove all proxy settings from Tor Browser, see <a data-href="/wiki/Tor_Browser#Change.2FRemove_Proxy_Settings" href="../Tor_Browser.html" title="Tor Browser">Change/Remove Proxy Settings</a>. Check.torproject.org will tell you then "<i><span style="background-color:#FBFBFB">You are not using Tor.</span></i>" and you'll see your VPN's IP. In fact your VPN was tunneled through Tor first. (Because Whonix-Workstation â¢ can not make any non-Tor connections by design, everything is tunneled over Tor.) When you stop your VPN for test reasons (<i><span style="background-color:#FBFBFB">sudo /etc/init.d/openvpn stop</span></i>), it will show "<i><span style="background-color:#FBFBFB">You are using Tor.</span></i>" again.
</p>
<h4><span class="mw-headline" id="Use_a_Fail_Closed_Mechanism_2">Use a Fail Closed Mechanism</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=20" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=20.html" title="Edit section: Use a Fail Closed Mechanism">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A general problem with VPNs is that connections often fail to remain open. This means the VPN connection suddenly closes, leaving the user directly connected to the Internet (without first tunneling through the VPN). This is not a Whonix â¢-specific problem. VPN servers and software can occasionally fail without prior notice. Therefore, if the VPN is unreachable or the connection breaks down for whatever reason, in most cases the user will continue to connect to the Internet without the VPN.
</p><p>One of the key benefits of Whonix is that when a VPN connection fails, protection is still provided by the Tor process. In this instance, the Whonix-Workstation â¢ will seamlessly continue to make "direct" connections through Tor. Failure of the VPN tunnel may be inconsequential if a VPN is only used to circumvent Tor censorship. On the other hand, if VPN use is intended to improve security, then it must be configured so that if/when the VPN connection fails, all connections between the outside world and the computer are halted.
</p>
<h2><span id="Connecting_to_Tor_before_a_proxy_(User_-&gt;_Tor_-&gt;_proxy_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_Tor_before_a_proxy_.28User_-.3E_Tor_-.3E_proxy_-.3E_Internet.29">Connecting to Tor before a proxy (User -&gt; Tor -&gt; proxy -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=21" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=21.html" title="Edit section: Connecting to Tor before a proxy (User -&gt; Tor -&gt; proxy -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Proxy_Warning_2">Proxy Warning</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=22" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=22.html" title="Edit section: Proxy Warning">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<table class="plainlinks metadata ambox ambox-notice" role="presentation"><tbody><tr><td class="mbox-image"><div style="width:52px"><a class="image" data-href="/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;" href="https://www.whonix.org/w/index.php?title=File:Ambox_warning_pn.svg.png&amp;filetimestamp=20130717200816&amp;"><img alt="Whonix â¢ first time users warning" data-src="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/40px-Ambox_warning_pn.svg.png" data-srcset="/w/images/thumb/f/f7/Ambox_warning_pn.svg.png/60px-Ambox_warning_pn.svg.png 1.5x, /w/images/thumb/f/f7/Ambox_warning_pn.svg.png/80px-Ambox_warning_pn.svg.png 2x" height="35" src="data:image/png;base64,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" width="40"/></a></div></td><td class="mbox-text"><div class="mbox-text-span"><b><u>Warning!</u></b>
<p>There are issues you should be aware of when using standard, common http(s)/socks4(a)/5 proxies. (Anonymizers, that only use http(s)/socks4(a)/5 as an interface<sup class="reference" id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup> are exempt.)
</p>
<ul><li>Most problems with these proxies are not caused by Whonix â¢.</li>
<li>Tor exit relays and their ISPs can still monitor your connection to its destination.</li>
<li>Be especially careful with http(s) proxies. Some of them send the "<a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN#VPNSSHversusProxy" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">http forwarded for</a>" header which discloses your IP. Http(s) proxies that do not send this header are sometimes called "elite" or "anonymous" proxies.</li>
<li>When using "http forwarded for" http(s) proxies, destination servers can determine the IP of your Tor exit relay.</li></ul>
See also: <a data-href="/wiki/Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services" href="../Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services.html" title="Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN Services">Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN_Services</a>.</div></td></tr></tbody></table>
<h3><span class="mw-headline" id="Proxy_Settings_Method">Proxy Settings Method</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=23" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=23.html" title="Edit section: Proxy Settings Method">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Generally">Generally</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=24" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=24.html" title="Edit section: Generally">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>After understanding the "Read First" information in the <a href="#Introduction">#Introduction</a> there is no difference from using proxy settings in an ordinary why, other than that it is running inside Whonix-Workstation â¢.
</p><p>If proxy settings are honored by an application or in the worst case there are leaks (still forced through Tor thanks to Whonix â¢), is another question and out of scope, see <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" rel="noreferrer noopener" target="_blank">TorifyHOWTO</a>.
</p>
<h4><span class="mw-headline" id="Tor_Browser_Proxy_Configuration">Tor Browser Proxy Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=25" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=25.html" title="Edit section: Tor Browser Proxy Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p>Complete the following steps inside Whonix-Workstation â¢ (<code>anon-whonix</code>). Launch Tor Browser and enter <code>about:config</code> into the URL bar. Change the following settings.
</p><p><i>extensions.torbutton.use_nontor_proxy;true</i><br/>
<i>network.proxy.no_proxies_on;0</i>
</p><p>Add the CGI HTTP proxy address and port number to the following strings.
</p><p><i>network.proxy.http; </i><br/>
<i>network.proxy.http_port;</i>
</p><p>If a HTTPS proxy is being used, modify the following strings instead.
</p><p><i>network.proxy.ssl;</i><br/>
<i>network.proxy.ssl_port;</i>
</p><p>This process can be repeated with web socks proxies, but it is redundant and does not provide any advantage over the former types. The reason is because only Tor Browser is modified and no other programs are being tunneled through it.
</p>
</div>
<h3><span class="mw-headline" id="Proxyfier_Method">Proxyfier Method</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=26" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=26.html" title="Edit section: Proxyfier Method">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="General">General</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=27" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=27.html" title="Edit section: General">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>After understanding the "Read First" information in the <a href="#Introduction">#Introduction</a>, there is no difference from using a Proxyfier in an ordinary way, other than that it is running inside Whonix-Workstation â¢.
</p><p>If the Proxifier is leak free or in worst case leaks through Tor alone (thanks to Whonix â¢), is another question and not in Whonix â¢ power, see <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" rel="noreferrer noopener" target="_blank">TorifyHOWTO</a>.
</p>
<h4><span class="mw-headline" id="uwt">uwt</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=28" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=28.html" title="Edit section: uwt">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>uwt uses <i><span style="background-color:#FBFBFB">torsocks</span></i>. While the name <i>tor</i>socks implies it is Tor specific, it is not. You can point it to any socks proxy.
</p><p><b>uwt - wget Example</b>
</p><p>Tor Tor stream isolation #1
</p><p><code>
uwt -t 5 -i 10.152.152.10 -p 9153 /usr/bin/wget.anondist-orig -c <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>For Tor stream isolation #2
</p><p><code>
uwt -t 5 -i 10.152.152.10 -p 9154 /usr/bin/wget.anondist-orig -c <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>For Tor stream isolation #3<br/>
Requires deactivated wget uwt wrapper!
</p><p><code>
uwt -t 5 -i 10.152.152.10 -p 9155 /usr/bin/wget -c <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>Proxy #1
</p><p><code>
uwt -t 5 -i x.x.x.x -p xxxx /usr/bin/wget.anondist-orig -c <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>Proxy #2<br/>
Requires deactivated wget uwt wrapper!
</p><p><code>
uwt -t 5 -i x.x.x.x -p xxxx /usr/bin/wget -c <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p><sup class="reference" id="cite_ref-19"><a href="#cite_note-19">[19]</a></sup>
</p><p>For testing, if you didn't disable the wget uwt wrapper, the following command will most likely get another IP, because still using Stream Isolation.
</p><p>Using Tor's TransPort.<br/>
(/usr/bin/wget.anondist-orig original non-uwt-wrapped version)
</p><p><code>
wget.anondist-orig <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>If you <a data-href="/wiki/Stream_Isolation#Deactivate_uwt_Stream_Isolation_Wrapper" href="../Stream_Isolation.html" title="Stream Isolation">disabled</a> wget's uwt wrapper, you could use.
</p><p>Using Tor's TransPort.<br/>
Requires deactivated wget uwt wrapper!
</p><p><code>
wget <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p><b>uwt - Tor Browser Example</b>
</p><p>Do not forget to <a data-href="/wiki/Tor_Browser#Change.2FRemove_Proxy_Settings" href="../Tor_Browser.html" title="Tor Browser">Remove Proxy Settings</a> from Tor Browser.
</p><p>Then try this command. (Untested! Please leave feedback if it worked for you!)
</p><p><code>
uwt -t 5 -i 10.152.152.10 -p 9153 ~/tor-browser_en-US/App/Firefox/firefox --profile ~/tor-browser_en-US/Data/profile
</code>
</p><p>See also the wget example above for more information and usage examples.
</p><p>Might be also interesting:
</p>
<ul><li><a data-href="/wiki/Advanced_Security_Guide#More_than_one_Tor_Browser_in_Whonix_.E2.84.A2" href="../Advanced_Security_Guide.html" title="Advanced Security Guide">Advanced Security Guide#More than one Tor Browser in Whonix â¢</a></li></ul>
<h4><span class="mw-headline" id="proxychains">proxychains</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=29" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=29.html" title="Edit section: proxychains">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<h5><span class="mw-headline" id="Warnings">Warnings</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=30" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=30.html" title="Edit section: Warnings">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<ul><li>We don't know how well proxychains works. For example <code>torsocks has a IPv6 leak bug</code><sup class="reference" id="cite_ref-20"><a href="#cite_note-20">[20]</a></sup>. We don't know if proxychains forces everything through the proxies. Whonix â¢ only ensures, should their be leaks, they go only through Tor.</li>
<li>There are at least three different versions of proxychains. The old/original/unmaintained version on sourceforge.net and two forks on github. We don't know about that status of any of them and haven't heard of anyone looking if they do really work as expected. The two authors argue with each other and we weren't motivated to understand the conflict and to determine which version is better. However, any leaks not going through the proxy(chain) will go through Tor.</li></ul>
<h5><span class="mw-headline" id="Instructions">Instructions</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=31" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=31.html" title="Edit section: Instructions">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<h6><span class="mw-headline" id="General_2">General</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=32" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=32.html" title="Edit section: General">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>Install proxychains.
</p><p><code>
sudo apt-get install proxychains
</code>
</p><p>Note the uwt and Tor Browser notice above first. After you have done so it is quite simple.
</p><p>Open proxychains configuration file.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/proxychains.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/proxychains.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/proxychains.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/proxychains.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/proxychains.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/proxychains.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/proxychains.conf</textarea>
</div>
</div>
</div>
<p>Go to the bottom of the settings file. Comment out "<i><span style="background-color:#FBFBFB">socks4 127.0.0.1 9050</span></i>" and add for example "<i><span style="background-color:#FBFBFB">socks5 10.152.152.10 9152</span></i>" (for Tor stream isolation) or "<i><span style="background-color:#FBFBFB">socks5 ip port</span></i>" with an IP and port of your choice to set the proxy settings.
</p>
<pre>[ProxyList]
## add proxy here ...
## meanwhile
## defaults set to "tor"
#socks4 127.0.0.1 9050
socks5 10.152.152.10 9152
# socks5 x.x.x.x xxxx
</pre>
<p>Advanced. Recommendation: Why not use Tor stream isolation for the proxychains connection?
</p>
<pre>[ProxyList]
## add proxy here ...
## meanwhile
## defaults set to "tor"
#socks4 127.0.0.1 9050
socks5 10.152.152.10 9152
socks5 x.x.x.x xxxx
</pre>
<p>Save the configuration file. Test afterwards.
</p>
<h6><span class="mw-headline" id="test_uwt_wrapped_application">test uwt wrapped application</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=33" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=33.html" title="Edit section: test uwt wrapped application">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>For example:
</p><p><code>
proxychains /usr/bin/wget.anondist-orig <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p>For testing, if you didn't disable the wget uwt wrapper, the following command will most likely get another IP. (Stream Isolation)
</p><p>Using Tor's TransPort.<br/>
(/usr/bin/wget.anondist-orig original non-uwt-wrapped version)
</p><p><code>
wget.anondist-orig <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p>
<h6><span class="mw-headline" id="Tor_Browser">Tor Browser</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=34" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=34.html" title="Edit section: Tor Browser">edit</a><span class="mw-editsection-bracket">]</span></span></h6>
<p>The combination of proxychains and Tor Browser does currently not work. Someone needs to <a data-href="/wiki/Contribute" href="../Contribute.html" title="Contribute">Contribute</a> by figuring this out. Otherwise this will not be possible for a very long time. <a class="external text" data-href="https://forums.whonix.org/t/proxychains-tor-help-needed/779" href="https://forums.whonix.org/t/proxychains-tor-help-needed/779" rel="noreferrer noopener" target="_blank">See forum discussion</a>.
</p><p>Do not forget to <a data-href="/wiki/Tor_Browser#Change.2FRemove_Proxy_Settings" href="../Tor_Browser.html" title="Tor Browser">Remove Proxy Settings</a> from Tor Browser.
</p><p>Then try this command.
</p><p><code>
proxychains ~/tor-browser_en-US/start-tor-browser
</code>
</p><p>Might be also interesting:
</p>
<ul><li><a data-href="/wiki/Advanced_Security_Guide#More_than_one_Tor_Browser_in_Whonix_.E2.84.A2" href="../Advanced_Security_Guide.html" title="Advanced Security Guide">Advanced Security Guide#More than one Tor Browser in Whonix â¢</a></li></ul>
<h3><span id="Transparent_Proxying_(Advanced_users_only!)"></span><span class="mw-headline" id="Transparent_Proxying_.28Advanced_users_only.21.29">Transparent Proxying (<b>Advanced users only!</b>)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=35" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=35.html" title="Edit section: Transparent Proxying (Advanced users only!)">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To make clear, what this is about. Whonix-Gateway â¢ is already serving as a Transparent Proxy <sup class="reference" id="cite_ref-21"><a href="#cite_note-21">[21]</a></sup>, which means, that all applications not explicitly configured <sup class="reference" id="cite_ref-22"><a href="#cite_note-22">[22]</a></sup> to use a SocksPort, can connect through Tor without any settings. This section is about configuring Whonix-Workstation â¢ also to act as a Transparent Proxy <sup class="reference" id="cite_ref-23"><a href="#cite_note-23">[23]</a></sup>. Use case: a user wants to ensure all traffic goes through Tor (by using Whonix-Gateway â¢) and want to additionally ensure, all traffic goes through a proxy choosen by the user after the Tor link, i.e. user -&gt; Tor -&gt; proxy -&gt; internet.
</p><p><sup class="reference" id="cite_ref-24"><a href="#cite_note-24">[24]</a></sup>
</p><p>You always have to keep in mind, which kind of data and which kind of proxy you are using. There are CGIproxies, http(s) proxies and socks4/4a/5 proxies.
</p><p>In case you redirect the network layer directly with iptables, you need a TransPort. Unfortunately very few applications, do offer a TransPort. For example, Tor supports a TransPort. In most other cases, you need to translate the different kinds of data.
</p><p>Due to the nature of Transparent Proxying, we need to redirect with iptables and end up with a "Trans data stream". Because most proxies are either http or socks we need to translate this. Below we discuss a few tools which help here, not all are required, depending on what you want to do.
</p><p>Required reading:
</p>
<ul><li><a data-href="/wiki/Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services" href="../Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services.html" title="Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN Services">Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN Services</a></li>
<li><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a></li></ul>
<h5><span class="mw-headline" id="Tools">Tools</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=36" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=36.html" title="Edit section: Tools">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>Tor is a socks proxy and also has a TransPort. Unfortunately, Tor can not be directly used as a http proxy. You must also keep in mind, that Tor does not support UDP, although it offers a DnsPort..
</p><p><a class="external text" data-href="http://darkk.net.ru/redsocks/" href="http://darkk.net.ru/redsocks/" rel="noreferrer noopener" target="_blank">redsocks</a> can also accept "Trans data streams" and can forward them to http<b>s</b>, socks4 and socks5 proxies. If you were to use a http proxy (no https, without connect-method, see <a data-href="/wiki/Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services" href="../Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services.html" title="Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN Services">proxy article</a>), you could access only http sites, no https sites. Rather redsocks can convert UDP DNS queries to TCP DNS queries.
</p>
<h5><span class="mw-headline" id="DNS_resolution">DNS resolution</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=37" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=37.html" title="Edit section: DNS resolution">edit</a><span class="mw-editsection-bracket">]</span></span></h5>
<p>The complication (and also advantage/feature) with transparent proxying is, that the internet application (browser, etc.) is not aware of the proxy. Therefore the internet application will attempt to do the DNS resolution itself using the system, not using the proxy. The DNS requests also must be considered. Since Tor does not support UDP, we have to transmit DNS queries via TCP.
</p><p>It is impossible to resolve DNS directly on the proxy, when using the proxy as a transparent proxy, see <a data-href="/wiki/Dev/Inspiration#Transparent_Proxying_Method" href="../Dev/Inspiration.html" title="Dev/Inspiration">Transparent Proxying Method</a> for explanation. You need an extra DNS server, which answers over TCP.
</p><p>You have several options to resolve DNS.
</p><p>Either leave the setup as it is, Tor's DnsPort and therefore the Tor exit relays will still do the DNS requests. (See DNS rule #1.) This is probably not what you want, since you wanted to cloak your identity with an additional proxy after Tor.
</p><p>Alternatively you can use a public DNS resolver. The instructions for <a data-href="/wiki/Secondary_DNS_Resolver#DNSCrypt_by_OpenDNS" href="../Secondary_DNS_Resolver.html" title="Secondary DNS Resolver">Secondary DNS Resolver#DNSCrypt by OpenDNS</a> should work out of the box (tested). (See DNS rule #2.) 
</p><p>All DNS resolvers <sup class="reference" id="cite_ref-25"><a href="#cite_note-25">[25]</a></sup> should work, as long TCP is supported and as long you are querying a TCP enabled DNS server. <sup class="reference" id="cite_ref-26"><a href="#cite_note-26">[26]</a></sup> <sup class="reference" id="cite_ref-27"><a href="#cite_note-27">[27]</a></sup> <sup class="reference" id="cite_ref-28"><a href="#cite_note-28">[28]</a></sup> <sup class="reference" id="cite_ref-29"><a href="#cite_note-29">[29]</a></sup>
</p><p>Read the <a data-href="/wiki/Secondary_DNS_Resolver" href="../Secondary_DNS_Resolver.html" title="Secondary DNS Resolver">DNS related warnings</a>.
</p>
<h4><span id="How_to_setup_proxy_tunnel-link_after_Tor_(User-&gt;Tor-&gt;Proxy-&gt;Internet)"></span><span class="mw-headline" id="How_to_setup_proxy_tunnel-link_after_Tor_.28User-.3ETor-.3EProxy-.3EInternet.29">How to setup proxy tunnel-link after Tor (User-&gt;Tor-&gt;Proxy-&gt;Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=38" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=38.html" title="Edit section: How to setup proxy tunnel-link after Tor (User-&gt;Tor-&gt;Proxy-&gt;Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>Unfinished!</b> <br/>
<b>Advanced users only!</b>
</p><p><b>Everything on Whonix-Workstation â¢.</b>
Get a working proxy and test if it works reliable.
</p><p>1. Install redsocks.
</p><p><code>
sudo apt-get install redsocks
</code>
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/default/redsocks</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/default/redsocks</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/default/redsocks</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/default/redsocks</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/default/redsocks</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/default/redsocks</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/default/redsocks</textarea>
</div>
</div>
</div>
<p>Look for.
</p><p><code>
START=no
</code>
</p><p>And replace it with.
</p><p><code>
START=yes
</code>
</p><p>2. Configure redsocks by editing <span style="border:1px dotted #005cb9">/etc/redsocks.conf</span> to your needs.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/redsocks.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/redsocks.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/redsocks.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/redsocks.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/redsocks.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/redsocks.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/redsocks.conf</textarea>
</div>
</div>
</div>
<p>Under.
</p><p><code>
redsocks {
</code>
</p><p>You have to edit.
</p>
<pre>        ip = 127.0.0.1;
        port = 1080;
        type = socks5
</pre>
<p>To your needs.
</p><p>3. Start redsocks.
</p><p><code>
sudo service redsocks start
</code>
</p><p>4. Create a file <span style="border:1px dotted #005cb9">fw.bsh</span>.
</p><p>5. And use the following firewall rules.
</p>
<pre>#!/bin/bash
## These iptables rules redirect the traffic for all users,
## including root, with the exception of the user redsocks,
## through the proxy.

## TODO: these iptables rules need review.
## TODO: use iptables default policy drop.

## Choose either DNS rule #1 or DNS rule #2.

## For debugging/testing use this command in console.
## tail -f /var/log/syslog

## Flush old rules.
iptables -F
iptables -t nat -F
iptables -X

## Allow unlimited traffic on the loopback interface.
iptables -A INPUT -i lo -j ACCEPT
iptables -A OUTPUT -o lo -j ACCEPT
iptables -A OUTPUT --dst 127.0.0.1 -j ACCEPT

## Established incoming connections are accepted.
iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT

## Established outgoing connections are accepted.
iptables -A OUTPUT -m state --state RELATED,ESTABLISHED -j ACCEPT

## DNS rule #1.
## Allow DNS directly through {{gateway_product_name}}.
#iptables -A OUTPUT --dst 10.152.152.10 -p udp --dport 53 -j ACCEPT

## DNS rule #2.
## For DNSCrypt set /etc/resolv.conf to
## nameserver 127.0.0.1
##
## sudo dnscrypt-proxy --tcp-only --user=user
##
## DNSCrypt listening on port 53
iptables -t nat -A OUTPUT --dst 127.0.0.1 -p udp --dport 53 -j ACCEPT
iptables -t nat -A OUTPUT --dst 127.0.0.1 -p tcp --dport 53 -j ACCEPT

## redsocks must be allowed to establish direct connections.
iptables -A OUTPUT -j ACCEPT -m owner --uid-owner redsocks
iptables -t nat -A OUTPUT -j ACCEPT -m owner --uid-owner redsocks

## Redirect remaining traffic to redsocks.
iptables -t nat -A OUTPUT -p tcp -j REDIRECT --to-port 12345

## TODO: UDP rule untested.
#iptables -t nat -A OUTPUT -p udp -j REDIRECT --to-port 10053

## Log blocked traffic for debugging.
iptables -A OUTPUT -j LOG --log-level 4 --log-prefix "iptables: "

## Reject all other traffic.
iptables -A OUTPUT -j REJECT
</pre>
<p>5. Make the firewall script executable.
</p><p><code>
sudo chmod +x fw.bsh
</code>
</p><p>6. Apply the firewall rules.
</p><p><code>
sudo fw.bsh
</code>
</p>
<h2><span id="Connecting_to_Tor_before_a_SSH_(User_-&gt;_Tor_-&gt;_SSH_-&gt;_Internet)"></span><span class="mw-headline" id="Connecting_to_Tor_before_a_SSH_.28User_-.3E_Tor_-.3E_SSH_-.3E_Internet.29">Connecting to Tor before a SSH (User -&gt; Tor -&gt; SSH -&gt; Internet)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=39" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=39.html" title="Edit section: Connecting to Tor before a SSH (User -&gt; Tor -&gt; SSH -&gt; Internet)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This chapter is not about connecting to a SSH server as a client (see Whonix â¢ in general and the Torify HOWTO). It is about adding an extra SSH tunnel after Tor.
</p><p>Note that even though SSH supports socks5, SSH is still not able to forward UDP on its own. Have a look at the <a class="external text" data-href="http://zarb.org/~gc/html/udp-in-ssh-tunneling.html" href="http://zarb.org/~gc/html/udp-in-ssh-tunneling.html" rel="noreferrer noopener" target="_blank">source</a> of that information. To summarize: to tunnel UDP over SSH client and shell admin need a special setup, which is for most shells, not going to happen.
</p><p>A SSH tunnel will provide a local socks5 proxy. Create the SSH tunnel in the Whonix-Workstation â¢. From there you'll end up with a local socks5 proxy. You can use this socks5 proxy following the proxy instructions above. Once the SSH tunnel is established, there are not many differences, besides the difference already clarified above about UDP and that the warning about missing encryption to the proxy does not apply to SSH tunnels, since SSH is encrypted. The SSH process needs to be allowed to access the internet directly, if you use transparent proxying, run the SSH process under an account, which is privileged to access the internet directly.
</p><p>Another untested method may be <a class="external text" data-href="https://github.com/apenwarr/sshuttle" href="https://github.com/apenwarr/sshuttle" rel="noreferrer noopener" target="_blank">sshuttle</a>.
</p>
<h2><span id="User_-&gt;_Tor_-&gt;_VPN_-&gt;_proxy_-&gt;_Internet"></span><span class="mw-headline" id="User_-.3E_Tor_-.3E_VPN_-.3E_proxy_-.3E_Internet">User -&gt; Tor -&gt; VPN -&gt; proxy -&gt; Internet</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=40" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=40.html" title="Edit section: User -&gt; Tor -&gt; VPN -&gt; proxy -&gt; Internet">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a class="external free" data-href="https://forums.whonix.org/t/source-list-error/1680/18" href="https://forums.whonix.org/t/source-list-error/1680/18" rel="noreferrer noopener" target="_blank">https://forums.whonix.org/t/source-list-error/1680/18</a>
</p>
<ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li><ul><li class="mw-empty-elt"></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul></li></ul>
<h1><span id="Examples_of_setting_up_VPNs_to_work_with_Whonix_â¢"></span><span class="mw-headline" id="Examples_of_setting_up_VPNs_to_work_with_Whonix_.E2.84.A2">Examples of setting up VPNs to work with Whonix â¢</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=41" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=41.html" title="Edit section: Examples of setting up VPNs to work with Whonix â¢">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>The purpose of this chapter is mainly to demonstrate how easy it is to add a VPN to Whonix â¢, whether is to use a VPN tunnel-link before or after Tor (i.e. User -&gt; Tor -&gt; VPN -&gt; Internet or User -&gt; VPN -&gt; Tor -&gt; Internet).
</p><p>The examples given below were mainly for testing purposes. You may setup accounts for the same reasons, or use the information below as a very rough "guide" for setting up a VPN with Whonix â¢. When setting up the accounts within the examples, make sure not to enter personal information while signing up. Use an extra e-mail address for registration, which you will never use for anything else. If you plan to use User -&gt; Tor -&gt; VPN, you should obviously also sign up through Tor. When using User -&gt; VPN -&gt; Tor, it is unknown what is best (to sign up through Tor or not), but using probably Tor can't hurt.
</p>
<h2><span class="mw-headline" id="Riseup.net">Riseup.net</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=42" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=42.html" title="Edit section: Riseup.net">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Riseup.net_Quick_VPN_Command_Line_Test">Riseup.net Quick VPN Command Line Test</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=43" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=43.html" title="Edit section: Riseup.net Quick VPN Command Line Test">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Known to support TCP, UDP, SSL.
</p><p>(1) You need a riseup.net account.<br/>
(2) You need to know your riseup account name.<br/>
(3) Go to riseup.net -&gt; help -&gt; VPN and obtain your VPN secret. (VPN password)<br/>
(4) Look inside the <a class="external text" data-href="https://help.riseup.net/vpn" href="https://help.riseup.net/vpn" rel="noreferrer noopener" target="_blank">riseup VPN help page</a> for <a class="external text" data-href="https://help.riseup.net/en/riseup-ca" href="https://help.riseup.net/en/riseup-ca" rel="noreferrer noopener" target="_blank"><code>RiseupCA.pem</code></a> and download it.<br/>
(5) Open a terminal. (konsole) Get into the same folder, you stored <code>RiseupCA.pem</code>.<br/>
(6) Install openvpn.
<code>
sudo apt-get update &amp;&amp; apt-get install openvpn
</code>
(7) The following line from the riseup OpenVPN help page<sup class="reference" id="cite_ref-30"><a href="#cite_note-30">[30]</a></sup> won't work for user -&gt; Tor -&gt; VPN -&gt; Internet, because the Tor network does not support UDP.<br/>
<code>
sudo openvpn --client --dev tun --auth-user-pass --remote vpn.riseup.net 1194 --ca RiseupCA.pem
</code>
The following line works for user -&gt; Tor -&gt; VPN -&gt; Internet.<br/>
<code>
sudo openvpn --client --dev tun --auth-user-pass --remote vpn.riseup.net 1194 --ca RiseupCA.pem --proto tcp
</code>
(8) For DNS, see <a href="#Riseup_DNS">#Riseup DNS</a> below.
</p>
<h3><span class="mw-headline" id="Riseup.net_riseup.conf">Riseup.net riseup.conf</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=44" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=44.html" title="Edit section: Riseup.net riseup.conf">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Known to support TCP, UDP, SSL.<br/>
(1) You need a riseup.net account.<br/>
(2) You need to know your riseup account name.<br/>
(3) Go to <a class="external free" data-href="https://user.riseup.net/users/riseupusername/vpn" href="https://user.riseup.net/users/riseupusername/vpn" rel="noreferrer noopener" target="_blank">https://user.riseup.net/users/riseupusername/vpn</a> to obtain your VPN secret. (VPN password) (Replace "riseupusername" with your actual riseup user name.) (Or just got to <a class="external free" data-href="https://user.riseup.net" href="https://user.riseup.net" rel="noreferrer noopener" target="_blank">https://user.riseup.net</a>, login and click on "VPN".)<br/>
(4) Look inside the <a class="external text" data-href="https://help.riseup.net/vpn" href="https://help.riseup.net/vpn" rel="noreferrer noopener" target="_blank">riseup VPN help page</a> for <a class="external text" data-href="https://help.riseup.net/en/riseup-ca" href="https://help.riseup.net/en/riseup-ca" rel="noreferrer noopener" target="_blank"><code>RiseupCA.pem</code></a> and (right click) <a class="external text" data-href="https://help.riseup.net/en/security/network-security/riseup-ca/RiseupCA.pem" href="https://help.riseup.net/en/security/network-security/riseup-ca/RiseupCA.pem" rel="noreferrer noopener" target="_blank">download</a> it.<br/>
(5) Create a file auth.txt inside the same folder.
</p>
<pre>riseupusername
vpnsecret
</pre>
<p>(6) Create a file riseup.conf inside the same folder.
</p>
<pre>client
dev tun
auth-user-pass auth.txt
#remote vpn.riseup.net 443
#remote seattle.vpn.riseup.net 443
remote nyc.vpn.riseup.net 80
ca RiseupCA.pem
remote-cert-tls server
script-security 1
#user nobody
#group nobody
proto tcp
#log /var/log/openvpn.log
</pre>
<p>(7) Start OpenVPN.
</p><p><code>
sudo openvpn riseup.conf
</code>
</p><p>(8) For DNS, see <a href="#Riseup_DNS">#Riseup DNS</a> below.
</p>
<h3><span class="mw-headline" id="Riseup_DNS">Riseup DNS</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=45" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=45.html" title="Edit section: Riseup DNS">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Setup">Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=46" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=46.html" title="Edit section: Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Open <i><span style="background-color:#FBFBFB">/etc/resolv.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/resolv.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/resolv.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/resolv.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/resolv.conf</textarea>
</div>
</div>
</div>
<p>Comment out.
</p>
<pre>#nameserver 10.152.152.10
</pre>
<p>Add.
</p>
<pre>## Riseup.net OpenVPN DNS server
nameserver 172.27.100.1
</pre>
<p>Save.
</p><p>If you want to be sure, that <i>/etc/resolv.conf</i> does not get overwritten by other packages. (Such as DHCP or resolvconf.)
</p><p><code>
sudo chattr +i /etc/resolv.conf
</code>
</p><p>If you ever want to remove it, use <i>-i</i>.
</p>
<h4><span class="mw-headline" id="Testing">Testing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=47" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=47.html" title="Edit section: Testing">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>When using "<i>nameserver 10.152.152.10</i>"...
</p><p><code>
nslookup idnxcnkne4qt76tg.onion
</code>
</p><p>Will show.
</p>
<pre>Server:         10.152.152.10
Address:        10.152.152.10#53
Non-authoritative answer:
Name:   idnxcnkne4qt76tg.onion
Address: 10.192.0.1
</pre>
<p>When using "<i>nameserver 172.27.100.1</i>"...
</p><p><code>
nslookup idnxcnkne4qt76tg.onion
</code>
</p><p>Will show.
</p>
<pre>Server:         172.27.100.1
Address:        172.27.100.1#53
** server can't find idnxcnkne4qt76tg.onion: NXDOMAIN
</pre>
<p>Because you can not access .onion domains when a VPN has be chained. (user -&gt; Tor -&gt; VPN -&gt; Internet)
</p><p>Resolving clearnet DNS should work.
</p><p><code>
nslookup riseup.net
</code>
</p><p>Should show.
</p>
<pre>Server:         172.27.100.1
Address:        172.27.100.1#53
Non-authoritative answer:
Name:   riseup.net
Address: 198.252.153.35
</pre>
<h2><span class="mw-headline" id="securityKISS.com">securityKISS.com</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=48" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=48.html" title="Edit section: securityKISS.com">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Unfortunately securityKISS.com drops many TCP and UDP ports besides ports 80 and 443. That limits its usefulness for testing purposes, such as <a data-href="/wiki/Tunnel_UDP_over_Tor" href="../Tunnel_UDP_over_Tor.html" title="Tunnel UDP over Tor">Tunnel UDP over Tor</a>. If you know a less restrictive free VPN provider, we'd be thankful for a comment.
</p><p>Install openvpn.
</p><p><code>
sudo apt-get install openvpn
</code>
</p><p>Register at securitykiss.com, login and download their OpenVPN package to <span style="border:1px dotted #005cb9">/home/user</span>. Unpack. The folder contains contains <span style="border:1px dotted #005cb9">ca.cert</span>, <span style="border:1px dotted #005cb9">client.cert</span>, <span style="border:1px dotted #005cb9">client.key</span>, <span style="border:1px dotted #005cb9">README.txt</span> (with list of their servers and ports). Rename the folder to securitykiss. Structure should be like <span style="border:1px dotted #005cb9">/home/user/securitykiss/ca.cert</span> etc.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/openvpn/client.conf</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/openvpn/client.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/openvpn/client.conf</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/openvpn/client.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/openvpn/client.conf</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/openvpn/client.conf</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/openvpn/client.conf</textarea>
</div>
</div>
</div>
<p>Paste the following content.
</p>
<pre>##############################################
# Sample client-side OpenVPN 2.0 config file #
# for connecting to multi-client server.     #
#                                            #
# This configuration can be used by multiple #
# clients, however each client should have   #
# its own cert and key files.                #
#                                            #
# On Windows, you might want to rename this  #
# file so it has a .ovpn extension           #
##############################################

# Specify that we are a client and that we
# will be pulling certain config file directives
# from the server.
client

# Use the same setting as you are using on
# the server.
# On most systems, the VPN will not function
# unless you partially or fully disable
# the firewall for the TUN/TAP interface.
;dev tap
dev tun

# Windows needs the TAP-Win32 adapter name
# from the Network Connections panel
# if you have more than one.  On XP SP2,
# you may need to disable the firewall
# for the TAP adapter.
;dev-node MyTap

# Are we connecting to a TCP or
# UDP server?  Use the same setting as
# on the server.
proto tcp
;proto udp

# The hostname/IP and port of the server.
# You can have multiple remote entries
# to load balance between the servers.
remote 91.121.208.218 443
;remote my-server-2 1194

# Choose a random host from the remote
# list for load-balancing.  Otherwise
# try hosts in the order specified.
;remote-random

# Keep trying indefinitely to resolve the
# host name of the OpenVPN server.  Very useful
# on machines which are not permanently connected
# to the internet such as laptops.
resolv-retry infinite

# Most clients don't need to bind to
# a specific local port number.
nobind

# Downgrade privileges after initialization (non-Windows only)
user nobody
group nogroup

# Try to preserve some state across restarts.
persist-key
persist-tun

# If you are connecting through an
# HTTP proxy to reach the actual OpenVPN
# server, put the proxy server/IP and
# port number here.  See the man page
# if your proxy server requires
# authentication.
;http-proxy-retry # retry on connection failures
;http-proxy [proxy server] [proxy port #]

# Wireless networks often produce a lot
# of duplicate packets.  Set this flag
# to silence duplicate packet warnings.
;mute-replay-warnings

# SSL/TLS parms.
# See the server config file for more
# description.  It is best to use
# a separate .crt/.key file pair
# for each client.  A single ca
# file can be used for all clients.
ca /home/user/securitykiss/ca.crt
cert /home/user/securitykiss/client.crt
key /home/user/securitykiss/client.key

# Verify server certificate by checking
# that the certicate has the nsCertType
# field set to "server".  This is an
# important precaution to protect against
# a potential attack discussed here:
#  http://openvpn.net/howto.html#mitm
#
# To use this feature, you will need to generate
# your server certificates with the nsCertType
# field set to "server".  The build-key-server
# script in the easy-rsa folder will do this.
ns-cert-type server

# If a tls-auth key is used on the server
# then every client must also have the key.
;tls-auth ta.key 1

# Select a cryptographic cipher.
# If the cipher option is used on the server
# then you must also specify it here.
;cipher x

# Enable compression on the VPN link.
# Don't enable this unless it is also
# enabled in the server config file.
comp-lzo

# Set log file verbosity.
verb 3

# Silence repeating messages
;mute 20
</pre>
<p>Edit server IP and port and paste it. (It is almost only the default openvpn <span style="border:1px dotted #005cb9">client.conf</span> with minor changes.)
</p><p>Save.
</p><p>To initially start the VPN type:
</p><p><code>
sudo service openvpn start
</code>
</p><p>After rebooting the VPN will be automatically started.
</p><p>If you do not wish to start the VPN automatically for some reason:
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/default/openvpn</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/default/openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/default/openvpn</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/default/openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/default/openvpn</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/default/openvpn</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/default/openvpn</textarea>
</div>
</div>
</div>
<p>Add.
</p><p><code>
AUTOSTART=="none"
</code>
</p><p>Save.
</p><p>DNS settings have not been considered for this securitykiss.com chapter.
</p>
<h2><span class="mw-headline" id="usaip.eu">usaip.eu</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=49" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=49.html" title="Edit section: usaip.eu">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>For testing purposes, in past, <a class="external text" data-href="https://www.usaip.eu/" href="https://www.usaip.eu/" rel="noreferrer noopener" target="_blank">usaip.eu</a> was used. They have been chosen, because they were free and didn't block the tested outgoing UDP port. The free version of usaip.eu can probably only be used for testing purposes, as it is only a test version, which force disconnects every 7 minutes. For longer and serious/stable use, you'll probably need another, VPN account.
</p><p><b>Note, at time of writing, it looked like, that usaip is probably blocking SSL, therefore</b>
</p><p><code>
UWT_DEV_PASSTHROUGH=1 curl --tlsv1.2 --proto =https <a class="external free" data-href="https://check.torproject.org" href="https://check.torproject.org" rel="noreferrer noopener" target="_blank">https://check.torproject.org</a>
</code>
</p><p><b>will probably not work.</b>
</p><p>Install OpenVPN.
</p><p><code>
sudo apt-get install openvpn
</code>
</p><p>Go to <a class="external text" data-href="http://usaip.eu/en/index.php" href="http://usaip.eu/en/index.php" rel="noreferrer noopener" target="_blank">usaip.eu</a> and click on free demo. Download the <i>usaip.zip</i>. It contains the OpenVPN configuration files. Unpack. Open a shell and get into the folder <i>cd usaip</i>. List all files <i>dir</i>. Connect to a VPN, for example:
</p><p><code>
sudo openvpn /home/user/usaip/eu-luxemburg.ovpn
</code>
</p><p>At time of writing, the page stated, the password was <i>demo</i>, password also <i>demo</i>. Wait until it is connected. When success, it will show "Initialization Sequence Completed". It might happen, that the connection will not succeed for some unknown reason. In this case try replacing the eu-luxemburg.ovpn from the example above with another &lt;country&gt;.ovpn from the usaip folder.
</p><p>DNS settings have not been considered for this usaip.eu chapter.
</p>
<h2><span class="mw-headline" id="Using_a_graphical_user_interface">Using a graphical user interface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=50" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=50.html" title="Edit section: Using a graphical user interface">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="KDE_Network_Manager">KDE Network Manager</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=51" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=51.html" title="Edit section: KDE Network Manager">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you want to install the KDE Network Manager.
</p><p><code>
sudo apt-get install network-manager-kde
</code>
</p><p>Start menu -&gt; System Settings -&gt; Network Settings
</p><p>At time of writing the <a class="external text" data-href="https://www.riseup.net/en/openvpn-linux#kde" href="https://www.riseup.net/en/openvpn-linux" rel="noreferrer noopener" target="_blank">riseup.net OpenVPN instructions for KDE</a> where not finished. Perhaps you'll find out yourself, use another guide for KDE Network Manager or use the command line based examples above.
</p><p>Don't wonder if you don't see Whonix-Workstation â¢ (virtual) wired network interface to Whonix-Gateway â¢. That's still managed by the ordinary ifupdown way in /etc/network/interfaces. See <a data-href="/wiki/Dev/Network_Manager" href="../Dev/Network_Manager.html" title="Dev/Network Manager">Dev/Network Manager</a> if you want to know why it is not installed by default in Whonix â¢.
</p>
<h3><span class="mw-headline" id="GNOME_Network_Manager">GNOME Network Manager</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=52" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=52.html" title="Edit section: GNOME Network Manager">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Although Whonix â¢ is by default based on KDE, you can usually integrate GNOME applications.
</p><p>In case of GNOME Network Manager it just requires some more fiddling because upstream developers wanted to make GNOME and KDE as compatible as possible, which includes that one settings manager won't show up when the other desktop has been started in a dual (KDE, GNOME) installation.
</p><p>If you want to install the GNOME Network Manager.
</p><p><code>
sudo apt-get install network-manager-gnome network-manager-openvpn-gnome
</code>
</p><p>If you want to autostart GNOME Network Manager, open /etc/xdg/autostart/nm-applet.desktop with root rights.
</p><p>Open <i><span style="background-color:#FBFBFB">/etc/xdg/autostart/nm-applet.desktop</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/xdg/autostart/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/xdg/autostart/nm-applet.desktop</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/xdg/autostart/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/xdg/autostart/nm-applet.desktop</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/xdg/autostart/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/xdg/autostart/nm-applet.desktop</textarea>
</div>
</div>
</div>
<p>And comment out.
</p><p><code>
NotShowIn=KDE;
</code>
</p><p>If you want to make the nm-applet start menu entries visible and to start it manually, open /usr/share/applications/nm-applet.desktop.
</p><p>Open <i><span style="background-color:#FBFBFB">/usr/share/applications/nm-applet.desktop</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /usr/share/applications/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /usr/share/applications/nm-applet.desktop</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /usr/share/applications/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /usr/share/applications/nm-applet.desktop</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /usr/share/applications/nm-applet.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /usr/share/applications/nm-applet.desktop</textarea>
</div>
</div>
</div>
<p>And comment out.
</p><p><code>
NotShowIn=KDE;
</code>
</p><p>And add.
</p><p><code>
Categories=GNOME;GTK;Settings;X-GNOME-NetworkSettings;
</code>
</p><p>If you want to make the nm-connection-editor start menu entries visible and to start it manually, open nm-connection-editor.
</p><p>Open <i><span style="background-color:#FBFBFB">/usr/share/applications/nm-connection-editor.desktop</span></i> in an editor with root rights.
</p>
<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /usr/share/applications/nm-connection-editor.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /usr/share/applications/nm-connection-editor.desktop</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /usr/share/applications/nm-connection-editor.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /usr/share/applications/nm-connection-editor.desktop</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /usr/share/applications/nm-connection-editor.desktop</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /usr/share/applications/nm-connection-editor.desktop</textarea>
</div>
</div>
</div>
<p>And comment out.
</p><p><code>
NotShowIn=KDE;
</code>
</p><p>Then you could open the settings.
</p>
<pre>Applications -&gt; Settings -&gt; Network Connections
</pre>
<p>You could try the <a class="external text" data-href="https://www.riseup.net/en/openvpn-linux#gnome" href="https://www.riseup.net/en/openvpn-linux" rel="noreferrer noopener" target="_blank">riseup.net OpenVPN instructions for GNOME</a>.
</p>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=53" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit&amp;section=53.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">â</a></span> <span class="reference-text">See <a data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP#Using_a_Proxy" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">Hide_Tor_and_Whonix_from_your_ISP#Using_a_Proxy</a>.</span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">â</a></span> <span class="reference-text">Works only against simplistic IP blocking lists, because connections to such proxies are usually not encrypted.</span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">â</a></span> <span class="reference-text">In these situations, VPNs are also often censored. You might be better off using <a data-href="/wiki/Bridges" href="../Bridges.html" title="Bridges">Bridges</a>.</span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">â</a></span> <span class="reference-text">See <a data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP#Using_a_Proxy" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">Hide_Tor_and_Whonix_from_your_ISP#Using_a_Proxy</a>.</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">â</a></span> <span class="reference-text">See <a data-href="/wiki/Hide_Tor_and_Whonix_from_your_ISP" href="../Hide_Tor_and_Whonix_from_your_ISP.html" title="Hide Tor and Whonix from your ISP">Hide_Tor_and_Whonix_from_your_ISP</a>.</span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">â</a></span> <span class="reference-text">Disabling <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>.</span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">â</a></span> <span class="reference-text">If you did not disable <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>, then applications still pre-configured for Stream Isolation would go only through Tor and not through the extra tunnel-link. It is up to you for which applications you disable Stream Isolation and for which not. If for some reason, you want for example to use gpg through the extra tunnel link, but Tor Browser not, then just disable stream isolation for gpg, but not for Tor Browser.</span>
</li>
<li id="cite_note-torplusvpn-8"><span class="mw-cite-backlink">â <sup><a href="#cite_ref-torplusvpn_8-0">8.0</a></sup> <sup><a href="#cite_ref-torplusvpn_8-1">8.1</a></sup> <sup><a href="#cite_ref-torplusvpn_8-2">8.2</a></sup></span> <span class="reference-text">See <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a>.</span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">â</a></span> <span class="reference-text">
To improve this situation, if you are using OpenVPN and Debian's init script to automatically start it, add an insserv override to wait for openvpn being started.

1. Create a new file <span style="border:1px dotted #005cb9">/etc/insserv/overrides/tor</span>. 

Open <i><span style="background-color:#FBFBFB">/etc/insserv/overrides/tor</span></i> in an editor with root rights.

<div style="background: #F8F8F8; border: 2px; padding: 5px; margin: 10px; border-style: solid; border-color: black; width: 100%">
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>KDE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo kwrite /etc/insserv/overrides/tor</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo kwrite /etc/insserv/overrides/tor</textarea>
</div>
</div>
<p><u>If you are using a graphical Whonix or <a class="mw-redirect" data-href="/wiki/Qubes-Whonix" href="../Qubes-Whonix.html" title="Qubes-Whonix">Qubes-Whonix â¢</a></u> with <b>XFCE</b>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>kdesudo mousepad /etc/insserv/overrides/tor</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">kdesudo mousepad /etc/insserv/overrides/tor</textarea>
</div>
</div>
<p><u>If you are using a terminal-only Whonix</u>, run.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo nano /etc/insserv/overrides/tor</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo nano /etc/insserv/overrides/tor</textarea>
</div>
</div>
</div>
<p>2. Add the following content.
</p>
<pre>### BEGIN INIT INFO
# Provides:          tor
# Required-Start:    $local_fs $remote_fs $network $named $time
# Required-Stop:     $local_fs $remote_fs $network $named $time
# Should-Start:      $syslog openvpn
# Should-Stop:       $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Starts The Onion Router daemon processes
# Description:       Start The Onion Router, a TCP overlay
#                    network client that provides anonymous
#                    transport.
### END INIT INFO
</pre>
<p>3. Then apply these changes by running.
</p><p><code>
sudo update-rc.d tor defaults
</code>
</p>
</span></li>
<li id="cite_note-10"><span class="mw-cite-backlink"><a href="#cite_ref-10">â</a></span> <span class="reference-text">
Reload systemd.

<code>
sudo systemctl daemon-reload
</code>

Check Tor service status.

<code>
sudo service tor status
</code>

It should list the drop-in file <i><span style="background-color:#FBFBFB">/etc/systemd/system/tor.service.d/50_user.conf</span></i>.</span>
</li>
<li id="cite_note-11"><span class="mw-cite-backlink"><a href="#cite_ref-11">â</a></span> <span class="reference-text">Such as the Tor, <a data-href="/wiki/JonDonym" href="../JonDonym.html" title="JonDonym">JonDonym</a> or <a data-href="/wiki/I2P" href="../I2P.html" title="I2P">I2P</a> software.</span>
</li>
<li id="cite_note-12"><span class="mw-cite-backlink"><a href="#cite_ref-12">â</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/Whonix/Whonix/issues/94" href="https://github.com/Whonix/Whonix/issues/94" rel="noreferrer noopener" target="_blank">https://github.com/Whonix/Whonix/issues/94</a></span>
</li>
<li id="cite_note-13"><span class="mw-cite-backlink"><a href="#cite_ref-13">â</a></span> <span class="reference-text">Unless it is a "transparent proxy" in sense of sending http forwarded for, covered in the <a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" href="https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN" rel="noreferrer noopener" target="_blank">Tor Plus VPN or proxy</a> article.</span>
</li>
<li id="cite_note-14"><span class="mw-cite-backlink"><a href="#cite_ref-14">â</a></span> <span class="reference-text"><a class="external free" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" href="https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO</a></span>
</li>
<li id="cite_note-15"><span class="mw-cite-backlink"><a href="#cite_ref-15">â</a></span> <span class="reference-text">...and not just TransPort, which is a security feature: <a data-href="/wiki/Stream_Isolation" href="../Stream_Isolation.html" title="Stream Isolation">Stream Isolation</a>.</span>
</li>
<li id="cite_note-16"><span class="mw-cite-backlink"><a href="#cite_ref-16">â</a></span> <span class="reference-text">see <a data-href="/wiki/Dev/Inspiration" href="../Dev/Inspiration.html" title="Dev/Inspiration">Dev/Inspiration</a></span>
</li>
<li id="cite_note-17"><span class="mw-cite-backlink"><a href="#cite_ref-17">â</a></span> <span class="reference-text"><a class="external text" data-href="https://trac.torproject.org/projects/tor/ticket/3455" href="https://trac.torproject.org/projects/tor/ticket/3455" rel="noreferrer noopener" target="_blank">Bug #3455: Tor Browser should set SOCKS username for a request based on referer</a></span>
</li>
<li id="cite_note-18"><span class="mw-cite-backlink"><a href="#cite_ref-18">â</a></span> <span class="reference-text">Such as the Tor, <a data-href="/wiki/JonDonym" href="../JonDonym.html" title="JonDonym">JonDonym</a> or <a data-href="/wiki/I2P" href="../I2P.html" title="I2P">I2P</a> software.</span>
</li>
<li id="cite_note-19"><span class="mw-cite-backlink"><a href="#cite_ref-19">â</a></span> <span class="reference-text">Using .anondist-orig, i.e. /usr/bin/wget.anondist-orig will circumvent the wget uwt wrapper.</span>
</li>
<li id="cite_note-20"><span class="mw-cite-backlink"><a href="#cite_ref-20">â</a></span> <span class="reference-text"><a class="external free" data-href="https://trac.torproject.org/projects/tor/wiki/doc/torsocks#WorkaroundforIPv6leakbug" href="https://trac.torproject.org/projects/tor/wiki/doc/torsocks" rel="noreferrer noopener" target="_blank">https://trac.torproject.org/projects/tor/wiki/doc/torsocks#WorkaroundforIPv6leakbug</a></span>
</li>
<li id="cite_note-21"><span class="mw-cite-backlink"><a href="#cite_ref-21">â</a></span> <span class="reference-text">anonymizing middlebox</span>
</li>
<li id="cite_note-22"><span class="mw-cite-backlink"><a href="#cite_ref-22">â</a></span> <span class="reference-text">by uwt socksifier or proxy settings</span>
</li>
<li id="cite_note-23"><span class="mw-cite-backlink"><a href="#cite_ref-23">â</a></span> <span class="reference-text">local redirection</span>
</li>
<li id="cite_note-24"><span class="mw-cite-backlink"><a href="#cite_ref-24">â</a></span> <span class="reference-text"><a class="external text" data-href="https://trac.torproject.org/projects/tor/wiki/doc/TorBOX/OptionalConfigurations?version=129#TransparentProxying" href="https://trac.torproject.org/projects/tor/wiki/doc/TorBOX/OptionalConfigurations?version=129" rel="noreferrer noopener" target="_blank">torproject.org wiki version 129</a> contains an old example using privoxy, JonDo and httpsdnsd. The new example uses redsocks and is simpler.</span>
</li>
<li id="cite_note-25"><span class="mw-cite-backlink"><a href="#cite_ref-25">â</a></span> <span class="reference-text"><a class="external free" data-href="https://en.wikipedia.org/wiki/Comparison_of_DNS_server_software" href="https://en.wikipedia.org/wiki/Comparison_of_DNS_server_software" rel="noreferrer noopener" target="_blank">https://en.wikipedia.org/wiki/Comparison_of_DNS_server_software</a></span>
</li>
<li id="cite_note-26"><span class="mw-cite-backlink"><a href="#cite_ref-26">â</a></span> <span class="reference-text">You can't simply add another public DNS resolver (i.e. OpenDNS or Google) to /etc/resolv.conf in Whonix-Workstation â¢ (i.e. Tor -&gt; public DNS resolver), it would have no effect, as explained under <a data-href="/wiki/Install_Software#Whonix-Workstation_is_firewalled" href="../Install_Software.html" title="Install Software">Whonix-Workstation â¢ is firewalled</a>.</span>
</li>
<li id="cite_note-27"><span class="mw-cite-backlink"><a href="#cite_ref-27">â</a></span> <span class="reference-text">Also <a data-href="/wiki/Secondary_DNS_Resolver#httpsdnsd_by_JonDos" href="../Secondary_DNS_Resolver.html" title="Secondary DNS Resolver">Secondary DNS Resolver#httpsdnsd by JonDos</a> might work, but you'd need to make some changes (use httpsdnsd as a system wide, Whonix-Workstation â¢ wide, DNS resolver, not just for a specific user account).</span>
</li>
<li id="cite_note-28"><span class="mw-cite-backlink"><a href="#cite_ref-28">â</a></span> <span class="reference-text">DNSCrypt and httpsdnsd add the advantage, that neither the proxy nor the Tor exit relay can sniff or manipulate your DNS requests, since they are encrypted and authenticated.</span>
</li>
<li id="cite_note-29"><span class="mw-cite-backlink"><a href="#cite_ref-29">â</a></span> <span class="reference-text">Or perhaps also <a class="external text" data-href="http://www.mulliner.org/collin/ttdnsd.php" href="http://www.mulliner.org/collin/ttdnsd.php" rel="noreferrer noopener" target="_blank">ttdnsd</a> with Google could work.</span>
</li>
<li id="cite_note-30"><span class="mw-cite-backlink"><a href="#cite_ref-30">â</a></span> <span class="reference-text"><a class="external free" data-href="https://help.riseup.net/en/openvpn-linux" href="https://help.riseup.net/en/openvpn-linux" rel="noreferrer noopener" target="_blank">https://help.riseup.net/en/openvpn-linux</a></span>
</li>
</ol></div></div>
<hr/>
<p><font size="-1">No user support in comments. See <a data-href="/wiki/Support" href="../Support.html" title="Support">Support</a>.
</font></p><p><font size="-1">Comments will be deleted after some time. Specifically after comments have been addressed in form of wiki enhancements. See <a data-href="/wiki/Wiki_Comments_Policy" href="../Wiki_Comments_Policy.html" title="Wiki Comments Policy">Wiki Comments Policy</a>.</font>
</p>
<div class="comments-body"><div class="c-order">
<div class="c-order-select">
<p class="mw-empty-elt"> </p><form action="" name="ChangeOrder">
<select name="TheOrder">
<option value="0">Sort by date</option>
<option value="1">Sort by score</option>
</select>
</form>
<p class="mw-empty-elt"></p>
</div>
<div class="c-spy" id="spy">
<p> <a data-href="javascript:void(0)" href="javascript:void(0)">Enable comment auto-refresher</a>
</p>
</div>
<div class="visualClear"></div>
</div>
<p> <br/>
</p>
<div id="allcomments"></div><form action="" method="post" name="commentForm">
<div class="c-form-title">Add your comment</div>
<div class="c-form-reply-to" id="replyto"></div>
<div class="c-form-message">Whonix welcomes <b>all comments</b>. If you do not want to be anonymous, <a data-href="http://kkkkkkkkkk63ava6.onion/wiki/Special:UserLogin/signup" href="http://kkkkkkkkkk63ava6.onion/wiki/Special:UserLogin/signup">register</a> or <a data-href="http://kkkkkkkkkk63ava6.onion/wiki/Special:UserLogin" href="http://kkkkkkkkkk63ava6.onion/wiki/Special:UserLogin">log in</a>. It is free.</div>
<p><textarea cols="64" id="comment" name="commentText" rows="5"></textarea>
</p>
<div class="c-form-button"><input class="site-button" type="button" value="Post comment"/></div>
<p><input name="action" type="hidden" value="purge"/>
<input name="pageId" type="hidden" value="3888"/>
<input name="commentid" type="hidden"/>
<input name="lastCommentId" type="hidden" value="0"/>
<input name="commentParentId" type="hidden"/>
<input name="cpage" type="hidden" value="1"/>
<input name="token" type="hidden" value="+\"/></p></form>
<p class="mw-empty-elt"></p>
<a id="end" rel="nofollow"></a></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Want to get involved with Whonix â¢? Check out our <a class="external text" data-href="../Contribute" href="../Contribute" rel="noreferrer noopener" target="_blank">Contribute</a> page.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="https://www.Whonix.org/wiki/Deprecated/Using_Tunnels_with_Whonix" href="https://www.Whonix.org/wiki/Deprecated/Using_Tunnels_with_Whonix" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="../Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Deprecated/Using_Tunnels_with_Whonix" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Deprecated/Using_Tunnels_with_Whonix" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=../Deprecated/Using_Tunnels_with_Whonix&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Deprecated/Using_Tunnels_with_Whonix&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Deprecated/Using_Tunnels_with_Whonix" href="https://facebook.com/sharer.php?u=../Deprecated/Using_Tunnels_with_Whonix">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! Read, understand and agree to <a data-href="/wiki/Whonix:Copyrights#Conditions_for_Contributions_to_Whonix_.E2.84.A2" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">Conditions for Contributions to Whonix â¢</a>, then <a data-href="/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;action=edit">Edit</a>! Edits are held for moderation.
</font></p><p><font size="-1">Copyright (C) 2012 - 2019 ENCRYPTED SUPPORT LP. <a data-href="/wiki/Whonix_Trademark_Policy" href="../Whonix_Trademark_Policy.html" title="Whonix Trademark Policy">Whonix â¢ is a trademark.</a> Whonix â¢ is a <a class="external text" data-href="https://www.openinventionnetwork.com/licensees.php" href="https://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the <a class="external text" data-href="https://www.openinventionnetwork.com" href="https://www.openinventionnetwork.com" rel="noreferrer noopener" target="_blank">Open Invention Network</a>. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Freedom Software <a data-href="/wiki/Whonix:Copyrights#License" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">license</a> as Whonix â¢ itself. (<a data-href="/wiki/Why_Whonix_is_Freedom_Software" href="../Why_Whonix_is_Freedom_Software.html" title="Why Whonix is Freedom Software">Why?</a>)
</font></p><p><font size="-1">Whonix â¢ is a derivative of and not affiliated with <a class="external text" data-href="https://www.debian.org" href="https://www.debian.org" rel="noreferrer noopener" target="_blank">Debian</a>. <a class="external text" data-href="https://www.debian.org/trademark" href="https://www.debian.org/trademark" rel="noreferrer noopener" target="_blank">Debian is a registered trademark</a> owned by <a class="external text" data-href="https://www.spi-inc.org/" href="https://www.spi-inc.org/" rel="noreferrer noopener" target="_blank">Software in the Public Interest, Inc</a>.
</font></p><p><font size="-1">Whonix â¢ is produced independently from the Tor<a class="external text" data-href="https://2019.www.torproject.org/docs/trademark-faq.html.en" href="https://2019.www.torproject.org/docs/trademark-faq.html.en" rel="noreferrer noopener" target="_blank">Â®</a> anonymity software and carries no guarantee from <a class="external text" data-href="https://www.torproject.org" href="https://www.torproject.org" rel="noreferrer noopener" target="_blank">The Tor Project</a> about quality, suitability or anything else.
</font></p><p><font size="-1">By using our website, you acknowledge that you have read, understood and agreed to our <a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a>, <a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a>, <a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a>, and <a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a>. Whonix â¢ is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>.
</font>
</p>
<!-- 
NewPP limit report
Cached time: 20190527160226
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.236 seconds
Real time usage: 0.295 seconds
Preprocessor visited node count: 2682/1000000
Preprocessor generated node count: 6004/1000000
Postâexpand include size: 57557/2097152 bytes
Template argument size: 18965/2097152 bytes
Highest expansion depth: 10/40
Expensive parser function count: 0/100
Unstrip recursion depth: 1/20
Unstrip postâexpand size: 22708/5000000 bytes
Lua time usage: 0.010/7.000 seconds
Lua virtual size: 7.59 MB/50 MB
Lua estimated memory usage: 0 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  210.611      1 -total
 55.37%  116.605     19 Template:Box
 40.53%   85.354     41 Template:CodeSelect
 23.63%   49.777     11 Template:Open_with_root_rights
 15.73%   33.138      1 Template:Firewall_Settings
 14.01%   29.512      3 Template:Mbox
  6.28%   13.232      1 Template:Reflist
  5.65%   11.903      1 Template:Reload_Tor
  4.74%    9.983      1 Template:Reload_Firewall
  4.45%    9.364      1 Template:Footer
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="http://kkkkkkkkkk63ava6.onion/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;oldid=46390" dir="ltr" href="http://kkkkkkkkkk63ava6.onion/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;oldid=46390">http://kkkkkkkkkk63ava6.onion/w/index.php?title=Deprecated/Using_Tunnels_with_Whonix&amp;oldid=46390</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Categories</a>: <ul><li><a class="new" data-href="/w/index.php?title=Category:Noindexed_pages&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Category:Noindexed_pages&amp;action=edit&amp;redlink=1.html" title="Category:Noindexed pages (page does not exist)">Noindexed pages</a></li><li><a data-href="/wiki/Category:Documentation" href="../Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 25 April 2019, at 15:56.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Cookie_Policy"><a data-href="/wiki/Cookie_Policy" href="../Cookie_Policy.html" title="Cookie Policy">Cookie Policy</a></li>
<li id="footer-Terms_of_Service"><a data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-DMCA"><a class="mw-redirect" data-href="/wiki/DMCA" href="../DMCA.html" title="DMCA">DMCA</a></li>
<li id="footer-E_Sign_Consent"><a data-href="/wiki/E-Sign_Consent" href="../E-Sign_Consent.html" title="E-Sign Consent">E-Sign Consent</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20190527160226 -->
</html>
