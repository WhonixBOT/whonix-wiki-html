<!DOCTYPE html>
<html class="client-nojs" dir="ltr" lang="en"><!-- 
 single html processed by https://github.com/zTrix/webpage2html
 title: Deprecated/grsecurity - Whonix
 url: ../Deprecated/grsecurity
 date: Sat Jan  5 07:36:44 2019
-->
<head>
<meta charset="utf-8"/>
<title>Deprecated/grsecurity - Whonix</title>
<link rel="stylesheet" type="text/css" href="../style.css">




<meta content="" name="ResourceLoaderDynamicStyles"/>

<meta content="MediaWiki 1.31.1" name="generator"/>
<meta content="" name="google-site-verification"/>
<meta content="https://www.whonix.org/w/images/b/bb/Padlocks-597815640.jpg" name="image"/>
<meta content="https://www.whonix.org/w/images/b/bb/Padlocks-597815640.jpg" name="twitter:image:src"/>
<meta content="summary_large_image" name="twitter:card"/>
<meta content="@Whonix" name="twitter:site"/>
<meta content="Whonix" name="twitter:domain"/>
<meta content="@Whonix" name="twitter:creator"/>
<meta content="grsecurity installation instructions" name="description"/>
<meta content="grsecurity installation instructions" name="twitter:description"/>
<meta content="width=device-width, user-scalable=yes, initial-scale=1.0" name="viewport"/>
<link data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit" rel="alternate.html" title="Edit" type="application/x-wiki"/>
<link data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit" rel="edit.html" title="Edit"/>
<link data-href="/favicon.ico" href="https://www.whonix.org/favicon.ico" rel="shortcut icon"/>
<link data-href="/w/opensearch_desc.php" href="https://www.whonix.org/w/opensearch_desc.php" rel="search.html" title="Whonix (en)" type="application/opensearchdescription+xml"/>
<link data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/api.php?action=rsd" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/api.php?action=rsd" rel="EditURI" type="application/rsd+xml"/>
<link data-href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" href="https://www.whonix.org/w/index.php?title=Special:RecentChanges&amp;feed=atom" rel="alternate.html" title="Whonix Atom feed" type="application/atom+xml"/>
<meta content="article" property="og:type"/>
<meta content="Whonix" property="og:site_name"/>
<meta content="Deprecated/grsecurity" property="og:title"/>
<meta content="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Deprecated/grsecurity" property="og:url"/>
<meta content="https://www.whonix.org/w/images/b/bb/Padlocks-597815640.jpg" property="og:image"/>
<meta content="grsecurity installation instructions" property="og:description"/>

<meta content="" property="fb:app_id"/>
<meta content="" property="fb:admins"/>
<meta content="https://www.facebook.com/Whonix" property="article:author"/>
<meta content="https://www.facebook.com/Whonix" property="article:publisher"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=foreground&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Deprecated_grsecurity rootpage-Deprecated skin-foreground action-view"><div id="navwrapper"><!-- START FOREGROUNDTEMPLATE -->

</div>
<div id="page-content">
<div class="row">
<div class="large-12 columns">
<!-- Output page indicators -->
<div class="mw-indicators mw-body-content">
</div>
<!-- If user is logged in output echo location -->
<!--[if lt IE 9]>
				<div id="siteNotice" class="sitenotice panel radius">Whonix may not look as expected in this version of Internet Explorer. We recommend you upgrade to a newer version of Internet Explorer or switch to a browser like Firefox or Chrome.</div>
				<![endif]-->
<div class="sitenotice" id="siteNotice"><div dir="ltr" id="localNotice" lang="en"><div class="mw-parser-output"><p><style type="text/css">

#banner {
 position: relative;
 overflow: hidden;
 margin-bottom: 0.5em !important;
 margin-top: 0.5em !important;
 background-color:#D03232;
 border: solid 1px #aaaaaa; 
 height:66px;
}

#banner a.cn-full-banner-click {
 display:block;
 height:100%;
 width:100%;
 cursor: pointer;
}


#banner-logo {
 position: absolute;
 top: 8px;
 left: 15px;
 background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAArCAYAAAA65tviAAANxklEQVRo3rWae3Ad1X3HP2d3r65elmz5KcvyA0u2MQYbcIyhNgNI40wcHAdKIDjM5EFC0oaB0nTS0Jl22ukj09CmnaRNJ7QpTMorpQWSQoITiRjimNi4NTa2ZVvGT0m2JEuWru5D997d8+sf5+zdvZJsnHS6M5rV2bv39/t9f+/zO1cxxdUGdJp7nYKPAXcLrAEWAnkFx4E3gVc74KcA7UAHV3a12bvlMVfBBoGNClYCswFf4CSwD9ip4JcdoC/HQ031sN3cPifwPftIAKViC0AUKPv/VmVA6SsF1AazgBcUtEmMx4TX4s++ADzdCX6o6EsCCV9oNxpfKoCL4VgD1NYkmdEwjZHRDCdSOUZBHAtQ4JyClg7IXs4S1gqdwO1WEQKoGZZHwkpfAMbsX+zKKVjRAWcuaZFQk+3QDbRooAlomlHDnffdQuPCWVTVJEELIkIhm2fw/Agdb3Wx/cCZUABfwbYOeHEqrbXBastmlg/SXFWhPr7uKhbOrqW2sgLXUSjR5Md9xtLj9A2k2LHvDKNaOAcikdAPdMBzk4CEINqgU8EdClgErFvfyub7bkGs8IhAoBGtES2gBc9RnD45wJM/fIczF9LiGpqPdMC32ywDq6C7gJc0SLXnqE/d3MJNKxopFAMkCOkZ2mhBtEZpcBB2vtfDO8cH6QfS1qWBrR3wo1BhcYt8FHhVLIgbb1jC1gc2orUxvmEQAQjXBOb/hOvwrWd38t8nBnAMycc64O+tJTYreE2DLG6oVX/8iQ8ZACEtMSDQIBICMYoTLagg4PxgipffPkEvkDJgAoEZnZAGUDawqwVGgMQcYHnjDB786laUgNaC0trcRaM1pTWWWSiM0gE/+Mk+fvruaVEmdr4osNtmH3XT0jl89o5rEMczfhIqRkIwEoHQgkIsf0EXCwz1D/GDX52iBxOIAqMYMBK61j0CL7rAEuAP/vx+KuumWUEjZsQ0KFaDaF0SQkRw/IDnfryb7QfOigdFBa6Ae9vVjXxyw9VQWRvRjLuspuRWEIKJ0RfQmTF27TvO3p5RjofCw291wtvKmj4FTGsC1t+4hLse3IwOiAlcrjWxWgqFmChUopDlb5/bwf4zwyigdW4dj915A279bBCrgDg9kUk8jDsbRZZ4APT38a87DtNb0NJvQqO3ExaoNlim4KiALAL1xUe3sODqlijgxPit6BiDmE9PLRDI0Dm+9tTPyRV8/vq+dVQ0LkIpJxKqRKfcPc3nhm75c/MsyKTZt2svO86m5ERU21pUG9wDvOgBS4E/ffIxiiRQlogWo/0yAGHsxC1S0pplHmgGDu7DVTB98TLcZFUkUJlLWR4SKUVKtGN8LN3ssS4yg4M89V4/p8EPwAPuUW3wd8CjM0FtWNnE/Y9/nmIhiOLDMii5lAiC1VqoTSItx10kGB0m33uaqmWrSxoWGw9l67LvESkj5A3oXJb0u3vR2QyegmcPDnLa18EQuAq+pdpsCVkM3Pup21nzkXa07xuBY24wyX9DjYYgofRZFDcayY+jKipj7xMJiZQDiNEUAeW4+BeHyR49SHHgHIICLTgi7OpL8+7FcX0KHOAN1Q6nBBYtAx78w200r15t0yI20JhCiNhayn14olCircBhZiq5CdaSsc/F1GjRmuJgP7ljhyj09YByI7cOTPB3j+TlF/1ZjpkY6VVtMKqgrgX48l/8LnNbW21miQnIhAAsgZta+Agg5WvibgSClJot8X2kWCB79DDZg/tCj40KZKCjVBwIg7kir/VlpdsAyag28B1wlwKPfOMxZi9tMSlXImZl2itxIEqJZaBCoSc/FxHTSihT+8X3yR0/QrbrAH4qBcWCLbQ25etY6xLoMpcdzPm81j8u3da+qt3WkBbg4b96hMY1NyK+T5BNQ7GI9ouGsOOilAuuh/ISKC8BjhMJGsZJ6Cl+ET2eQ+dyBOkU/uhFgpGLFEcuojNjBOkxdDYTKaOs9bH3QGItS9QOIZqBXMBPLhSwFrmo2swGZnEr8NnPtTGzvpIgO2aratQHSSCgTX8kQWCaR+vTSimjdN83nxV9xA/KqrYxUMyScW3HG8aSsBMa1NgaLZzOaXaMFEMgx1QbbAc2LQK2fewGFi1oQIcNYhBv5MK1BRcjOnEdarC0tt3tRH/H+nvIL/pe6F7lTWpIz1WKPakiezOaHgPkZdUOTwh8pQHUh1cv5LabW/F9P2pBAo3WGhVmMh2tdWDrimVatg50qeGMgEosYCPBDL1yt5JYrEj4LgqlwFPw7/0FugNhzPRcf6Ta4eMCLzvA6soEX/7MRvL5YlmrLjoKMuNSsVY7ZCJi3U+X/FiCqP0vuadE75i1pR/o8iY1iIFCULHNbF4Lz/QXOBltqm5TbbBAwVkBaQb1O7+9lrqaihITYkxEYj5sgcWzzCRNxvJ+6bMy4LH3YlYr21wRnxaYxHIsq3kz5XM6AlIZtvFngQVzgU3XNbPu2qYyJhN9dvJurnw9dUxMVMTkTZoBbmJSiZQDsMki4SheGSjQ5Qsp8/j7HfDpEMhGgbcc4Lqkx5c+sZZCvoiUNlGRayixwWmFDdcqiKwjsc3YxLWJLR19T8uk9UQAIQg3WUFfpsB/XShwygw+RGC+gn5l99VJgRzAHFCbr23i+ta5UUxom2qDmOaEqNpewjIywcWiLjm+jqw8lRXiV8OmtTz1zC6OBsYaCo53QOvEKcrDwLcdYJXn8IUt1+H7QVlMXFJAmZgM4rVHXzobaX1FACTQ1K5azClVwX90HqLHWANgVgcMl4DE5lm9Ao11oDY01rFpTbN1o8jfQwHD2lIW/GJS8AfVBDfQjAaaM55mSU6hqgKCGo3ruUhRcMcdvHEHsw/TVC2dT2L5Qr7z9E7eFyEwIJ7tgAemnGsJtCv4mYBcBWrb+iU01FbYGhHb8gaxAhZbhxlHTWoton19Rgf8W33AS+th0eKAh+bUcO/tH6a+ehEnuodQY/0Mv/8e+aODsF2Y0dxMdUsTz7y6n/8ZTDFuhO7vgHmXHZm2wz8LfN4BrgI+fctiqjynlE0+qCZQEAb8AskV4+STASrr4A079J1x+UarT9PmDaxddyNVlZVsa/guS5s2QDpF14FBBntS1JMnfSFPX1+BG2a4nOtqYs/eAXafHmIoEnhlB3R94Mi0zUwbl1aAWlXhsm1tc6kah5U5KlpmrQrC6Kocrb+3glmt13C8u0CtCiiOpRjuOU/63FlSmSSvL7+J/MxqChmfx5v/k2leLe54kQt9gjMODY5LrXZpUB6jvT5/9p0Mp/qD0ngWuKsDXvnAIbbNYjOBfgG3BlhdneCuVXPLKnB54Gvy84p86McuycJGcoMj+OkM3YeGkGweP1VgdCigSmBa1ueha6+hKqlZevYEH6kfYdEMl+uaPLycS5BSDPcJR44GPH80zytKqDwJc0agZoQn3oKvXvE03rpYo8BpIFENLE843LtyDo5M0RCKMNRU4OZnAsZ6k1T4PvmLmvSwIp9ymFPh0lTjQdph554MW1oqSSQ0dZWaRE4z60SOm6qEGRqCPLw7BscbwFsCugqyBeh/H0lfROkxzjHOz+jlbXz208WviGZck48V7Lx2OXBEQCpAtTqKbcsbcEVKk8fQxfJFYfvmDNs+6VAvCZqmuZB2IOtAxmGgJ2DnngzfPKv55a2gqmB6JdQloaYCqj2o8MCz/iNiDknyPmSLkC4io+Oo1Lgd1x/G53VaSXPqshaJxctKBYcEJAFqmaPYvKCWhoQzqf0eKWoOJjUXmjXzlgvzZgEZuNAD/3hSOFMJ2fnA9YZHpQczqmBaAqoroNKFhGv2a5gOn2IAOR8yRUjlYfQCFE4BDfTzHL/PKNuBEXUlJ0zt0GLnt7WANIHaNKuS5TUuxVjqVUoRCGS1kCpC1u50k47R7gsP+Lx6UEPSzGad2VBfC/UVUJuAqgRUuOCGVsEMrvIBZAMYPGuUQjNQARziNC9xPwHdVwTEJgAHOGrPTmQmqNVJh1uneyQcs0O8THFmZExo2ac43zWdh54foGtAoA4qF0PDfKithOoEVFn3KllFQ1HDuRNwpgej0jzQhzAdxZPcTZbdVwRkQvX/EbBFMCO+RcBHGxLMSSozyhFjmUkNX6DYf2+RNZshWXAZueiw5fk8qWpQLjSvhbrp1ioOePagRRR07YKBgmXWC0zHbJ8HKfIid5L7NYBMOBC6XcEbYg9dpgPXJBTtMxN4qtw6IoJyHZyqJIHn0eWNs2dBhqXL4I6Vis7DIo8fQWkXKucizU2oucvMLlAVYPebkJ0N1GE2G/OB83a9nb/kKE9R5MSvBWQCqOnA08BWAfFAzQLWV7tcX+fhKTsScx2cigSugsMX8+wfydOt4YI9J3SAcfj6gXUo6vkajeZMscaF3Djoq8zJDg5QQHBRnOUX/JBvAnuBPkD/X4CEKfo+gX9QMEuDVIFqAG6d5tFS7eB6Lj3jATuGCgwBw7EDVODnHtz9ujlkgnpWsJ4dNDKXuTag+4F6hGEUVfTyPb5OjjeAc4Tfu1z6/Q1i52+AR8WEDgnrBa71hGx09idihLi+EwbKDk0TQJF6NrOHFpYhCEUUHgHbeYJu/gVjzNErruy/CRj7A4M/EfhKnLhEIN7B/Pigp5NL/MigGTiLyx28wGru4Qjf5xgP8z5piGaA/y9ApgA2D/gSBlAS+K6Cf+qAw1dE4GngM0ArK+nm8JQ/JZhw/S9dtEONwVO5dQAAAABJRU5ErkJggg==);
 height: 50px;
 width: 100%;
 background-repeat: no-repeat;
}

#banner #black-text {
 font-size: 1.1em;
 color: white;
 padding: 0.5em 40px 0.4em 60px;
 line-height: 1.3em;
 text-align: center;
}
</style>
</p><div id="banner">
<a class="cn-full-banner-click" data-href="/wiki/Payments" href="../Payments.html" title="">
<div id="banner-logo"></div>
<div id="black-text">
Whonix requires money to stay alive.
     </div>
</a>
</div>
</div></div></div> </div>
</div>
<div id="mw-js-message" style="display:none;"></div>
<div class="row">
<div class="large-12 columns" id="p-cactions">
<a class="button small secondary radius" data-dropdown="actions" data-options="align:left; is_hover: true; hover_timeout:700" href="#" id="actions-button"><i class="fa fa-cog"><span class="show-for-medium-up"> Actions</span></i></a>
<!--RTL -->
<ul class="f-dropdown" data-dropdown-content="" id="actions">
<li class="selected" id="ca-nstab-main"><a accesskey="c" data-href="/wiki/Deprecated/grsecurity" href="../Deprecated/grsecurity.html" title="View the content page [c]">Page</a></li><li class="new" id="ca-talk"><a accesskey="t" data-href="/w/index.php?title=Talk:Deprecated/grsecurity&amp;action=edit&amp;redlink=1" href="https://www.whonix.org/w/index.php?title=Talk:Deprecated/grsecurity&amp;action=edit&amp;redlink=1" rel="discussion.html" title="Discussion about the content page (page does not exist) [t]">Discussion</a></li><li id="ca-edit"><a accesskey="e" data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit.html" title="Edit this page [e]">Edit</a></li><li id="ca-history"><a accesskey="h" data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=history" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=history.html" title="Past revisions of this page [h]">History</a></li> </ul>
<!--RTL -->
<div id="content">
<h1 class="title" id="firstHeading">Deprecated/grsecurity</h1>
<h5 class="subtitle" id="siteSub"><span class="subpages">&lt; <a data-href="/wiki/Deprecated" href="../Deprecated.html" title="Deprecated">Deprecated</a></span></h5>
<div class="clear_both" id="contentSub"></div>
<div class="mw-bodytext" id="bodyContent">
<div class="mw-content-ltr" dir="ltr" id="mw-content-text" lang="en"><div class="mw-parser-output"><p><br/>
</p>
<div class="toc" id="toc"><div class="toctitle" dir="ltr" lang="en"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Grsecurity_.2B_Pax"><span class="tocnumber">1</span> <span class="toctext">Grsecurity + Pax</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Introduction"><span class="tocnumber">1.1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#How-To:_Non-Qubes-Whonix"><span class="tocnumber">1.2</span> <span class="toctext">How-To: Non-Qubes-Whonix</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Grsecurity_Kernel_Setup"><span class="tocnumber">1.2.1</span> <span class="toctext">Grsecurity Kernel  Setup</span></a>
<ul>
<li class="toclevel-4 tocsection-5"><a href="#Upgraded_Kernel_Builds"><span class="tocnumber">1.2.1.1</span> <span class="toctext">Upgraded Kernel Builds</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-6"><a href="#Gradm"><span class="tocnumber">1.2.2</span> <span class="toctext">Gradm</span></a>
<ul>
<li class="toclevel-4 tocsection-7"><a href="#Compilation_and_Installation"><span class="tocnumber">1.2.2.1</span> <span class="toctext">Compilation and Installation</span></a></li>
<li class="toclevel-4 tocsection-8"><a href="#Usage"><span class="tocnumber">1.2.2.2</span> <span class="toctext">Usage</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#How-To:_Qubes-Whonix"><span class="tocnumber">1.3</span> <span class="toctext">How-To: Qubes-Whonix</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Debian_TemplateVM"><span class="tocnumber">1.3.1</span> <span class="toctext">Debian TemplateVM</span></a>
<ul>
<li class="toclevel-4 tocsection-11"><a href="#Configuring_the_Debian_TemplateVM"><span class="tocnumber">1.3.1.1</span> <span class="toctext">Configuring the Debian TemplateVM</span></a></li>
<li class="toclevel-4 tocsection-12"><a href="#Building_the_grsec_Coldkernel"><span class="tocnumber">1.3.1.2</span> <span class="toctext">Building the grsec Coldkernel</span></a></li>
<li class="toclevel-4 tocsection-13"><a href="#Installing_the_grsec_Coldkernel"><span class="tocnumber">1.3.1.3</span> <span class="toctext">Installing the grsec Coldkernel</span></a></li>
<li class="toclevel-4 tocsection-14"><a href="#Post-install_TemplateVM_Configuration"><span class="tocnumber">1.3.1.4</span> <span class="toctext">Post-install TemplateVM Configuration</span></a></li>
<li class="toclevel-4 tocsection-15"><a href="#Post-install_Debian_AppVM_Configuration"><span class="tocnumber">1.3.1.5</span> <span class="toctext">Post-install Debian AppVM Configuration</span></a></li>
<li class="toclevel-4 tocsection-16"><a href="#Upgraded_Kernel_Builds_2"><span class="tocnumber">1.3.1.6</span> <span class="toctext">Upgraded Kernel Builds</span></a></li>
</ul>
</li>
<li class="toclevel-3 tocsection-17"><a href="#Fedora_TemplateVM"><span class="tocnumber">1.3.2</span> <span class="toctext">Fedora TemplateVM</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Whonix_TemplateVMs"><span class="tocnumber">1.3.3</span> <span class="toctext">Whonix TemplateVMs</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="#Qubes_DisposableVM"><span class="tocnumber">1.3.4</span> <span class="toctext">Qubes DisposableVM</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Qubes_dom0"><span class="tocnumber">1.3.5</span> <span class="toctext">Qubes dom0</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-21"><a href="#Footnotes"><span class="tocnumber">2</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>
<h1><span id="Grsecurity_+_Pax"></span><span class="mw-headline" id="Grsecurity_.2B_Pax">Grsecurity + Pax</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=1" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=1.html" title="Edit section: Grsecurity + Pax">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=2" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=2.html" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Grsecurity is a GPL licensed, extensive security enhancement to the Linux kernel that defends against a wide range of security threats through intelligent access control, memory corruption-based exploit prevention, and a host of other system hardening that generally require no configuration. It has been actively developed and maintained for the past 14 years. Commercial support for Grsecurity is available through Open Source Security, Inc.
</p><p>Instead of chasing and fixing individual bugs, Grsecurity and PaX end exploitation of entire bug classes and provide kernel self-protection against zero-days.
</p>
<h2><span class="mw-headline" id="How-To:_Non-Qubes-Whonix">How-To: Non-Qubes-Whonix</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=3" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=3.html" title="Edit section: How-To: Non-Qubes-Whonix">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Grsecurity_Kernel_Setup">Grsecurity Kernel  Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=4" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=4.html" title="Edit section: Grsecurity Kernel Setup">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This guide is to get you up and running with the latest Grsecurity kernel inside a KVM Whonix guest or Host. VirtualBox is incompatible with many important defenses provided in <a class="mw-redirect" data-href="/wiki/Grsecurity" href="../Grsecurity.html" title="Grsecurity">Grsecurity</a> hardened kernels including KERNEXEC, UDEREF, and RANDKSTACK.<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> The instructions here are inspired by the <a class="external text" data-href="https://en.wikibooks.org/wiki/Grsecurity" href="https://en.wikibooks.org/wiki/Grsecurity" rel="noreferrer noopener" target="_blank">official Grsecurity guide</a> but adapted for the command line and includes helpful information not mentioned in the original. It will cover downloading, verifying, configuring, compiling and installing the hardened kernel and how to install and use its admin tools. With minimal changes you can compile another architecture. There are many attempts to automate this and get them in upstream Debian but a solution is yet to exist.
</p><p>The kernel should be anonymously compiled in Whonix-Workstation. Be sure to add more CPUs to speed up the compilation process before starting.
</p><p>Import and verify developer keys. Always check the fingerprint for yourself: 
</p>
<pre>pub  4096R/0x44D1C0F82525FE49 2013-11-10 Bradley Spengler (spender) &lt;spender@grsecurity.net&gt;
      Key fingerprint = DE94 52CE 46F4 2094 907F  108B 44D1 C0F8 2525 FE49
</pre>
<pre>pub   4096R/0x38DBBDC86092693E 2011-09-23
      Key fingerprint = 647F 2865 4894 E3BD 4571  99BE 38DB BDC8 6092 693E
</pre>
<p><br/>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>gpg --recv-keys "DE94 52CE 46F4 2094 907F  108B 44D1 C0F8 2525 FE49"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gpg --recv-keys "DE94 52CE 46F4 2094 907F  108B 44D1 C0F8 2525 FE49"</textarea>
</div>
</div>
<p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>gpg --recv-keys "647F 2865 4894 E3BD 4571  99BE 38DB BDC8 6092 693E"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gpg --recv-keys "647F 2865 4894 E3BD 4571  99BE 38DB BDC8 6092 693E"</textarea>
</div>
</div>
<p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>gpg --list-keys --fingerprint "DE94 52CE 46F4 2094 907F  108B 44D1 C0F8 2525 FE49"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gpg --list-keys --fingerprint "DE94 52CE 46F4 2094 907F  108B 44D1 C0F8 2525 FE49"</textarea>
</div>
</div>
<p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>gpg --list-keys --fingerprint "647F 2865 4894 E3BD 4571  99BE 38DB BDC8 6092 693E"</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gpg --list-keys --fingerprint "647F 2865 4894 E3BD 4571  99BE 38DB BDC8 6092 693E"</textarea>
</div>
</div>
<p>By the time you read this the file names may be outdated despite best efforts to keep this guide current so you may have to adjust file names accordingly.
</p><p>Download the latest components for your chosen hardware architecture (Only the Testing branch is freely available) and their matching signatures: <sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup> <sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>
</p><p><br/>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>scurl -J -O https://grsecurity.net/test/grsecurity-3.1-4.3.3-201512282134.patch
scurl -J -O https://grsecurity.net/test/grsecurity-3.1-4.3.3-201512282134.patch.sig
scurl -J -O https://grsecurity.net/stable/gradm-3.1-201507191652.tar.gz
scurl -J -O https://grsecurity.net/stable/gradm-3.1-201507191652.tar.gz.sig
scurl -J -O https://grsecurity.net/stable/grsecurity-2.2.0-iptables.patch
scurl -J -O https://grsecurity.net/stable/grsecurity-2.2.0-iptables.patch.sig
scurl -J -O https://grsecurity.net/paxctld/paxctld_1.0-4_i386.deb
scurl -J -O https://grsecurity.net/paxctld/paxctld_1.0-4_i386.deb.sig</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">scurl -J -O https://grsecurity.net/test/grsecurity-3.1-4.3.3-201512282134.patch
scurl -J -O https://grsecurity.net/test/grsecurity-3.1-4.3.3-201512282134.patch.sig
scurl -J -O https://grsecurity.net/stable/gradm-3.1-201507191652.tar.gz
scurl -J -O https://grsecurity.net/stable/gradm-3.1-201507191652.tar.gz.sig
scurl -J -O https://grsecurity.net/stable/grsecurity-2.2.0-iptables.patch
scurl -J -O https://grsecurity.net/stable/grsecurity-2.2.0-iptables.patch.sig
scurl -J -O https://grsecurity.net/paxctld/paxctld_1.0-4_i386.deb
scurl -J -O https://grsecurity.net/paxctld/paxctld_1.0-4_i386.deb.sig</textarea>
</div>
</div>
<p>Look at the matching kernel version number in the patch name grsecurity-3.1-<b>4.2.7</b>-201512092320.patch and fetch the tarball from kernel.org:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>scurl -J -O https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.3.3.tar.xz
scurl -J -O https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.3.3.tar.sign</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">scurl -J -O https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.3.3.tar.xz
scurl -J -O https://cdn.kernel.org/pub/linux/kernel/v4.x/linux-4.3.3.tar.sign</textarea>
</div>
</div>
<p><br/>
The command will verify everything just downloaded in the home directory. Look for file names that passed the check in this part of the output: assuming signed data in `paxctld_1.0-3_i386.deb'. You should see <b>Good signature from "Bradley Spengler (spender) &lt;spender@grsecurity.net&gt;</b> for each component.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>gpg --verify --multifile grsecurity* gradm* paxctld*</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gpg --verify --multifile grsecurity* gradm* paxctld*</textarea>
</div>
</div>
<p>The signature is made against the uncompressed version of the archive. This is done so there is only one signature required for .gz, .bz2 and .xz compressed versions of the release. Start by uncompressing the archive, using unxz. You should see <b>Good signature from "Greg Kroah-Hartman</b>:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-get install xz-utils
unxz linux*.tar.xz
gpg --verify linux*.tar.sign</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-get install xz-utils
unxz linux*.tar.xz
gpg --verify linux*.tar.sign</textarea>
</div>
</div>
<p>In this document the kernel source archive linux*.tar and the matching grsecurity patch grsecurity*.patch are both files are in the same directory.  
</p><p><br/>
</p><div class="codeContainerNew">
<div class="preDiv">
<pre>tar -xf linux*.tar
cd linux*
sudo patch -p1 &lt; ../grsecurity-*-*-*.patch</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">tar -xf linux*.tar
cd linux*
sudo patch -p1 &lt; ../grsecurity-*-*-*.patch</textarea>
</div>
</div>
<p>Install the build tools:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-get install flex bison libncurses5-dev fakeroot gcc-4.9-plugin-dev libgmp-dev libmpfr-dev libmpc-dev libssl-dev build-essential</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-get install flex bison libncurses5-dev fakeroot gcc-4.9-plugin-dev libgmp-dev libmpfr-dev libmpc-dev libssl-dev build-essential</textarea>
</div>
</div>
<p>See what version of GCC you have installed and install the matching plugin-dev packages for it.<sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>gcc -v</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">gcc -v</textarea>
</div>
</div>
<p>To open the kernel configuration menu run:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo make menuconfig</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo make menuconfig</textarea>
</div>
</div>
<p>Grsecurity is endlessly customizable and if you have different security requirements feel free to dive in the documentation<sup class="reference" id="cite_ref-5"><a href="#cite_note-5">[5]</a></sup><sup class="reference" id="cite_ref-6"><a href="#cite_note-6">[6]</a></sup> but be advised very high security settings usually break Xorg server and common packages like Iceweasel and OpenJDK. However for the purposes of compiling a kernel suitable for normal desktop use the Automatic configuration comes with sane defaults. Same for the other usage profiles provided. To have a bootable desktop you will need to disable PaX mprotect at first<sup class="reference" id="cite_ref-7"><a href="#cite_note-7">[7]</a></sup> It can be re-enabled later when an exception list is loaded.
</p><p>The configuration should look like this. A lack of mention means leave as default:
</p>
<pre>

Networking Support -&gt; Networking options -&gt; Network packet filtering framework (Netfilter) -&gt; IP:Netfilter Configuration -&gt; Enable: IPv4 masquerade support + iptables NAT support

Security options -&gt; Grsecurity -&gt; Configuration Method -&gt; Automatic
			       -&gt; Usage Type -&gt; Desktop
			       -&gt; Virtualization Type -&gt; Guest
			       -&gt; Virtualization Software -&gt; KVM		
                               -&gt; Required Priorities -&gt; Security	       
			       -&gt; Customize Configuration -&gt; PaX -&gt; Non-executable pages -&gt; Deselect: Restrict mprotect
                               -&gt; Customize Configuration -&gt; Memory Protections -&gt; Disable privileged I/O
                               -&gt; Customize Configuration -&gt; Role Based Access Control Options -&gt; Hide kernel processes
                               -&gt; Customize Configuration -&gt; Sysctl Support -&gt; Deselect: Sysctl support 
</pre>
<p>To save time you can compile one kernel for both the guest and host . NB This only works if you compiled a custom Whonix x64. A x64 Linux Host/Guest configuration would look like:
</p>
<pre>64-bit kernel

Networking Support -&gt; Networking options -&gt; Network packet filtering framework (Netfilter) -&gt; IP:Netfilter Configuration -&gt; Enable: IPv4 masquerade support + iptables NAT support

Security options -&gt; Grsecurity -&gt; Configuration Method -&gt; Automatic
			       -&gt; Usage Type -&gt; Desktop
			       -&gt; Virtualization Type -&gt; Host
			       -&gt; Virtualization Software -&gt; KVM
                               -&gt; Required Priorities -&gt; Security	       
			       -&gt; Customize Configuration -&gt; PaX -&gt; Non-executable pages -&gt; Deselect: Restrict mprotect
                               -&gt; Customize Configuration -&gt; Memory Protections -&gt; Disable privileged I/O
                               -&gt; Customize Configuration -&gt; Role Based Access Control Options -&gt; Hide kernel processes
                               -&gt; Customize Configuration -&gt; Sysctl Support -&gt; Deselect: Sysctl support 
</pre>
<p>Once you are done select save and keep the .config name then exit out of all menus.
</p><p><br/>
Compile while specifying the number of cores after the <b>-j</b> option. The number should be the number of cores assigned to the VM + 1. This will result in a huge speed up during compilation and reduce compilation time drastically.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo fakeroot make -j 5 deb-pkg</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo fakeroot make -j 5 deb-pkg</textarea>
</div>
</div>
<p>Now sit tight. Go make yourself a cup of coffee or read a book until its finished.
</p><p>To install your new packages including Pax's configuration utility in the guest run:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>cd ..
sudo dpkg -i linux-image-*-grsec_*-*_*.deb
sudo dpkg -i linux-firmware*.deb
sudo dpkg -i linux-headers*.deb
sudo dpkg -i linux-libc*.deb
sudo dpkg -i paxctld*.deb</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">cd ..
sudo dpkg -i linux-image-*-grsec_*-*_*.deb
sudo dpkg -i linux-firmware*.deb
sudo dpkg -i linux-headers*.deb
sudo dpkg -i linux-libc*.deb
sudo dpkg -i paxctld*.deb</textarea>
</div>
</div>
<p>Move the package to the host via a shared folder and install with dpkg from there.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>mv linux-image-*-grsec_*-*_*.deb /mnt/shared
mv linux-firmware*.deb /mnt/shared
mv linux-headers*.deb /mnt/shared
mv linux-libc*.deb /mnt/shared</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">mv linux-image-*-grsec_*-*_*.deb /mnt/shared
mv linux-firmware*.deb /mnt/shared
mv linux-headers*.deb /mnt/shared
mv linux-libc*.deb /mnt/shared</textarea>
</div>
</div>
<p>Done. After installation the system should automatically boot up with the Grsecurity kernel. To inspect the kernel version type:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>uname -r</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">uname -r</textarea>
</div>
</div>
<h4><span class="mw-headline" id="Upgraded_Kernel_Builds">Upgraded Kernel Builds</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=5" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=5.html" title="Edit section: Upgraded Kernel Builds">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Backup your customized kernel configuration file [named .config]. Its available in the root of the kernel source code folder. You may need to enable viewing of hidden files to see it. 
</p><p>To build with newer kernel releases, restore the .config file to the source folder and run:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo make oldconfig</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo make oldconfig</textarea>
</div>
</div>
<p>Hold 'Enter' to answer questions about new kernel features.
</p>
<h3><span class="mw-headline" id="Gradm">Gradm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=6" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=6.html" title="Edit section: Gradm">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Gradm is the administration tool for RBAC, Grsecurity's intelligent Mandatory Access Control system. Unlike other MACs that require painstaking attention to configuration, RBAC is capable of automatic behavior learning and auto-generating safe program acess policies.
</p>
<h4><span class="mw-headline" id="Compilation_and_Installation">Compilation and Installation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=7" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=7.html" title="Edit section: Compilation and Installation">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>To  prepare and compile:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>tar xzf gradm*.tar.gz
cd gradm</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">tar xzf gradm*.tar.gz
cd gradm</textarea>
</div>
</div>
<p>Add the iptables patch:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo patch -p1 &lt; ../grsecurity-*-iptables.patch</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo patch -p1 &lt; ../grsecurity-*-iptables.patch</textarea>
</div>
</div>
<p>Compile and install:
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo make install</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo make install</textarea>
</div>
</div>
<p>For the Host install the required build dependencies (make sure <b>apt-transport-tor</b> is installed on host first) then move the patched extracted and patched gradm directory via the shared folder into your home directory. Then run the same commands as above.
</p><p></p><div class="codeContainerNew">
<div class="preDiv">
<pre>sudo apt-get install bison flex</pre>
</div>
<div class="textareaDiv">
<textarea class="codeBoxAreaNew" onfocus="this.select()" readonly="readonly" rows="1">sudo apt-get install bison flex</textarea>
</div>
</div>
<p>Its very important you choose a long password that's different from your root account's.
</p><p>To upgrade to a newer gradm release, re-run the same build commands above.
</p>
<h4><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=8" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=8.html" title="Edit section: Usage">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A detailed <a class="external text" data-href="https://wiki.archlinux.org/index.php/Grsecurity#RBAC" href="https://wiki.archlinux.org/index.php/Grsecurity" rel="noreferrer noopener" target="_blank">guide</a> on generating and enforcing RBAC policy is available on the Arch Linux wiki. Note these instructions apply to all distros.
</p>
<h2><span class="mw-headline" id="How-To:_Qubes-Whonix">How-To: Qubes-Whonix</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=9" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=9.html" title="Edit section: How-To: Qubes-Whonix">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This work is being undertaken by Coldhak and the instructions are drawn almost exclusively from their blog and github account.<sup class="reference" id="cite_ref-8"><a href="#cite_note-8">[8]</a></sup> <sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup> The Debian-8 TemplateVM is currently supported. Work is ongoing to support the Fedora and Whonix TemplateVMs, as well as the Qubes DisposableVM and dom0.<sup class="reference" id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup>
</p><p>Note: These instructions have been tested to work with the 4.8 Linux "coldkernel" in a Debian-8 TemplateVM. At the time of writing, Qubes users report post-build TemplateVM problems when using the 4.9 Linux kernel with pvgrub2 in a Debian-8 template. <sup class="reference" id="cite_ref-11"><a href="#cite_note-11">[11]</a></sup> It is advisable to use the 4.8 Linux coldkernel series until this bug is fixed or alternatively attempt to build the 4.9 Linux coldkernel in a Debian-9 TemplateVM (untested).
</p><p><b>Warning:</b> These instructions are extremely alpha and may potentially break the template. Always clone default templates before proceeding!
</p>
<h3><span class="mw-headline" id="Debian_TemplateVM">Debian TemplateVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=10" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=10.html" title="Edit section: Debian TemplateVM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Configuring_the_Debian_TemplateVM">Configuring the Debian TemplateVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=11" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=11.html" title="Edit section: Configuring the Debian TemplateVM">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>1. Clone the Debian TemplateVM</b>
</p><p><b>2. Increase the Maximum Storage Size of the Debian TemplateVM</b>
</p><p><a class="external free" data-href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/size.png" href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/size.png" rel="noreferrer noopener" target="_blank">https://coldhak.ca/assets/img/blog/coldkernel_pt1/size.png</a>
</p><p>Note: A minimum of 4GB is recommended. 10GB is a safe value so you don't run out of disk space at the end of the build.
</p><p><b>3. Edit sources.list</b>
</p><p>In the Debian TemplateVM, run.
</p>
<pre>sudo nano /etc/apt/sources.list
</pre>
<p>Uncomment the lines starting with deb-src. It should look something like this.
</p>
<pre>deb http://http.debian.net/debian jessie main contrib non-free
deb-src http://http.debian.net/debian jessie main contrib non-free

deb https://security.debian.org jessie/updates main contrib non-free
deb-src https://security.debian.org jessie/updates main contrib non-free
</pre>
<p>Save and exit.
</p><p><b>4. Install dom0 Dependencies</b>
</p><p>In dom0, run.
</p>
<pre>sudo qubes-dom0-update grub2-xen
</pre>
<p><b>5. Install Debian Dependencies</b>
</p><p>In the Debian TemplateVM, run.
</p>
<pre>sudo apt install qubes-kernel-vm-support grub2-common
sudo apt install paxctl bc wget gnupg fakeroot build-essential devscripts libfile-fcntllock-perl git gcc-4.9-plugin-dev
sudo apt-get build-dep linux
</pre>
<h4><span class="mw-headline" id="Building_the_grsec_Coldkernel">Building the grsec Coldkernel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=12" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=12.html" title="Edit section: Building the grsec Coldkernel">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>1. Clone and Verify the Coldkernel Build Scripts</b>
</p><p>Note: Always verify and checkout the latest kernel available from coldhak. For the 4.8 Linux kernel branch, this is version 4.8.17. For the 4.9 Linux kernel branch, as at April 2017 this was version 4.9.20. The 4.8.17 (stable) coldkernel is referenced in instructions below.
</p><p>In the Debian TemplateVM, run.
</p>
<pre>wget "https://coldhak.ca/coldhak/keys/coldhak.asc" -O coldhak.asc
gpg --import coldhak.asc
git clone https://github.com/coldhakca/coldkernel
cd coldkernel
git verify-tag coldkernel-0.9a-4.8.17
git checkout tags/coldkernel-0.9a-4.8.17
</pre>
<p>The verfication step (git verify-tag) should produce a good signature from the Coldhak developers, similar to this.
</p>
<pre>gpg: Signature made Mon 03 Apr 2017 11:50:21 AM EDT using RSA key ID DE32FEBB
gpg: Good signature from "Coldhak developers (signing key) &lt;contact@coldhak.ca&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg: There is no indication that the signature belongs to the owner.
Primary key fingerprint: 1073 B61B 69CB 0444 33B6  4F7B 0B1F 9321 DE32 FEBB
</pre>
<p>The fingerprint should match that found on the coldhak website.
<a class="external free" data-href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png" href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png" rel="noreferrer noopener" target="_blank">https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png</a>
</p><p><b>2. Build the grsec Coldkernel</b>
</p><p>Note: This step can take several hours depending on your computer hardware; later architectures can finish this step in less than one hour. This process is CPU intensive, and the system may crash if other programs are used simultaneously.
</p><p>To make the build with hypervisor support, in the Debian TemplateVM run.
</p>
<pre>make qubes-guest
</pre>
<p>The output should look as follows.
</p>
<pre>patching file coldkernel.config
Importing signing keys...                                                                                                       [DONE]
Removing previous working directory (if one exists)...                                                          [DONE]
Fetching kernel sources and signatures...                                                                            [DONE]
Fetching grsecurity patch and signatures...                                                                          [DONE]
Unpacking Linux Kernel sources...                                                                                        [DONE]
Verifying the Linux Kernel sources...                                                                                     [DONE]
Verifying Kernel patches...                                                                                                    [DONE]
Extracting Linux Kernel sources...                                                                                         [DONE]
Applying grsecurity patch, and moving coldkernel.config into place...                                   [DONE]
Building coldkernel...                                                                                                             [DONE]
</pre>
<h4><span class="mw-headline" id="Installing_the_grsec_Coldkernel">Installing the grsec Coldkernel</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=13" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=13.html" title="Edit section: Installing the grsec Coldkernel">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Note: During the <i>sudo update-grub2</i> step below, this error message can be safely ignored if it appears. <sup class="reference" id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup>
</p>
<pre> grub2-probe: error: cannot find a GRUB drive for /dev/mapper/dmroot. Check your device.map
</pre>
<p>Post-build, in the Debian Template VM run.
</p>
<pre>wget https://grsecurity.net/paxctld/paxctld_1.2.1-1_amd64.{deb,deb.sig}
gpg --homedir=.gnupg --verify paxctld_1.2.1-1_amd64.{deb.sig,deb}
sudo dpkg -i paxctld_1.2.1-1_amd64.deb
sudo make install-deb
sudo cp paxctld.conf /etc/paxctld.conf
sudo paxctld -d
sudo systemctl enable paxctld
sudo mkdir /boot/grub
sudo update-grub2
sudo shutdown -h now
</pre>
<h4><span class="mw-headline" id="Post-install_TemplateVM_Configuration">Post-install TemplateVM Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=14" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=14.html" title="Edit section: Post-install TemplateVM Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>1. Change the Debian TemplateVM Kernel</b>
</p><p>After the TemplateVM has been shutdown, change the kernel in the Qubes VM Manager to use pvgrub2.
</p><p><a class="external free" data-href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/pvgrub.png" href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/pvgrub.png" rel="noreferrer noopener" target="_blank">https://coldhak.ca/assets/img/blog/coldkernel_pt1/pvgrub.png</a>
</p><p><b>2. Check the Debian TemplateVM is Functional</b>
</p><p>Start the Debian TemplateVM. If successful, the VM state should be green in Qubes VM Manager and the VM log should contain output similar to this.
</p>
<pre>Linux Version 4.8.17-coldkernel-grsec-2
</pre>
<p><b>3. Set Default Grsec Special Groups</b>
</p><p>In the Debian TemplateVM, run.
</p>
<pre>sudo groupadd -g 9001 grsecproc
sudo groupadd -g 9002 tpeuntrusted
sudo groupadd -g 9003 denysockets
</pre>
<p>Note: Respectively, users in these groups are:
</p>
<ul><li>Exempted from grsecurity's /proc restrictions.</li>
<li>Unable to execute any files that are not in root-owned directories writable only by root.</li>
<li>Unable to connect to other hosts from your machine or run server applications.</li></ul>
<p><br/>
<b>4. Install paxtest and Check that Grsecurity is Running</b>
</p><p>In the Debian TemplateVM, run.
</p>
<pre>sudo apt-get install paxtest
paxtest blackhat
</pre>
<p>You should see output similar to this.
</p>
<pre>Executable anonymous mapping: Killed
Executable bss: Killed
Executable data: Killed
Executable heap: Killed
Executable stack: Killed
Executable shared library bss: Killed
Executable shared library data: Killed
Executable anonymous mapping (mprotect): Killed
Executable bss (mprotect): Killed
Executable data (mprotect): Killed
Executable heap (mprotect): Killed
Executable stack (mprotect): Killed
Executable shared library bss (mprotect): Killed
Executable shared library data (mprotect): Killed
Writable text segments: Killed
Anonymous mapping randomisation test: 28 bits (guessed)
Heap randomisation test (ET_EXEC): 23 bits (guessed)
Heap randomisation test (PIE): 35 bits (guessed)
Main executable randomisation (ET_EXEC): 28 bits (guessed)
Main executable randomisation (PIE): 28 bits (guessed)
Shared library randomisation test: 28 bits (guessed)
Stack randomisation test (SEGMEXEC): 35 bits (guessed)
Stack randomisation test (PAGEEXEC): 35 bits (guessed)
Arg/env randomisation test (SEGMEXEC): 39 bits (guessed)
Arg/env randomisation test (PAGEEXEC): 39 bits (guessed)
Randomization under memory exhaustion @~0: 29 bits (guessed)
Randomization under memory exhaustion @0: 28 bits (guessed)
Return to function (strcpy): paxtest: return address contains a NULL byte.
Return to function (memcpy): Killed
Return to function (strcpy, PIE): paxtest: return address contains a NULL byte.
Return to function (memcpy, PIE): Killed
</pre>
<p><b>5. <i>Advanced (Untested)</i> - Secure the AppVM Further by Using gradm2 in Learning Mode</b>
</p><p>Follow the steps <a class="external text" data-href="https://en.wikibooks.org/wiki/Grsecurity/The_Administration_Utility#Full_System_Learning" href="https://en.wikibooks.org/wiki/Grsecurity/The_Administration_Utility" rel="noreferrer noopener" target="_blank">here</a>.
</p>
<h4><span class="mw-headline" id="Post-install_Debian_AppVM_Configuration">Post-install Debian AppVM Configuration</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=15" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=15.html" title="Edit section: Post-install Debian AppVM Configuration">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><b>1. Create an AppVM Based on the Debian Coldkernel Template</b>
</p><p><b>2. Change the AppVM Kernel Selection</b>
</p><p>Use Qubes VM Manager to set "pvgrub2" for the AppVM's kernel selection. Otherwise, it defaults to the standard Qubes kernel.
</p>
<h4><span class="mw-headline" id="Upgraded_Kernel_Builds_2">Upgraded Kernel Builds</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=16" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=16.html" title="Edit section: Upgraded Kernel Builds">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>When an upgraded grsec Linux kernel is released by Coldhak, <sup class="reference" id="cite_ref-13"><a href="#cite_note-13">[13]</a></sup> the kernel version of the existing grsec TemplateVM can be bumped via the following steps.
</p><p><b>1. Fetch and Verify the Upgraded Kernel Branch</b>
</p><p>Note: Do not perform the cloning step again. The signing key is not imported again, unless it has changed.
</p><p><i>If the signing key has changed,</i> in the TemplateVM run.
</p>
<pre>wget "https://coldhak.ca/coldhak/keys/coldhak.asc" -O coldhak.asc
gpg --import coldhak.asc
</pre>
<p>In all cases, verify and checkout the upgraded kernel branch (change the kernel reference below to match the updated release) in the TemplateVM.
</p>
<pre>cd coldkernel
git fetch
git verify-tag coldkernel-0.9a-4.9.20
git checkout tags/coldkernel-0.9a-4.9.20
</pre>
<p>The verfication step (git verify-tag) should produce a good signature from the Coldhak developers.
</p>
<pre>gpg: Signature made Mon 03 Apr 2017 11:50:21 AM EDT using RSA key ID DE32FEBB
gpg: Good signature from "Coldhak developers (signing key) &lt;contact@coldhak.ca&gt;"
gpg: WARNING: This key is not certified with a trusted signature!
gpg: There is no indication that the signature belongs to the owner.
Primary key fingerprint: 1073 B61B 69CB 0444 33B6  4F7B 0B1F 9321 DE32 FEBB
</pre>
<p>The fingerprint should match that found on the coldhak website. 
<a class="external free" data-href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png" href="https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png" rel="noreferrer noopener" target="_blank">https://coldhak.ca/assets/img/blog/coldkernel_pt1/verify.png</a>
</p><p><b>2. Build the Upgraded Kernel</b>
</p><p>To make the build with hypervisor support, in the TemplateVM run.
</p>
<pre>make qubes-guest
</pre>
<p>The output should look as follows.
</p>
<pre>patching file coldkernel.config
Importing signing keys...                                                                                                       [DONE]
Removing previous working directory (if one exists)...                                                          [DONE]
Fetching kernel sources and signatures...                                                                            [DONE]
Fetching grsecurity patch and signatures...                                                                          [DONE]
Unpacking Linux Kernel sources...                                                                                        [DONE]
Verifying the Linux Kernel sources...                                                                                     [DONE]
Verifying Kernel patches...                                                                                                    [DONE]
Extracting Linux Kernel sources...                                                                                         [DONE]
Applying grsecurity patch, and moving coldkernel.config into place...                                   [DONE]
Building coldkernel...                                                                                                             [DONE]
</pre>
<p><b>3. Installing the Upgraded grsec Coldkernel</b>
</p><p>paxctld is not downloaded again, unless there was an update. First check: <a class="external free" data-href="https://github.com/coldhakca/coldkernel" href="https://github.com/coldhakca/coldkernel" rel="noreferrer noopener" target="_blank">https://github.com/coldhakca/coldkernel</a> to see if this is required.
</p><p><i>If paxctld has changed,</i> change the paxctld reference below to match the updated release and run in the TemplateVM.
</p>
<pre>wget https://grsecurity.net/paxctld/paxctld_1.2.1-1_amd64.{deb,deb.sig}
gpg --homedir=.gnupg --verify paxctld_1.2.1-1_amd64.{deb.sig,deb}
sudo dpkg -i paxctld_1.2.1-1_amd64.deb 
</pre>
<p>In all cases, repeat these installation steps.
</p>
<pre>sudo make install-deb
sudo cp paxctld.conf /etc/paxctld.conf
sudo paxctld -d
sudo update-grub2
sudo shutdown -h now
</pre>
<p><b>4. Post-install TemplateVM Configuration</b>
</p><p>Follow steps 2-4 <a class="mw-redirect" data-href="/wiki/Grsecurity#Post-install_TemplateVM_Configuration" href="../Grsecurity.html" title="Grsecurity">here</a>, except:
</p>
<ul><li>Do not set default grsec special groups again, unless they have changed.</li>
<li>Do not install paxtest again, only run <i>paxtest blackhat</i> to check grsecurity is running correctly.</li></ul>
<p><br/>
<b>5. Post-install AppVM Configuration</b>
</p><p>Follow <a class="mw-redirect" data-href="/wiki/Grsecurity#Post-install_Debian_AppVM_Configuration" href="../Grsecurity.html" title="Grsecurity">these steps</a> to create a new AppVM based on the upgraded kernel branch.
</p>
<h3><span class="mw-headline" id="Fedora_TemplateVM">Fedora TemplateVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=17" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=17.html" title="Edit section: Fedora TemplateVM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i>To do following Coldhak release.</i>
</p>
<h3><span class="mw-headline" id="Whonix_TemplateVMs">Whonix TemplateVMs</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=18" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=18.html" title="Edit section: Whonix TemplateVMs">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i>To do following Coldhak release.</i>
</p>
<h3><span class="mw-headline" id="Qubes_DisposableVM">Qubes DisposableVM</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=19" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=19.html" title="Edit section: Qubes DisposableVM">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i>To do following Coldhak release.</i>
</p>
<h3><span class="mw-headline" id="Qubes_dom0">Qubes dom0</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=20" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=20.html" title="Edit section: Qubes dom0">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><i>To do following Coldhak release.</i>
</p>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=21" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit&amp;section=21.html" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/linux-scraping/linux-grsecurity/commit/31e606aa9da683109cee72d45c9cda60992f01dc" href="https://github.com/linux-scraping/linux-grsecurity/commit/31e606aa9da683109cee72d45c9cda60992f01dc" rel="noreferrer noopener" target="_blank">https://github.com/linux-scraping/linux-grsecurity/commit/31e606aa9da683109cee72d45c9cda60992f01dc</a></span>
</li>
<li id="cite_note-2"><span class="mw-cite-backlink"><a href="#cite_ref-2">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://grsecurity.net/download.php" href="https://grsecurity.net/download.php" rel="noreferrer noopener" target="_blank">https://grsecurity.net/download.php</a></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://superuser.com/questions/301044/how-to-wget-a-file-with-correct-name-when-redirected" href="https://superuser.com/questions/301044/how-to-wget-a-file-with-correct-name-when-redirected" rel="noreferrer noopener" target="_blank">https://superuser.com/questions/301044/how-to-wget-a-file-with-correct-name-when-redirected</a></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://forums.grsecurity.net/viewtopic.php?f=3&amp;t=3484" href="https://forums.grsecurity.net/viewtopic.php?f=3&amp;t=3484" rel="noreferrer noopener" target="_blank">https://forums.grsecurity.net/viewtopic.php?f=3&amp;t=3484</a></span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options" href="https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options" rel="noreferrer noopener" target="_blank">https://en.wikibooks.org/wiki/Grsecurity/Appendix/Grsecurity_and_PaX_Configuration_Options</a></span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://en.wikibooks.org/wiki/Grsecurity/Runtime_Configuration" href="https://en.wikibooks.org/wiki/Grsecurity/Runtime_Configuration" rel="noreferrer noopener" target="_blank">https://en.wikibooks.org/wiki/Grsecurity/Runtime_Configuration</a></span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">↑</a></span> <span class="reference-text"><a class="external free" data-href="http://www.insanitybit.com/2012/05/31/compile-and-patch-your-own-secure-linux-kernel-with-pax-and-grsecurity/" href="http://www.insanitybit.com/2012/05/31/compile-and-patch-your-own-secure-linux-kernel-with-pax-and-grsecurity/" rel="noreferrer noopener" target="_blank">http://www.insanitybit.com/2012/05/31/compile-and-patch-your-own-secure-linux-kernel-with-pax-and-grsecurity/</a></span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite_ref-8">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://coldhak.ca/blog/2016/12/12/coldkernel-qubes-1.html" href="https://coldhak.ca/blog/2016/12/12/coldkernel-qubes-1.html" rel="noreferrer noopener" target="_blank">https://coldhak.ca/blog/2016/12/12/coldkernel-qubes-1.html</a></span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/coldhakca/coldkernel" href="https://github.com/coldhakca/coldkernel" rel="noreferrer noopener" target="_blank">https://github.com/coldhakca/coldkernel</a></span>
</li>
<li id="cite_note-10"><span class="mw-cite-backlink"><a href="#cite_ref-10">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/coldhakca/coldkernel/issues" href="https://github.com/coldhakca/coldkernel/issues" rel="noreferrer noopener" target="_blank">https://github.com/coldhakca/coldkernel/issues</a></span>
</li>
<li id="cite_note-11"><span class="mw-cite-backlink"><a href="#cite_ref-11">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/QubesOS/qubes-issues/issues/2762" href="https://github.com/QubesOS/qubes-issues/issues/2762" rel="noreferrer noopener" target="_blank">https://github.com/QubesOS/qubes-issues/issues/2762</a></span>
</li>
<li id="cite_note-12"><span class="mw-cite-backlink"><a href="#cite_ref-12">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/QubesOS/qubes-doc/blob/master/configuration/managing-vm-kernel.md" href="https://github.com/QubesOS/qubes-doc/blob/master/configuration/managing-vm-kernel.md" rel="noreferrer noopener" target="_blank">https://github.com/QubesOS/qubes-doc/blob/master/configuration/managing-vm-kernel.md</a></span>
</li>
<li id="cite_note-13"><span class="mw-cite-backlink"><a href="#cite_ref-13">↑</a></span> <span class="reference-text"><a class="external free" data-href="https://github.com/coldhakca/coldkernel" href="https://github.com/coldhakca/coldkernel" rel="noreferrer noopener" target="_blank">https://github.com/coldhakca/coldkernel</a></span>
</li>
</ol></div></div>
<hr/>
<div style="padding-bottom:1px; padding-top:6px; border:thin solid black; background:#EEEEEE; text-align:center;"><u>Random News:</u>
<p>Are you proficient with <b>iptables</b>? Want to contribute? Check out possible <a class="external text" data-href="https://phabricator.whonix.org/maniphest/?statuses=open%28%29&amp;projects=PHID-PROJ-aanxoadr5ziixgbisy22#R" href="https://phabricator.whonix.org/maniphest/?statuses=open%28%29&amp;projects=PHID-PROJ-aanxoadr5ziixgbisy22" rel="noreferrer noopener" target="_blank">improvements to iptables</a>. Please come and introduce yourself in the <a class="external text" data-href="https://forums.whonix.org/c/development" href="https://forums.whonix.org/c/development" rel="noreferrer noopener" target="_blank">development forum</a>.
</p>
</div>
<hr/><p><font size="-1"><a class="external text" data-href="../Deprecated/grsecurity" href="../Deprecated/grsecurity" rel="noreferrer noopener" target="_blank">https</a> | (<a data-href="/wiki/Forcing_.onion_on_Whonix.org" href="../Forcing_.onion_on_Whonix.org.html" title="Forcing .onion on Whonix.org">forcing</a>) <a class="external text" data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Deprecated/grsecurity" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/Deprecated/grsecurity" rel="noreferrer noopener" target="_blank">onion</a><br/>
</font></p><font size="-1"></font><p><font size="-1">Share: <a data-href="https://twitter.com/intent/tweet?url=../Deprecated/grsecurity&amp;text=&amp;via=Whonix" href="https://twitter.com/intent/tweet?url=../Deprecated/grsecurity&amp;text=&amp;via=Whonix">Twitter</a>
|
<a data-href="https://facebook.com/sharer.php?u=../Deprecated/grsecurity" href="https://facebook.com/sharer.php?u=../Deprecated/grsecurity">Facebook</a></font>
</p><p><font size="-1">This is a wiki. Want to improve this page? Help is welcome and volunteer contributions are happily considered! See <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" href="https://github.com/Whonix/Whonix/blob/master/CONTRIBUTING.md" rel="noreferrer noopener" target="_blank">Conditions for Contributions to Whonix</a>, then <a data-href="/w/index.php?title=Deprecated/grsecurity&amp;action=edit" href="https://www.whonix.org/w/index.php?title=Deprecated/grsecurity&amp;action=edit">Edit</a>! IP addresses are scrubbed, but editing over Tor is recommended. Edits are held for moderation.</font>
</p><p><font size="-1">Whonix is a <a class="external text" data-href="http://www.openinventionnetwork.com/licensees.php" href="http://www.openinventionnetwork.com/licensees.php" rel="noreferrer noopener" target="_blank">licensee</a> of the Open Invention Network. Unless otherwise noted, the content of this page is <a data-href="/wiki/Whonix:Copyrights" href="../Whonix:Copyrights.html" title="Whonix:Copyrights">copyrighted</a> and licensed under the same Libre Software <a class="external text" data-href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" href="https://github.com/Whonix/Whonix/blob/master/debian/copyright" rel="noreferrer noopener" target="_blank">license</a> as Whonix itself. (<a data-href="/wiki/Why_Whonix_is_Free_Software" href="../Why_Whonix_is_Free_Software.html" title="Why Whonix is Free Software">Why?</a>)</font>
</p><p><font size="-1">Whonix is provided by ENCRYPTED SUPPORT LP. See <a class="mw-redirect" data-href="/wiki/Impressum" href="../Impressum.html" title="Impressum">Imprint</a>.</font>
</p>
<!-- 
NewPP limit report
Cached time: 20181222132855
Cache expiry: 0
Dynamic content: true
CPU time usage: 0.144 seconds
Real time usage: 0.155 seconds
Preprocessor visited node count: 764/1000000
Preprocessor generated node count: 2001/1000000
Post‐expand include size: 3962/2097152 bytes
Template argument size: 1909/2097152 bytes
Highest expansion depth: 5/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 16043/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  114.345      1 -total
 51.77%   59.192     21 Template:CodeSelect
 12.46%   14.248      1 Template:Footer
 12.18%   13.933      1 Template:Reflist
  6.96%    7.961      1 Template:Header
  3.57%    4.080      1 Template:Edit_it
  3.32%    3.798      1 Template:Share
  1.90%    2.175      1 Template:RandomNews
  1.56%    1.787      1 Template:Whonix_onion
-->
</div></div><div class="printfooter">
Retrieved from "<a data-href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/index.php?title=Deprecated/grsecurity&amp;oldid=35105" dir="ltr" href="http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/index.php?title=Deprecated/grsecurity&amp;oldid=35105">http://dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/index.php?title=Deprecated/grsecurity&amp;oldid=35105</a>"</div>
<div class="clear_both"></div>
</div>
<div class="group"><div class="catlinks" data-mw="interface" id="catlinks"><div class="mw-normal-catlinks" id="mw-normal-catlinks"><a data-href="/wiki/Special:Categories" href="../Special:Categories.html" title="Special:Categories">Category</a>: <ul><li><a data-href="/wiki/Category:Documentation" href="../Category:Documentation.html" title="Category:Documentation">Documentation</a></li></ul></div></div></div>
</div>
</div>
</div>
<footer class="row">
<div id="footer">
<div class="small-12 large-centered columns text-center" id="footer-left">
<ul id="footer-left">
<li id="footer-lastmod"> This page was last edited on 1 August 2018, at 06:07.</li>
<li id="footer-Imprint"><a data-href="/wiki/Imprint" href="../Imprint.html" title="Imprint">Imprint</a></li>
<li id="footer-Privacy_Policy"><a data-href="/wiki/Privacy_Policy" href="../Privacy_Policy.html" title="Privacy Policy">Privacy Policy</a></li>
<li id="footer-Disclaimer"><a class="mw-redirect" data-href="/wiki/Disclaimer" href="../Disclaimer.html" title="Disclaimer">Disclaimer</a></li>
<li id="footer-Terms_of_Service"><a class="mw-redirect" data-href="/wiki/Terms_of_Service" href="../Terms_of_Service.html" title="Terms of Service">Terms of Service</a></li>
<li id="footer-Priority_Support"><a data-href="/wiki/Priority_Support" href="../Priority_Support.html" title="Priority Support">Priority Support</a></li>
<li id="footer-Investors"><a data-href="/wiki/Investors" href="../Investors.html" title="Investors">Investors</a></li>
<li id="footer-Professional_Support"><a data-href="/wiki/Professional_Support" href="../Professional_Support.html" title="Professional Support">Professional Support</a></li>
</ul>
</div>
<div class="large-12 small-12 columns" id="footer-right-icons">
<ul id="poweredby">
</ul>
</div>
</div>
</footer>
</div>

</body>
<!-- Cached/compressed 20181222132855 -->
</html>
